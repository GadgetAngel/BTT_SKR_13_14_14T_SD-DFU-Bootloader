   1              	 .cpu cortex-m3
   2              	 .eabi_attribute 20,1
   3              	 .eabi_attribute 21,1
   4              	 .eabi_attribute 23,3
   5              	 .eabi_attribute 24,1
   6              	 .eabi_attribute 25,1
   7              	 .eabi_attribute 26,1
   8              	 .eabi_attribute 30,4
   9              	 .eabi_attribute 34,1
  10              	 .eabi_attribute 18,4
  11              	 .file "lpc17xx_can.c"
  12              	 .text
  13              	.Ltext0:
  14              	 .cfi_sections .debug_frame
  15              	 .section .text.CAN_Init,"ax",%progbits
  16              	 .align 1
  17              	 .global CAN_Init
  18              	 .syntax unified
  19              	 .thumb
  20              	 .thumb_func
  21              	 .fpu softvfp
  23              	CAN_Init:
  24              	.LFB56:
  25              	 .file 1 "LPC17xxLib/src/lpc17xx_can.c"
   1:LPC17xxLib/src/lpc17xx_can.c **** #ifdef __LPC17XX__
   2:LPC17xxLib/src/lpc17xx_can.c **** 
   3:LPC17xxLib/src/lpc17xx_can.c **** /**********************************************************************
   4:LPC17xxLib/src/lpc17xx_can.c **** * $Id$		lpc17xx_can.c				2011-03-09
   5:LPC17xxLib/src/lpc17xx_can.c **** *//**
   6:LPC17xxLib/src/lpc17xx_can.c **** * @file		lpc17xx_can.c
   7:LPC17xxLib/src/lpc17xx_can.c **** * @brief	Contains all functions support for CAN firmware library on LPC17xx
   8:LPC17xxLib/src/lpc17xx_can.c **** * @version	3.3
   9:LPC17xxLib/src/lpc17xx_can.c **** * @date		09. March. 2011
  10:LPC17xxLib/src/lpc17xx_can.c **** * @author	NXP MCU SW Application Team
  11:LPC17xxLib/src/lpc17xx_can.c **** *
  12:LPC17xxLib/src/lpc17xx_can.c **** * Copyright(C) 2011, NXP Semiconductor
  13:LPC17xxLib/src/lpc17xx_can.c **** * All rights reserved.
  14:LPC17xxLib/src/lpc17xx_can.c **** *
  15:LPC17xxLib/src/lpc17xx_can.c **** ***********************************************************************
  16:LPC17xxLib/src/lpc17xx_can.c **** * Software that is described herein is for illustrative purposes only
  17:LPC17xxLib/src/lpc17xx_can.c **** * which provides customers with programming information regarding the
  18:LPC17xxLib/src/lpc17xx_can.c **** * products. This software is supplied "AS IS" without any warranties.
  19:LPC17xxLib/src/lpc17xx_can.c **** * NXP Semiconductors assumes no responsibility or liability for the
  20:LPC17xxLib/src/lpc17xx_can.c **** * use of the software, conveys no license or title under any patent,
  21:LPC17xxLib/src/lpc17xx_can.c **** * copyright, or mask work right to the product. NXP Semiconductors
  22:LPC17xxLib/src/lpc17xx_can.c **** * reserves the right to make changes in the software without
  23:LPC17xxLib/src/lpc17xx_can.c **** * notification. NXP Semiconductors also make no representation or
  24:LPC17xxLib/src/lpc17xx_can.c **** * warranty that such application will be suitable for the specified
  25:LPC17xxLib/src/lpc17xx_can.c **** * use without further testing or modification.
  26:LPC17xxLib/src/lpc17xx_can.c **** **********************************************************************/
  27:LPC17xxLib/src/lpc17xx_can.c **** 
  28:LPC17xxLib/src/lpc17xx_can.c **** /* Peripheral group ----------------------------------------------------------- */
  29:LPC17xxLib/src/lpc17xx_can.c **** /** @addtogroup CAN
  30:LPC17xxLib/src/lpc17xx_can.c ****  * @{
  31:LPC17xxLib/src/lpc17xx_can.c ****  */
  32:LPC17xxLib/src/lpc17xx_can.c **** 
  33:LPC17xxLib/src/lpc17xx_can.c **** /* Includes ------------------------------------------------------------------- */
  34:LPC17xxLib/src/lpc17xx_can.c **** #include "lpc17xx_can.h"
  35:LPC17xxLib/src/lpc17xx_can.c **** #include "lpc17xx_clkpwr.h"
  36:LPC17xxLib/src/lpc17xx_can.c **** 
  37:LPC17xxLib/src/lpc17xx_can.c **** /* If this source file built with example, the LPC17xx FW library configuration
  38:LPC17xxLib/src/lpc17xx_can.c ****  * file in each example directory ("lpc17xx_libcfg.h") must be included,
  39:LPC17xxLib/src/lpc17xx_can.c ****  * otherwise the default FW library configuration file must be included instead
  40:LPC17xxLib/src/lpc17xx_can.c ****  */
  41:LPC17xxLib/src/lpc17xx_can.c **** #ifdef __BUILD_WITH_EXAMPLE__
  42:LPC17xxLib/src/lpc17xx_can.c **** #include "lpc17xx_libcfg.h"
  43:LPC17xxLib/src/lpc17xx_can.c **** #else
  44:LPC17xxLib/src/lpc17xx_can.c **** #include "lpc17xx_libcfg_default.h"
  45:LPC17xxLib/src/lpc17xx_can.c **** #endif /* __BUILD_WITH_EXAMPLE__ */
  46:LPC17xxLib/src/lpc17xx_can.c **** 
  47:LPC17xxLib/src/lpc17xx_can.c **** 
  48:LPC17xxLib/src/lpc17xx_can.c **** #ifdef _CAN
  49:LPC17xxLib/src/lpc17xx_can.c **** 
  50:LPC17xxLib/src/lpc17xx_can.c **** /* Private Variables ---------------------------------------------------------- */
  51:LPC17xxLib/src/lpc17xx_can.c **** /** @defgroup CAN_Private_Variables CAN Private Variables
  52:LPC17xxLib/src/lpc17xx_can.c ****  * @{
  53:LPC17xxLib/src/lpc17xx_can.c ****  */
  54:LPC17xxLib/src/lpc17xx_can.c **** 
  55:LPC17xxLib/src/lpc17xx_can.c **** FunctionalState FULLCAN_ENABLE;
  56:LPC17xxLib/src/lpc17xx_can.c **** 
  57:LPC17xxLib/src/lpc17xx_can.c **** 
  58:LPC17xxLib/src/lpc17xx_can.c **** /* Counts number of filters (CAN message objects) used */
  59:LPC17xxLib/src/lpc17xx_can.c **** uint16_t CANAF_FullCAN_cnt = 0;
  60:LPC17xxLib/src/lpc17xx_can.c **** uint16_t CANAF_std_cnt = 0;
  61:LPC17xxLib/src/lpc17xx_can.c **** uint16_t CANAF_gstd_cnt = 0;
  62:LPC17xxLib/src/lpc17xx_can.c **** uint16_t CANAF_ext_cnt = 0;
  63:LPC17xxLib/src/lpc17xx_can.c **** uint16_t CANAF_gext_cnt = 0;
  64:LPC17xxLib/src/lpc17xx_can.c **** 
  65:LPC17xxLib/src/lpc17xx_can.c **** /* End of Private Variables ----------------------------------------------------*/
  66:LPC17xxLib/src/lpc17xx_can.c **** /**
  67:LPC17xxLib/src/lpc17xx_can.c ****  * @}
  68:LPC17xxLib/src/lpc17xx_can.c ****  */
  69:LPC17xxLib/src/lpc17xx_can.c **** 
  70:LPC17xxLib/src/lpc17xx_can.c **** /* Private Variables ---------------------------------------------------------- */
  71:LPC17xxLib/src/lpc17xx_can.c **** static void can_SetBaudrate (LPC_CAN_TypeDef *CANx, uint32_t baudrate);
  72:LPC17xxLib/src/lpc17xx_can.c **** 
  73:LPC17xxLib/src/lpc17xx_can.c **** /*********************************************************************//**
  74:LPC17xxLib/src/lpc17xx_can.c ****  * @brief 		Setting CAN baud rate (bps)
  75:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in] 	CANx point to LPC_CAN_TypeDef object, should be:
  76:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN1: CAN1 peripheral
  77:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN2: CAN2 peripheral
  78:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	baudrate: is the baud rate value will be set
  79:LPC17xxLib/src/lpc17xx_can.c ****  * @return 		None
  80:LPC17xxLib/src/lpc17xx_can.c ****  ***********************************************************************/
  81:LPC17xxLib/src/lpc17xx_can.c **** static void can_SetBaudrate (LPC_CAN_TypeDef *CANx, uint32_t baudrate)
  82:LPC17xxLib/src/lpc17xx_can.c **** {
  83:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t result = 0;
  84:LPC17xxLib/src/lpc17xx_can.c **** 	uint8_t NT, TSEG1, TSEG2, BRFail;
  85:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t CANPclk = 0;
  86:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t BRP;
  87:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CANx(CANx));
  88:LPC17xxLib/src/lpc17xx_can.c **** 
  89:LPC17xxLib/src/lpc17xx_can.c **** 	if (CANx == LPC_CAN1)
  90:LPC17xxLib/src/lpc17xx_can.c **** 	{
  91:LPC17xxLib/src/lpc17xx_can.c **** 		CANPclk = CLKPWR_GetPCLK (CLKPWR_PCLKSEL_CAN1);
  92:LPC17xxLib/src/lpc17xx_can.c **** 	}
  93:LPC17xxLib/src/lpc17xx_can.c **** 	else
  94:LPC17xxLib/src/lpc17xx_can.c **** 	{
  95:LPC17xxLib/src/lpc17xx_can.c **** 		CANPclk = CLKPWR_GetPCLK (CLKPWR_PCLKSEL_CAN2);
  96:LPC17xxLib/src/lpc17xx_can.c **** 	}
  97:LPC17xxLib/src/lpc17xx_can.c **** 	result = CANPclk / baudrate;
  98:LPC17xxLib/src/lpc17xx_can.c **** 	/* Calculate suitable nominal time value
  99:LPC17xxLib/src/lpc17xx_can.c **** 	 * NT (nominal time) = (TSEG1 + TSEG2 + 3)
 100:LPC17xxLib/src/lpc17xx_can.c **** 	 * NT <= 24
 101:LPC17xxLib/src/lpc17xx_can.c **** 	 * TSEG1 >= 2*TSEG2
 102:LPC17xxLib/src/lpc17xx_can.c **** 	 */
 103:LPC17xxLib/src/lpc17xx_can.c **** 	BRFail = 1;
 104:LPC17xxLib/src/lpc17xx_can.c **** 	for(NT=24;NT>0;NT=NT-2)
 105:LPC17xxLib/src/lpc17xx_can.c **** 	{
 106:LPC17xxLib/src/lpc17xx_can.c **** 		if ((result%NT)==0)
 107:LPC17xxLib/src/lpc17xx_can.c **** 		{
 108:LPC17xxLib/src/lpc17xx_can.c **** 			BRP = result / NT - 1;
 109:LPC17xxLib/src/lpc17xx_can.c **** 			NT--;
 110:LPC17xxLib/src/lpc17xx_can.c **** 			TSEG2 = (NT/3) - 1;
 111:LPC17xxLib/src/lpc17xx_can.c **** 			TSEG1 = NT -(NT/3) - 1;
 112:LPC17xxLib/src/lpc17xx_can.c **** 			BRFail = 0;
 113:LPC17xxLib/src/lpc17xx_can.c **** 			break;
 114:LPC17xxLib/src/lpc17xx_can.c **** 		}
 115:LPC17xxLib/src/lpc17xx_can.c **** 	}
 116:LPC17xxLib/src/lpc17xx_can.c **** 	if(BRFail)
 117:LPC17xxLib/src/lpc17xx_can.c **** 		while(1); // Failed to calculate exact CAN baud rate
 118:LPC17xxLib/src/lpc17xx_can.c **** 	/* Enter reset mode */
 119:LPC17xxLib/src/lpc17xx_can.c **** 	CANx->MOD = 0x01;
 120:LPC17xxLib/src/lpc17xx_can.c **** 	/* Set bit timing
 121:LPC17xxLib/src/lpc17xx_can.c **** 	 * Default: SAM = 0x00;
 122:LPC17xxLib/src/lpc17xx_can.c **** 	 *          SJW = 0x03;
 123:LPC17xxLib/src/lpc17xx_can.c **** 	 */
 124:LPC17xxLib/src/lpc17xx_can.c **** 	CANx->BTR  = (TSEG2<<20)|(TSEG1<<16)|(3<<14)|BRP;
 125:LPC17xxLib/src/lpc17xx_can.c **** 	/* Return to normal operating */
 126:LPC17xxLib/src/lpc17xx_can.c **** 	CANx->MOD = 0;
 127:LPC17xxLib/src/lpc17xx_can.c **** }
 128:LPC17xxLib/src/lpc17xx_can.c **** /* End of Private Functions ----------------------------------------------------*/
 129:LPC17xxLib/src/lpc17xx_can.c **** 
 130:LPC17xxLib/src/lpc17xx_can.c **** 
 131:LPC17xxLib/src/lpc17xx_can.c **** /* Public Functions ----------------------------------------------------------- */
 132:LPC17xxLib/src/lpc17xx_can.c **** /** @addtogroup CAN_Public_Functions
 133:LPC17xxLib/src/lpc17xx_can.c ****  * @{
 134:LPC17xxLib/src/lpc17xx_can.c ****  */
 135:LPC17xxLib/src/lpc17xx_can.c **** 
 136:LPC17xxLib/src/lpc17xx_can.c **** /********************************************************************//**
 137:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		Initialize CAN peripheral with given baudrate
 138:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CANx pointer to LPC_CAN_TypeDef, should be:
 139:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN1: CAN1 peripheral
 140:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN2: CAN2 peripheral
 141:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	baudrate: the value of CAN baudrate will be set (bps)
 142:LPC17xxLib/src/lpc17xx_can.c ****  * @return 		None
 143:LPC17xxLib/src/lpc17xx_can.c ****  *********************************************************************/
 144:LPC17xxLib/src/lpc17xx_can.c **** void CAN_Init(LPC_CAN_TypeDef *CANx, uint32_t baudrate)
 145:LPC17xxLib/src/lpc17xx_can.c **** {
  26              	 .loc 1 145 0
  27              	 .cfi_startproc
  28              	 
  29              	 
  30              	.LVL0:
  31 0000 73B5     	 push {r0,r1,r4,r5,r6,lr}
  32              	 .cfi_def_cfa_offset 24
  33              	 .cfi_offset 4,-16
  34              	 .cfi_offset 5,-12
  35              	 .cfi_offset 6,-8
  36              	 .cfi_offset 14,-4
  37              	 .loc 1 145 0
  38 0002 0446     	 mov r4,r0
 146:LPC17xxLib/src/lpc17xx_can.c **** 	volatile uint32_t temp;
 147:LPC17xxLib/src/lpc17xx_can.c **** 	uint16_t i;
 148:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CANx(CANx));
 149:LPC17xxLib/src/lpc17xx_can.c **** 
 150:LPC17xxLib/src/lpc17xx_can.c **** 	if(CANx == LPC_CAN1)
  39              	 .loc 1 150 0
  40 0004 454B     	 ldr r3,.L15
 145:LPC17xxLib/src/lpc17xx_can.c **** 	volatile uint32_t temp;
  41              	 .loc 1 145 0
  42 0006 0D46     	 mov r5,r1
  43              	 .loc 1 150 0
  44 0008 9842     	 cmp r0,r3
 151:LPC17xxLib/src/lpc17xx_can.c **** 	{
 152:LPC17xxLib/src/lpc17xx_can.c **** 		/* Turn on power and clock for CAN1 */
 153:LPC17xxLib/src/lpc17xx_can.c **** 		CLKPWR_ConfigPPWR(CLKPWR_PCONP_PCAN1, ENABLE);
  45              	 .loc 1 153 0
  46 000a 08BF     	 it eq
  47 000c 4FF40050 	 moveq r0,#8192
  48              	.LVL1:
  49 0010 434B     	 ldr r3,.L15+4
 154:LPC17xxLib/src/lpc17xx_can.c **** 		/* Set clock divide for CAN1 */
 155:LPC17xxLib/src/lpc17xx_can.c **** 	}
 156:LPC17xxLib/src/lpc17xx_can.c **** 	else
 157:LPC17xxLib/src/lpc17xx_can.c **** 	{
 158:LPC17xxLib/src/lpc17xx_can.c **** 		/* Turn on power and clock for CAN1 */
 159:LPC17xxLib/src/lpc17xx_can.c **** 		CLKPWR_ConfigPPWR(CLKPWR_PCONP_PCAN2, ENABLE);
  50              	 .loc 1 159 0
  51 0012 18BF     	 it ne
  52 0014 4FF48040 	 movne r0,#16384
 153:LPC17xxLib/src/lpc17xx_can.c **** 		/* Set clock divide for CAN1 */
  53              	 .loc 1 153 0
  54 0018 0121     	 movs r1,#1
  55              	.LVL2:
  56              	 .loc 1 159 0
  57 001a 9847     	 blx r3
  58              	.LVL3:
 160:LPC17xxLib/src/lpc17xx_can.c **** 		/* Set clock divide for CAN2 */
 161:LPC17xxLib/src/lpc17xx_can.c **** 	}
 162:LPC17xxLib/src/lpc17xx_can.c **** 	CLKPWR_SetPCLKDiv (CLKPWR_PCLKSEL_CAN1, CLKPWR_PCLKSEL_CCLK_DIV_2);
  59              	 .loc 1 162 0
  60 001c 414E     	 ldr r6,.L15+8
  61 001e 0221     	 movs r1,#2
  62 0020 1A20     	 movs r0,#26
  63 0022 B047     	 blx r6
  64              	.LVL4:
 163:LPC17xxLib/src/lpc17xx_can.c **** 	CLKPWR_SetPCLKDiv (CLKPWR_PCLKSEL_CAN2, CLKPWR_PCLKSEL_CCLK_DIV_2);
  65              	 .loc 1 163 0
  66 0024 0221     	 movs r1,#2
  67 0026 1C20     	 movs r0,#28
  68 0028 B047     	 blx r6
  69              	.LVL5:
 164:LPC17xxLib/src/lpc17xx_can.c **** 	CLKPWR_SetPCLKDiv (CLKPWR_PCLKSEL_ACF, CLKPWR_PCLKSEL_CCLK_DIV_2);
  70              	 .loc 1 164 0
  71 002a 0221     	 movs r1,#2
  72 002c 1E20     	 movs r0,#30
  73 002e B047     	 blx r6
  74              	.LVL6:
 165:LPC17xxLib/src/lpc17xx_can.c **** 
 166:LPC17xxLib/src/lpc17xx_can.c **** 	CANx->MOD = 1; // Enter Reset Mode
  75              	 .loc 1 166 0
  76 0030 0121     	 movs r1,#1
  77 0032 2378     	 ldrb r3,[r4]
  78 0034 0023     	 movs r3,#0
  79 0036 2170     	 strb r1,[r4]
  80 0038 6278     	 ldrb r2,[r4,#1]
  81 003a 6370     	 strb r3,[r4,#1]
  82 003c A278     	 ldrb r2,[r4,#2]
  83 003e A370     	 strb r3,[r4,#2]
  84 0040 E278     	 ldrb r2,[r4,#3]
  85 0042 E370     	 strb r3,[r4,#3]
 167:LPC17xxLib/src/lpc17xx_can.c **** 	CANx->IER = 0; // Disable All CAN Interrupts
  86              	 .loc 1 167 0
  87 0044 227C     	 ldrb r2,[r4,#16]
  88 0046 2374     	 strb r3,[r4,#16]
  89 0048 627C     	 ldrb r2,[r4,#17]
  90 004a 6374     	 strb r3,[r4,#17]
  91 004c A27C     	 ldrb r2,[r4,#18]
  92 004e A374     	 strb r3,[r4,#18]
  93 0050 E27C     	 ldrb r2,[r4,#19]
  94 0052 E374     	 strb r3,[r4,#19]
 168:LPC17xxLib/src/lpc17xx_can.c **** 	CANx->GSR = 0;
  95              	 .loc 1 168 0
  96 0054 227A     	 ldrb r2,[r4,#8]
  97 0056 2372     	 strb r3,[r4,#8]
  98 0058 627A     	 ldrb r2,[r4,#9]
  99 005a 6372     	 strb r3,[r4,#9]
 100 005c A27A     	 ldrb r2,[r4,#10]
 101 005e A372     	 strb r3,[r4,#10]
 102 0060 E27A     	 ldrb r2,[r4,#11]
 103 0062 E372     	 strb r3,[r4,#11]
 169:LPC17xxLib/src/lpc17xx_can.c **** 	/* Request command to release Rx, Tx buffer and clear data overrun */
 170:LPC17xxLib/src/lpc17xx_can.c **** 	//CANx->CMR = CAN_CMR_AT | CAN_CMR_RRB | CAN_CMR_CDO;
 171:LPC17xxLib/src/lpc17xx_can.c **** 	CANx->CMR = (1<<1)|(1<<2)|(1<<3);
 104              	 .loc 1 171 0
 105 0064 2279     	 ldrb r2,[r4,#4]
 106 0066 0E22     	 movs r2,#14
 107 0068 2271     	 strb r2,[r4,#4]
 108 006a 6279     	 ldrb r2,[r4,#5]
 109 006c 6371     	 strb r3,[r4,#5]
 110 006e A279     	 ldrb r2,[r4,#6]
 111 0070 A371     	 strb r3,[r4,#6]
 112 0072 E279     	 ldrb r2,[r4,#7]
 113 0074 E371     	 strb r3,[r4,#7]
 172:LPC17xxLib/src/lpc17xx_can.c **** 	/* Read to clear interrupt pending in interrupt capture register */
 173:LPC17xxLib/src/lpc17xx_can.c **** 	temp = CANx->ICR;
 114              	 .loc 1 173 0
 115 0076 E268     	 ldr r2,[r4,#12]
 174:LPC17xxLib/src/lpc17xx_can.c **** 	CANx->MOD = 0;// Return Normal operating
 175:LPC17xxLib/src/lpc17xx_can.c **** 
 176:LPC17xxLib/src/lpc17xx_can.c **** 	//Reset CANAF value
 177:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->AFMR = 0x01;
 178:LPC17xxLib/src/lpc17xx_can.c **** 
 179:LPC17xxLib/src/lpc17xx_can.c **** 	//clear ALUT RAM
 180:LPC17xxLib/src/lpc17xx_can.c **** 	for (i = 0; i < 512; i++) {
 181:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF_RAM->mask[i] = 0x00;
 116              	 .loc 1 181 0
 117 0078 2B48     	 ldr r0,.L15+12
 173:LPC17xxLib/src/lpc17xx_can.c **** 	CANx->MOD = 0;// Return Normal operating
 118              	 .loc 1 173 0
 119 007a 0192     	 str r2,[sp,#4]
 174:LPC17xxLib/src/lpc17xx_can.c **** 	CANx->MOD = 0;// Return Normal operating
 120              	 .loc 1 174 0
 121 007c 2278     	 ldrb r2,[r4]
 122 007e 2370     	 strb r3,[r4]
 123 0080 6278     	 ldrb r2,[r4,#1]
 124 0082 6370     	 strb r3,[r4,#1]
 125 0084 A278     	 ldrb r2,[r4,#2]
 126 0086 A370     	 strb r3,[r4,#2]
 127 0088 E278     	 ldrb r2,[r4,#3]
 177:LPC17xxLib/src/lpc17xx_can.c **** 
 128              	 .loc 1 177 0
 129 008a 284A     	 ldr r2,.L15+16
 174:LPC17xxLib/src/lpc17xx_can.c **** 	CANx->MOD = 0;// Return Normal operating
 130              	 .loc 1 174 0
 131 008c E370     	 strb r3,[r4,#3]
 177:LPC17xxLib/src/lpc17xx_can.c **** 
 132              	 .loc 1 177 0
 133 008e 1160     	 str r1,[r2]
 134              	.LVL7:
 135              	 .loc 1 181 0
 136 0090 1946     	 mov r1,r3
 137              	.LVL8:
 138              	.L4:
 139              	 .loc 1 181 0 is_stmt 0 discriminator 3
 140 0092 40F82310 	 str r1,[r0,r3,lsl#2]
 141              	.LVL9:
 142 0096 0133     	 adds r3,r3,#1
 143              	.LVL10:
 180:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF_RAM->mask[i] = 0x00;
 144              	 .loc 1 180 0 is_stmt 1 discriminator 3
 145 0098 B3F5007F 	 cmp r3,#512
 146 009c F9D1     	 bne .L4
 147              	.LBB4:
 148              	.LBB5:
  89:LPC17xxLib/src/lpc17xx_can.c **** 	{
 149              	 .loc 1 89 0
 150 009e 1F4B     	 ldr r3,.L15
 151              	.LBE5:
 152              	.LBE4:
 182:LPC17xxLib/src/lpc17xx_can.c **** 	}
 183:LPC17xxLib/src/lpc17xx_can.c **** 
 184:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->SFF_sa = 0x00;
 153              	 .loc 1 184 0
 154 00a0 5160     	 str r1,[r2,#4]
 155              	.LBB11:
 156              	.LBB6:
  89:LPC17xxLib/src/lpc17xx_can.c **** 	{
 157              	 .loc 1 89 0
 158 00a2 9C42     	 cmp r4,r3
 159              	.LBE6:
 160              	.LBE11:
 185:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->SFF_GRP_sa = 0x00;
 161              	 .loc 1 185 0
 162 00a4 9160     	 str r1,[r2,#8]
 163 00a6 224B     	 ldr r3,.L15+20
 186:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->EFF_sa = 0x00;
 164              	 .loc 1 186 0
 165 00a8 D160     	 str r1,[r2,#12]
 166              	.LBB12:
 167              	.LBB7:
  91:LPC17xxLib/src/lpc17xx_can.c **** 	}
 168              	 .loc 1 91 0
 169 00aa 08BF     	 it eq
 170 00ac 1A20     	 moveq r0,#26
 171              	.LBE7:
 172              	.LBE12:
 187:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->EFF_GRP_sa = 0x00;
 173              	 .loc 1 187 0
 174 00ae 1161     	 str r1,[r2,#16]
 175              	.LBB13:
 176              	.LBB8:
  95:LPC17xxLib/src/lpc17xx_can.c **** 	}
 177              	 .loc 1 95 0
 178 00b0 18BF     	 it ne
 179 00b2 1C20     	 movne r0,#28
 180              	.LBE8:
 181              	.LBE13:
 188:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->ENDofTable = 0x00;
 182              	 .loc 1 188 0
 183 00b4 5161     	 str r1,[r2,#20]
 189:LPC17xxLib/src/lpc17xx_can.c **** 
 190:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->AFMR = 0x00;
 184              	 .loc 1 190 0
 185 00b6 1160     	 str r1,[r2]
 186              	.LVL11:
 187              	.LBB14:
 188              	.LBB9:
  95:LPC17xxLib/src/lpc17xx_can.c **** 	}
 189              	 .loc 1 95 0
 190 00b8 9847     	 blx r3
 191              	.LVL12:
  97:LPC17xxLib/src/lpc17xx_can.c **** 	/* Calculate suitable nominal time value
 192              	 .loc 1 97 0
 193 00ba 1823     	 movs r3,#24
 194 00bc B0FBF5F0 	 udiv r0,r0,r5
 195              	.LVL13:
 196              	.L8:
 106:LPC17xxLib/src/lpc17xx_can.c **** 		{
 197              	 .loc 1 106 0
 198 00c0 B0FBF3F6 	 udiv r6,r0,r3
 199 00c4 03FB1602 	 mls r2,r3,r6,r0
 200 00c8 DDB2     	 uxtb r5,r3
 201              	.LVL14:
 202 00ca 22BB     	 cbnz r2,.L7
 203              	.LVL15:
 110:LPC17xxLib/src/lpc17xx_can.c **** 			TSEG1 = NT -(NT/3) - 1;
 204              	 .loc 1 110 0
 205 00cc 0321     	 movs r1,#3
 109:LPC17xxLib/src/lpc17xx_can.c **** 			TSEG2 = (NT/3) - 1;
 206              	 .loc 1 109 0
 207 00ce 6B1E     	 subs r3,r5,#1
 110:LPC17xxLib/src/lpc17xx_can.c **** 			TSEG1 = NT -(NT/3) - 1;
 208              	 .loc 1 110 0
 209 00d0 DBB2     	 uxtb r3,r3
 210 00d2 B3FBF1F3 	 udiv r3,r3,r1
 211              	.LVL16:
 119:LPC17xxLib/src/lpc17xx_can.c **** 	/* Set bit timing
 212              	 .loc 1 119 0
 213 00d6 2178     	 ldrb r1,[r4]
 214 00d8 0121     	 movs r1,#1
 111:LPC17xxLib/src/lpc17xx_can.c **** 			BRFail = 0;
 215              	 .loc 1 111 0
 216 00da 023D     	 subs r5,r5,#2
 217              	.LVL17:
 218 00dc ED1A     	 subs r5,r5,r3
 219              	.LVL18:
 110:LPC17xxLib/src/lpc17xx_can.c **** 			TSEG1 = NT -(NT/3) - 1;
 220              	 .loc 1 110 0
 221 00de 013B     	 subs r3,r3,#1
 222              	.LVL19:
 124:LPC17xxLib/src/lpc17xx_can.c **** 	/* Return to normal operating */
 223              	 .loc 1 124 0
 224 00e0 DBB2     	 uxtb r3,r3
 225              	.LVL20:
 119:LPC17xxLib/src/lpc17xx_can.c **** 	/* Set bit timing
 226              	 .loc 1 119 0
 227 00e2 2170     	 strb r1,[r4]
 124:LPC17xxLib/src/lpc17xx_can.c **** 	/* Return to normal operating */
 228              	 .loc 1 124 0
 229 00e4 EDB2     	 uxtb r5,r5
 230 00e6 1B05     	 lsls r3,r3,#20
 108:LPC17xxLib/src/lpc17xx_can.c **** 			NT--;
 231              	 .loc 1 108 0
 232 00e8 013E     	 subs r6,r6,#1
 119:LPC17xxLib/src/lpc17xx_can.c **** 	/* Set bit timing
 233              	 .loc 1 119 0
 234 00ea 6178     	 ldrb r1,[r4,#1]
 124:LPC17xxLib/src/lpc17xx_can.c **** 	/* Return to normal operating */
 235              	 .loc 1 124 0
 236 00ec 43EA0543 	 orr r3,r3,r5,lsl#16
 119:LPC17xxLib/src/lpc17xx_can.c **** 	/* Set bit timing
 237              	 .loc 1 119 0
 238 00f0 6270     	 strb r2,[r4,#1]
 124:LPC17xxLib/src/lpc17xx_can.c **** 	/* Return to normal operating */
 239              	 .loc 1 124 0
 240 00f2 46F44046 	 orr r6,r6,#49152
 119:LPC17xxLib/src/lpc17xx_can.c **** 	/* Set bit timing
 241              	 .loc 1 119 0
 242 00f6 A178     	 ldrb r1,[r4,#2]
 124:LPC17xxLib/src/lpc17xx_can.c **** 	/* Return to normal operating */
 243              	 .loc 1 124 0
 244 00f8 3343     	 orrs r3,r3,r6
 119:LPC17xxLib/src/lpc17xx_can.c **** 	/* Set bit timing
 245              	 .loc 1 119 0
 246 00fa A270     	 strb r2,[r4,#2]
 247 00fc E178     	 ldrb r1,[r4,#3]
 248 00fe E270     	 strb r2,[r4,#3]
 124:LPC17xxLib/src/lpc17xx_can.c **** 	/* Return to normal operating */
 249              	 .loc 1 124 0
 250 0100 6361     	 str r3,[r4,#20]
 126:LPC17xxLib/src/lpc17xx_can.c **** }
 251              	 .loc 1 126 0
 252 0102 2378     	 ldrb r3,[r4]
 253 0104 2270     	 strb r2,[r4]
 254 0106 6378     	 ldrb r3,[r4,#1]
 255 0108 6270     	 strb r2,[r4,#1]
 256 010a A378     	 ldrb r3,[r4,#2]
 257 010c A270     	 strb r2,[r4,#2]
 258 010e E378     	 ldrb r3,[r4,#3]
 259 0110 E270     	 strb r2,[r4,#3]
 260              	.LVL21:
 261              	.LBE9:
 262              	.LBE14:
 191:LPC17xxLib/src/lpc17xx_can.c **** 	/* Set baudrate */
 192:LPC17xxLib/src/lpc17xx_can.c **** 	can_SetBaudrate (CANx, baudrate);
 193:LPC17xxLib/src/lpc17xx_can.c **** }
 263              	 .loc 1 193 0
 264 0112 02B0     	 add sp,sp,#8
 265              	 .cfi_remember_state
 266              	 .cfi_def_cfa_offset 16
 267              	 
 268 0114 70BD     	 pop {r4,r5,r6,pc}
 269              	.LVL22:
 270              	.L7:
 271              	 .cfi_restore_state
 272              	.LBB15:
 273              	.LBB10:
 104:LPC17xxLib/src/lpc17xx_can.c **** 	{
 274              	 .loc 1 104 0
 275 0116 023B     	 subs r3,r3,#2
 276              	.LVL23:
 277 0118 D2D1     	 bne .L8
 278              	.L9:
 279 011a FEE7     	 b .L9
 280              	.L16:
 281              	 .align 2
 282              	.L15:
 283 011c 00400440 	 .word 1074020352
 284 0120 00000000 	 .word CLKPWR_ConfigPPWR
 285 0124 00000000 	 .word CLKPWR_SetPCLKDiv
 286 0128 00800340 	 .word 1073971200
 287 012c 00C00340 	 .word 1073987584
 288 0130 00000000 	 .word CLKPWR_GetPCLK
 289              	.LBE10:
 290              	.LBE15:
 291              	 .cfi_endproc
 292              	.LFE56:
 294              	 .section .text.CAN_DeInit,"ax",%progbits
 295              	 .align 1
 296              	 .global CAN_DeInit
 297              	 .syntax unified
 298              	 .thumb
 299              	 .thumb_func
 300              	 .fpu softvfp
 302              	CAN_DeInit:
 303              	.LFB57:
 194:LPC17xxLib/src/lpc17xx_can.c **** 
 195:LPC17xxLib/src/lpc17xx_can.c **** /********************************************************************//**
 196:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		CAN deInit
 197:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CANx pointer to LPC_CAN_TypeDef, should be:
 198:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN1: CAN1 peripheral
 199:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN2: CAN2 peripheral
 200:LPC17xxLib/src/lpc17xx_can.c ****  * @return 		None
 201:LPC17xxLib/src/lpc17xx_can.c ****  *********************************************************************/
 202:LPC17xxLib/src/lpc17xx_can.c **** void CAN_DeInit(LPC_CAN_TypeDef *CANx)
 203:LPC17xxLib/src/lpc17xx_can.c **** {
 304              	 .loc 1 203 0
 305              	 .cfi_startproc
 306              	 
 307              	 
 308              	 
 309              	.LVL24:
 204:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CANx(CANx));
 205:LPC17xxLib/src/lpc17xx_can.c **** 
 206:LPC17xxLib/src/lpc17xx_can.c **** 	if(CANx == LPC_CAN1)
 310              	 .loc 1 206 0
 311 0000 054B     	 ldr r3,.L20
 207:LPC17xxLib/src/lpc17xx_can.c **** 	{
 208:LPC17xxLib/src/lpc17xx_can.c **** 		/* Turn on power and clock for CAN1 */
 209:LPC17xxLib/src/lpc17xx_can.c **** 		CLKPWR_ConfigPPWR(CLKPWR_PCONP_PCAN1, DISABLE);
 312              	 .loc 1 209 0
 313 0002 0021     	 movs r1,#0
 206:LPC17xxLib/src/lpc17xx_can.c **** 	{
 314              	 .loc 1 206 0
 315 0004 9842     	 cmp r0,r3
 316              	 .loc 1 209 0
 317 0006 08BF     	 it eq
 318 0008 4FF40050 	 moveq r0,#8192
 319              	.LVL25:
 320 000c 034B     	 ldr r3,.L20+4
 210:LPC17xxLib/src/lpc17xx_can.c **** 	}
 211:LPC17xxLib/src/lpc17xx_can.c **** 	else
 212:LPC17xxLib/src/lpc17xx_can.c **** 	{
 213:LPC17xxLib/src/lpc17xx_can.c **** 		/* Turn on power and clock for CAN1 */
 214:LPC17xxLib/src/lpc17xx_can.c **** 		CLKPWR_ConfigPPWR(CLKPWR_PCONP_PCAN2, DISABLE);
 321              	 .loc 1 214 0
 322 000e 18BF     	 it ne
 323 0010 4FF48040 	 movne r0,#16384
 324 0014 1847     	 bx r3
 325              	.LVL26:
 326              	.L21:
 327 0016 00BF     	 .align 2
 328              	.L20:
 329 0018 00400440 	 .word 1074020352
 330 001c 00000000 	 .word CLKPWR_ConfigPPWR
 331              	 .cfi_endproc
 332              	.LFE57:
 334              	 .section .text.CAN_SetupAFLUT,"ax",%progbits
 335              	 .align 1
 336              	 .global CAN_SetupAFLUT
 337              	 .syntax unified
 338              	 .thumb
 339              	 .thumb_func
 340              	 .fpu softvfp
 342              	CAN_SetupAFLUT:
 343              	.LFB58:
 215:LPC17xxLib/src/lpc17xx_can.c **** 	}
 216:LPC17xxLib/src/lpc17xx_can.c **** }
 217:LPC17xxLib/src/lpc17xx_can.c **** 
 218:LPC17xxLib/src/lpc17xx_can.c **** /********************************************************************//**
 219:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		Setup Acceptance Filter Look-Up Table
 220:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CANAFx	pointer to LPC_CANAF_TypeDef
 221:LPC17xxLib/src/lpc17xx_can.c ****  * 				Should be: LPC_CANAF
 222:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	AFSection	the pointer to AF_SectionDef structure
 223:LPC17xxLib/src/lpc17xx_can.c ****  * 				It contain information about 5 sections will be install in AFLUT
 224:LPC17xxLib/src/lpc17xx_can.c ****  * @return 		CAN Error	could be:
 225:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_OBJECTS_FULL_ERROR: No more rx or tx objects available
 226:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_AF_ENTRY_ERROR: table error-violation of ascending numerical order
 227:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_OK: ID is added into table successfully
 228:LPC17xxLib/src/lpc17xx_can.c ****  *********************************************************************/
 229:LPC17xxLib/src/lpc17xx_can.c **** CAN_ERROR CAN_SetupAFLUT(LPC_CANAF_TypeDef* CANAFx, AF_SectionDef* AFSection)
 230:LPC17xxLib/src/lpc17xx_can.c **** {
 344              	 .loc 1 230 0
 345              	 .cfi_startproc
 346              	 
 347              	 
 348              	.LVL27:
 349 0000 2DE9F04F 	 push {r4,r5,r6,r7,r8,r9,r10,fp,lr}
 350              	 .cfi_def_cfa_offset 36
 351              	 .cfi_offset 4,-36
 352              	 .cfi_offset 5,-32
 353              	 .cfi_offset 6,-28
 354              	 .cfi_offset 7,-24
 355              	 .cfi_offset 8,-20
 356              	 .cfi_offset 9,-16
 357              	 .cfi_offset 10,-12
 358              	 .cfi_offset 11,-8
 359              	 .cfi_offset 14,-4
 231:LPC17xxLib/src/lpc17xx_can.c **** 	uint8_t ctrl1,ctrl2;
 232:LPC17xxLib/src/lpc17xx_can.c **** 	uint8_t dis1, dis2;
 233:LPC17xxLib/src/lpc17xx_can.c **** 	uint16_t SID, ID_temp,i, count = 0;
 234:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t EID, entry, buf;
 235:LPC17xxLib/src/lpc17xx_can.c **** 	uint16_t lowerSID, upperSID;
 236:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t lowerEID, upperEID;
 237:LPC17xxLib/src/lpc17xx_can.c **** 
 238:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CANAFx(CANAFx));
 239:LPC17xxLib/src/lpc17xx_can.c **** 	CANAFx->AFMR = 0x01;
 360              	 .loc 1 239 0
 361 0004 0124     	 movs r4,#1
 362 0006 0022     	 movs r2,#0
 363 0008 0378     	 ldrb r3,[r0]
 364 000a 0470     	 strb r4,[r0]
 365 000c 4378     	 ldrb r3,[r0,#1]
 366 000e 4270     	 strb r2,[r0,#1]
 367 0010 8378     	 ldrb r3,[r0,#2]
 368 0012 8270     	 strb r2,[r0,#2]
 369 0014 C378     	 ldrb r3,[r0,#3]
 240:LPC17xxLib/src/lpc17xx_can.c **** 
 241:LPC17xxLib/src/lpc17xx_can.c **** /***** setup FullCAN Table *****/
 242:LPC17xxLib/src/lpc17xx_can.c **** 	if(AFSection->FullCAN_Sec == NULL)
 370              	 .loc 1 242 0
 371 0016 0B68     	 ldr r3,[r1]
 230:LPC17xxLib/src/lpc17xx_can.c **** 	uint8_t ctrl1,ctrl2;
 372              	 .loc 1 230 0
 373 0018 8A46     	 mov r10,r1
 374 001a 85B0     	 sub sp,sp,#20
 375              	 .cfi_def_cfa_offset 56
 239:LPC17xxLib/src/lpc17xx_can.c **** 
 376              	 .loc 1 239 0
 377 001c C270     	 strb r2,[r0,#3]
 378 001e A549     	 ldr r1,.L189
 379              	.LVL28:
 380              	 .loc 1 242 0
 381 0020 002B     	 cmp r3,#0
 382 0022 40F08780 	 bne .L23
 243:LPC17xxLib/src/lpc17xx_can.c **** 	{
 244:LPC17xxLib/src/lpc17xx_can.c **** 		FULLCAN_ENABLE = DISABLE;
 383              	 .loc 1 244 0
 384 0026 0B70     	 strb r3,[r1]
 385              	.LVL29:
 386              	.L24:
 245:LPC17xxLib/src/lpc17xx_can.c **** 	}
 246:LPC17xxLib/src/lpc17xx_can.c **** 	else
 247:LPC17xxLib/src/lpc17xx_can.c **** 	{
 248:LPC17xxLib/src/lpc17xx_can.c **** 		FULLCAN_ENABLE = ENABLE;
 249:LPC17xxLib/src/lpc17xx_can.c **** 		for(i=0;i<(AFSection->FC_NumEntry);i++)
 250:LPC17xxLib/src/lpc17xx_can.c **** 		{
 251:LPC17xxLib/src/lpc17xx_can.c **** 			if(count + 1 > 64)
 252:LPC17xxLib/src/lpc17xx_can.c **** 			{
 253:LPC17xxLib/src/lpc17xx_can.c **** 				return CAN_OBJECTS_FULL_ERROR;
 254:LPC17xxLib/src/lpc17xx_can.c **** 			}
 255:LPC17xxLib/src/lpc17xx_can.c **** 			ctrl1 = AFSection->FullCAN_Sec->controller;
 256:LPC17xxLib/src/lpc17xx_can.c **** 			SID = AFSection->FullCAN_Sec->id_11;
 257:LPC17xxLib/src/lpc17xx_can.c **** 			dis1 = AFSection->FullCAN_Sec->disable;
 258:LPC17xxLib/src/lpc17xx_can.c **** 
 259:LPC17xxLib/src/lpc17xx_can.c **** 			CHECK_PARAM(PARAM_CTRL(ctrl1));
 260:LPC17xxLib/src/lpc17xx_can.c **** 			CHECK_PARAM(PARAM_ID_11(SID));
 261:LPC17xxLib/src/lpc17xx_can.c **** 			CHECK_PARAM(PARAM_MSG_DISABLE(dis1));
 262:LPC17xxLib/src/lpc17xx_can.c **** 			entry = 0x00; //reset entry value
 263:LPC17xxLib/src/lpc17xx_can.c **** 			if((CANAF_FullCAN_cnt & 0x00000001)==0)
 264:LPC17xxLib/src/lpc17xx_can.c **** 			{
 265:LPC17xxLib/src/lpc17xx_can.c **** 				if(count!=0x00)
 266:LPC17xxLib/src/lpc17xx_can.c **** 				{
 267:LPC17xxLib/src/lpc17xx_can.c **** 					buf = LPC_CANAF_RAM->mask[count-1];
 268:LPC17xxLib/src/lpc17xx_can.c **** 					ID_temp = (buf & 0xE7FF); //mask controller & identifier bits
 269:LPC17xxLib/src/lpc17xx_can.c **** 					if(ID_temp > ((ctrl1<<13)|SID))
 270:LPC17xxLib/src/lpc17xx_can.c **** 					{
 271:LPC17xxLib/src/lpc17xx_can.c **** 						return CAN_AF_ENTRY_ERROR;
 272:LPC17xxLib/src/lpc17xx_can.c **** 					}
 273:LPC17xxLib/src/lpc17xx_can.c **** 				}
 274:LPC17xxLib/src/lpc17xx_can.c **** 				entry = (ctrl1<<29)|(dis1<<28)|(SID<<16)|(1<<27);
 275:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] &= 0x0000FFFF;
 276:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] |= entry;
 277:LPC17xxLib/src/lpc17xx_can.c **** 				CANAF_FullCAN_cnt++;
 278:LPC17xxLib/src/lpc17xx_can.c **** 				if(CANAF_FullCAN_cnt == AFSection->FC_NumEntry) //this is the lastest FullCAN entry
 279:LPC17xxLib/src/lpc17xx_can.c **** 					count++;
 280:LPC17xxLib/src/lpc17xx_can.c **** 			}
 281:LPC17xxLib/src/lpc17xx_can.c **** 			else
 282:LPC17xxLib/src/lpc17xx_can.c **** 			{
 283:LPC17xxLib/src/lpc17xx_can.c **** 				buf = LPC_CANAF_RAM->mask[count];
 284:LPC17xxLib/src/lpc17xx_can.c **** 				ID_temp = (buf >>16) & 0xE7FF;
 285:LPC17xxLib/src/lpc17xx_can.c **** 				if(ID_temp > ((ctrl1<<13)|SID))
 286:LPC17xxLib/src/lpc17xx_can.c **** 				{
 287:LPC17xxLib/src/lpc17xx_can.c **** 					return CAN_AF_ENTRY_ERROR;
 288:LPC17xxLib/src/lpc17xx_can.c **** 				}
 289:LPC17xxLib/src/lpc17xx_can.c **** 				entry = (ctrl1<<13)|(dis1<<12)|(SID<<0)|(1<<11);
 290:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] &= 0xFFFF0000;
 291:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count]|= entry;
 292:LPC17xxLib/src/lpc17xx_can.c **** 				count++;
 293:LPC17xxLib/src/lpc17xx_can.c **** 				CANAF_FullCAN_cnt++;
 294:LPC17xxLib/src/lpc17xx_can.c **** 			}
 295:LPC17xxLib/src/lpc17xx_can.c **** 			AFSection->FullCAN_Sec = (FullCAN_Entry *)((uint32_t)(AFSection->FullCAN_Sec)+ sizeof(FullCAN_En
 296:LPC17xxLib/src/lpc17xx_can.c **** 		}
 297:LPC17xxLib/src/lpc17xx_can.c **** 	}
 298:LPC17xxLib/src/lpc17xx_can.c **** 
 299:LPC17xxLib/src/lpc17xx_can.c **** /***** Setup Explicit Standard Frame Format Section *****/
 300:LPC17xxLib/src/lpc17xx_can.c **** 	if(AFSection->SFF_Sec != NULL)
 387              	 .loc 1 300 0
 388 0028 DAF80520 	 ldr r2,[r10,#5]
 389 002c 92B1     	 cbz r2,.L38
 390 002e A24A     	 ldr r2,.L189+4
 301:LPC17xxLib/src/lpc17xx_can.c **** 	{
 302:LPC17xxLib/src/lpc17xx_can.c **** 		for(i=0;i<(AFSection->SFF_NumEntry);i++)
 391              	 .loc 1 302 0 discriminator 1
 392 0030 0027     	 movs r7,#0
 393 0032 B2F80080 	 ldrh r8,[r2]
 394 0036 9AF80990 	 ldrb r9,[r10,#9]
 395 003a 4146     	 mov r1,r8
 396 003c 08F10105 	 add r5,r8,#1
 397 0040 ADB2     	 uxth r5,r5
 398              	.L39:
 399              	.LVL30:
 400 0042 A1EB0802 	 sub r2,r1,r8
 401 0046 92B2     	 uxth r2,r2
 402 0048 9145     	 cmp r9,r2
 403 004a 00F2F380 	 bhi .L49
 404 004e 0FB1     	 cbz r7,.L38
 405 0050 994A     	 ldr r2,.L189+4
 406 0052 1180     	 strh r1,[r2]
 407              	.LVL31:
 408              	.L38:
 303:LPC17xxLib/src/lpc17xx_can.c **** 		{
 304:LPC17xxLib/src/lpc17xx_can.c **** 			if(count + 1 > 512)
 305:LPC17xxLib/src/lpc17xx_can.c **** 			{
 306:LPC17xxLib/src/lpc17xx_can.c **** 				return CAN_OBJECTS_FULL_ERROR;
 307:LPC17xxLib/src/lpc17xx_can.c **** 			}
 308:LPC17xxLib/src/lpc17xx_can.c **** 			ctrl1 = AFSection->SFF_Sec->controller;
 309:LPC17xxLib/src/lpc17xx_can.c **** 			SID = AFSection->SFF_Sec->id_11;
 310:LPC17xxLib/src/lpc17xx_can.c **** 			dis1 = AFSection->SFF_Sec->disable;
 311:LPC17xxLib/src/lpc17xx_can.c **** 
 312:LPC17xxLib/src/lpc17xx_can.c **** 			//check parameter
 313:LPC17xxLib/src/lpc17xx_can.c **** 			CHECK_PARAM(PARAM_CTRL(ctrl1));
 314:LPC17xxLib/src/lpc17xx_can.c **** 			CHECK_PARAM(PARAM_ID_11(SID));
 315:LPC17xxLib/src/lpc17xx_can.c **** 			CHECK_PARAM(PARAM_MSG_DISABLE(dis1));
 316:LPC17xxLib/src/lpc17xx_can.c **** 
 317:LPC17xxLib/src/lpc17xx_can.c **** 			entry = 0x00; //reset entry value
 318:LPC17xxLib/src/lpc17xx_can.c **** 			if((CANAF_std_cnt & 0x00000001)==0)
 319:LPC17xxLib/src/lpc17xx_can.c **** 			{
 320:LPC17xxLib/src/lpc17xx_can.c **** 				if(CANAF_std_cnt !=0 )
 321:LPC17xxLib/src/lpc17xx_can.c **** 				{
 322:LPC17xxLib/src/lpc17xx_can.c **** 					buf = LPC_CANAF_RAM->mask[count-1];
 323:LPC17xxLib/src/lpc17xx_can.c **** 					ID_temp = (buf & 0xE7FF); //mask controller & identifier bits
 324:LPC17xxLib/src/lpc17xx_can.c **** 					if(ID_temp > ((ctrl1<<13)|SID))
 325:LPC17xxLib/src/lpc17xx_can.c **** 					{
 326:LPC17xxLib/src/lpc17xx_can.c **** 						return CAN_AF_ENTRY_ERROR;
 327:LPC17xxLib/src/lpc17xx_can.c **** 					}
 328:LPC17xxLib/src/lpc17xx_can.c **** 				}
 329:LPC17xxLib/src/lpc17xx_can.c **** 				entry = (ctrl1<<29)|(dis1<<28)|(SID<<16);
 330:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] &= 0x0000FFFF;
 331:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] |= entry;
 332:LPC17xxLib/src/lpc17xx_can.c **** 				CANAF_std_cnt++;
 333:LPC17xxLib/src/lpc17xx_can.c **** 				if(CANAF_std_cnt == AFSection->SFF_NumEntry)//if this is the last SFF entry
 334:LPC17xxLib/src/lpc17xx_can.c **** 					count++;
 335:LPC17xxLib/src/lpc17xx_can.c **** 			}
 336:LPC17xxLib/src/lpc17xx_can.c **** 			else
 337:LPC17xxLib/src/lpc17xx_can.c **** 			{
 338:LPC17xxLib/src/lpc17xx_can.c **** 				buf = LPC_CANAF_RAM->mask[count];
 339:LPC17xxLib/src/lpc17xx_can.c **** 				ID_temp = (buf >>16) & 0xE7FF;
 340:LPC17xxLib/src/lpc17xx_can.c **** 				if(ID_temp > ((ctrl1<<13)|SID))
 341:LPC17xxLib/src/lpc17xx_can.c **** 				{
 342:LPC17xxLib/src/lpc17xx_can.c **** 					return CAN_AF_ENTRY_ERROR;
 343:LPC17xxLib/src/lpc17xx_can.c **** 				}
 344:LPC17xxLib/src/lpc17xx_can.c **** 				entry = (ctrl1<<13)|(dis1<<12)|(SID<<0);
 345:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] &= 0xFFFF0000;
 346:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] |= entry;
 347:LPC17xxLib/src/lpc17xx_can.c **** 				count++;
 348:LPC17xxLib/src/lpc17xx_can.c **** 				CANAF_std_cnt++;
 349:LPC17xxLib/src/lpc17xx_can.c **** 			}
 350:LPC17xxLib/src/lpc17xx_can.c **** 			AFSection->SFF_Sec = (SFF_Entry *)((uint32_t)(AFSection->SFF_Sec)+ sizeof(SFF_Entry));
 351:LPC17xxLib/src/lpc17xx_can.c **** 		}
 352:LPC17xxLib/src/lpc17xx_can.c **** 	}
 353:LPC17xxLib/src/lpc17xx_can.c **** 
 354:LPC17xxLib/src/lpc17xx_can.c **** /***** Setup Group of Standard Frame Format Identifier Section *****/
 355:LPC17xxLib/src/lpc17xx_can.c **** 	if(AFSection->SFF_GPR_Sec != NULL)
 409              	 .loc 1 355 0
 410 0054 DAF80A20 	 ldr r2,[r10,#10]
 411 0058 CAB1     	 cbz r2,.L51
 356:LPC17xxLib/src/lpc17xx_can.c **** 	{
 357:LPC17xxLib/src/lpc17xx_can.c **** 		for(i=0;i<(AFSection->SFF_GPR_NumEntry);i++)
 412              	 .loc 1 357 0 discriminator 1
 413 005a 9AF80E20 	 ldrb r2,[r10,#14]
 358:LPC17xxLib/src/lpc17xx_can.c **** 		{
 359:LPC17xxLib/src/lpc17xx_can.c **** 			if(count + 1 > 512)
 360:LPC17xxLib/src/lpc17xx_can.c **** 			{
 361:LPC17xxLib/src/lpc17xx_can.c **** 				return CAN_OBJECTS_FULL_ERROR;
 362:LPC17xxLib/src/lpc17xx_can.c **** 			}
 363:LPC17xxLib/src/lpc17xx_can.c **** 			ctrl1 = AFSection->SFF_GPR_Sec->controller1;
 364:LPC17xxLib/src/lpc17xx_can.c **** 			ctrl2 = AFSection->SFF_GPR_Sec->controller2;
 365:LPC17xxLib/src/lpc17xx_can.c **** 			dis1 = AFSection->SFF_GPR_Sec->disable1;
 366:LPC17xxLib/src/lpc17xx_can.c **** 			dis2 = AFSection->SFF_GPR_Sec->disable2;
 367:LPC17xxLib/src/lpc17xx_can.c **** 			lowerSID = AFSection->SFF_GPR_Sec->lowerID;
 368:LPC17xxLib/src/lpc17xx_can.c **** 			upperSID = AFSection->SFF_GPR_Sec->upperID;
 369:LPC17xxLib/src/lpc17xx_can.c **** 
 370:LPC17xxLib/src/lpc17xx_can.c **** 			/* check parameter */
 371:LPC17xxLib/src/lpc17xx_can.c **** 			CHECK_PARAM(PARAM_CTRL(ctrl1));
 372:LPC17xxLib/src/lpc17xx_can.c **** 			CHECK_PARAM(PARAM_CTRL(ctrl2));
 373:LPC17xxLib/src/lpc17xx_can.c **** 			CHECK_PARAM(PARAM_MSG_DISABLE(dis1));
 374:LPC17xxLib/src/lpc17xx_can.c **** 			CHECK_PARAM(PARAM_MSG_DISABLE(dis2));
 375:LPC17xxLib/src/lpc17xx_can.c **** 			CHECK_PARAM(PARAM_ID_11(lowerSID));
 376:LPC17xxLib/src/lpc17xx_can.c **** 			CHECK_PARAM(PARAM_ID_11(upperSID));
 377:LPC17xxLib/src/lpc17xx_can.c **** 
 378:LPC17xxLib/src/lpc17xx_can.c **** 			entry = 0x00;
 379:LPC17xxLib/src/lpc17xx_can.c **** 			if(CANAF_gstd_cnt!=0)
 380:LPC17xxLib/src/lpc17xx_can.c **** 			{
 381:LPC17xxLib/src/lpc17xx_can.c **** 				buf = LPC_CANAF_RAM->mask[count-1];
 414              	 .loc 1 381 0 discriminator 1
 415 005e DFF868C2 	 ldr ip,.L189+20
 357:LPC17xxLib/src/lpc17xx_can.c **** 		{
 416              	 .loc 1 357 0 discriminator 1
 417 0062 0192     	 str r2,[sp,#4]
 418 0064 954A     	 ldr r2,.L189+8
 419 0066 1288     	 ldrh r2,[r2]
 420 0068 0392     	 str r2,[sp,#12]
 421 006a 0022     	 movs r2,#0
 422 006c 1446     	 mov r4,r2
 423 006e 0092     	 str r2,[sp]
 424              	.LVL32:
 425              	.L52:
 426 0070 BDF80020 	 ldrh r2,[sp]
 427 0074 0399     	 ldr r1,[sp,#12]
 428 0076 019D     	 ldr r5,[sp,#4]
 429 0078 5118     	 adds r1,r2,r1
 430 007a 9818     	 adds r0,r3,r2
 431 007c 9542     	 cmp r5,r2
 432 007e 89B2     	 uxth r1,r1
 433 0080 80B2     	 uxth r0,r0
 434              	.LVL33:
 435 0082 00F24481 	 bhi .L61
 436 0086 0CB1     	 cbz r4,.L62
 437 0088 8C4B     	 ldr r3,.L189+8
 438 008a 1980     	 strh r1,[r3]
 439              	.L62:
 357:LPC17xxLib/src/lpc17xx_can.c **** 		{
 440              	 .loc 1 357 0 is_stmt 0
 441 008c 0346     	 mov r3,r0
 442              	.LVL34:
 443              	.L51:
 382:LPC17xxLib/src/lpc17xx_can.c **** 				ID_temp = buf & 0xE7FF;
 383:LPC17xxLib/src/lpc17xx_can.c **** 				if((ctrl1 != ctrl2)||(lowerSID > upperSID)||(ID_temp > ((ctrl1<<13)|lowerSID)))
 384:LPC17xxLib/src/lpc17xx_can.c **** 				{
 385:LPC17xxLib/src/lpc17xx_can.c **** 					return CAN_AF_ENTRY_ERROR;
 386:LPC17xxLib/src/lpc17xx_can.c **** 				}
 387:LPC17xxLib/src/lpc17xx_can.c **** 			}
 388:LPC17xxLib/src/lpc17xx_can.c **** 			entry = (ctrl1 << 29)|(dis1 << 28)|(lowerSID << 16)|  \
 389:LPC17xxLib/src/lpc17xx_can.c **** 					(ctrl2 << 13)|(dis2 << 12)|(upperSID << 0);
 390:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[count] = entry;
 391:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt++;
 392:LPC17xxLib/src/lpc17xx_can.c **** 			count++;
 393:LPC17xxLib/src/lpc17xx_can.c **** 			AFSection->SFF_GPR_Sec = (SFF_GPR_Entry *)((uint32_t)(AFSection->SFF_GPR_Sec)+ sizeof(SFF_GPR_En
 394:LPC17xxLib/src/lpc17xx_can.c **** 		}
 395:LPC17xxLib/src/lpc17xx_can.c **** 	}
 396:LPC17xxLib/src/lpc17xx_can.c **** 
 397:LPC17xxLib/src/lpc17xx_can.c **** /***** Setup Explicit Extend Frame Format Identifier Section *****/
 398:LPC17xxLib/src/lpc17xx_can.c **** 	if(AFSection->EFF_Sec != NULL)
 444              	 .loc 1 398 0 is_stmt 1
 445 008e DAF80F20 	 ldr r2,[r10,#15]
 446 0092 A2B1     	 cbz r2,.L63
 399:LPC17xxLib/src/lpc17xx_can.c **** 	{
 400:LPC17xxLib/src/lpc17xx_can.c **** 		for(i=0;i<(AFSection->EFF_NumEntry);i++)
 447              	 .loc 1 400 0 discriminator 1
 448 0094 0026     	 movs r6,#0
 449 0096 3546     	 mov r5,r6
 450 0098 8949     	 ldr r1,.L189+12
 451 009a 9AF813C0 	 ldrb ip,[r10,#19]
 452 009e B1F80080 	 ldrh r8,[r1]
 453 00a2 DFF824E2 	 ldr lr,.L189+20
 454              	.LVL35:
 455              	.L64:
 456 00a6 B4B2     	 uxth r4,r6
 457 00a8 04EB0800 	 add r0,r4,r8
 458 00ac 1A19     	 adds r2,r3,r4
 459 00ae A445     	 cmp ip,r4
 460 00b0 80B2     	 uxth r0,r0
 461 00b2 92B2     	 uxth r2,r2
 462              	.LVL36:
 463 00b4 00F26C81 	 bhi .L69
 464 00b8 05B1     	 cbz r5,.L70
 465 00ba 0880     	 strh r0,[r1]
 466              	.L70:
 467              	 .loc 1 400 0 is_stmt 0
 468 00bc 1346     	 mov r3,r2
 469              	.LVL37:
 470              	.L63:
 401:LPC17xxLib/src/lpc17xx_can.c **** 		{
 402:LPC17xxLib/src/lpc17xx_can.c **** 			if(count + 1 > 512)
 403:LPC17xxLib/src/lpc17xx_can.c **** 			{
 404:LPC17xxLib/src/lpc17xx_can.c **** 				return CAN_OBJECTS_FULL_ERROR;
 405:LPC17xxLib/src/lpc17xx_can.c **** 			}
 406:LPC17xxLib/src/lpc17xx_can.c **** 			EID = AFSection->EFF_Sec->ID_29;
 407:LPC17xxLib/src/lpc17xx_can.c **** 			ctrl1 = AFSection->EFF_Sec->controller;
 408:LPC17xxLib/src/lpc17xx_can.c **** 
 409:LPC17xxLib/src/lpc17xx_can.c **** 			// check parameter
 410:LPC17xxLib/src/lpc17xx_can.c **** 			CHECK_PARAM(PARAM_ID_29(EID));
 411:LPC17xxLib/src/lpc17xx_can.c **** 			CHECK_PARAM(PARAM_CTRL(ctrl1));
 412:LPC17xxLib/src/lpc17xx_can.c **** 
 413:LPC17xxLib/src/lpc17xx_can.c **** 			entry = (ctrl1 << 29)|(EID << 0);
 414:LPC17xxLib/src/lpc17xx_can.c **** 			if(CANAF_ext_cnt != 0)
 415:LPC17xxLib/src/lpc17xx_can.c **** 			{
 416:LPC17xxLib/src/lpc17xx_can.c **** 				buf = LPC_CANAF_RAM->mask[count-1];
 417:LPC17xxLib/src/lpc17xx_can.c **** //				EID_temp = buf & 0x0FFFFFFF;
 418:LPC17xxLib/src/lpc17xx_can.c **** 				if(buf > entry)
 419:LPC17xxLib/src/lpc17xx_can.c **** 				{
 420:LPC17xxLib/src/lpc17xx_can.c **** 					return CAN_AF_ENTRY_ERROR;
 421:LPC17xxLib/src/lpc17xx_can.c **** 				}
 422:LPC17xxLib/src/lpc17xx_can.c **** 			}
 423:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[count] = entry;
 424:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_ext_cnt ++;
 425:LPC17xxLib/src/lpc17xx_can.c **** 			count++;
 426:LPC17xxLib/src/lpc17xx_can.c **** 			AFSection->EFF_Sec = (EFF_Entry *)((uint32_t)(AFSection->EFF_Sec)+ sizeof(EFF_Entry));
 427:LPC17xxLib/src/lpc17xx_can.c **** 		}
 428:LPC17xxLib/src/lpc17xx_can.c **** 	}
 429:LPC17xxLib/src/lpc17xx_can.c **** 
 430:LPC17xxLib/src/lpc17xx_can.c **** /***** Setup Group of Extended Frame Format Identifier Section *****/
 431:LPC17xxLib/src/lpc17xx_can.c **** 	if(AFSection->EFF_GPR_Sec != NULL)
 471              	 .loc 1 431 0 is_stmt 1
 472 00be DAF81420 	 ldr r2,[r10,#20]
 473 00c2 8049     	 ldr r1,.L189+16
 474 00c4 72B1     	 cbz r2,.L71
 475 00c6 B1F800C0 	 ldrh ip,[r1]
 432:LPC17xxLib/src/lpc17xx_can.c **** 	{
 433:LPC17xxLib/src/lpc17xx_can.c **** 		for(i=0;i<(AFSection->EFF_GPR_NumEntry);i++)
 476              	 .loc 1 433 0 discriminator 1
 477 00ca 0024     	 movs r4,#0
 478 00cc 6246     	 mov r2,ip
 479 00ce 9AF81890 	 ldrb r9,[r10,#24]
 434:LPC17xxLib/src/lpc17xx_can.c **** 		{
 435:LPC17xxLib/src/lpc17xx_can.c **** 			if(count + 2 > 512)
 436:LPC17xxLib/src/lpc17xx_can.c **** 			{
 437:LPC17xxLib/src/lpc17xx_can.c **** 				return CAN_OBJECTS_FULL_ERROR;
 438:LPC17xxLib/src/lpc17xx_can.c **** 			}
 439:LPC17xxLib/src/lpc17xx_can.c **** 			ctrl1 = AFSection->EFF_GPR_Sec->controller1;
 440:LPC17xxLib/src/lpc17xx_can.c **** 			ctrl2 = AFSection->EFF_GPR_Sec->controller2;
 441:LPC17xxLib/src/lpc17xx_can.c **** 			lowerEID = AFSection->EFF_GPR_Sec->lowerEID;
 442:LPC17xxLib/src/lpc17xx_can.c **** 			upperEID = AFSection->EFF_GPR_Sec->upperEID;
 443:LPC17xxLib/src/lpc17xx_can.c **** 
 444:LPC17xxLib/src/lpc17xx_can.c **** 			//check parameter
 445:LPC17xxLib/src/lpc17xx_can.c **** 			CHECK_PARAM(PARAM_CTRL(ctrl1));
 446:LPC17xxLib/src/lpc17xx_can.c **** 			CHECK_PARAM(PARAM_CTRL(ctrl2));
 447:LPC17xxLib/src/lpc17xx_can.c **** 			CHECK_PARAM(PARAM_ID_29(lowerEID));
 448:LPC17xxLib/src/lpc17xx_can.c **** 			CHECK_PARAM(PARAM_ID_29(upperEID));
 449:LPC17xxLib/src/lpc17xx_can.c **** 
 450:LPC17xxLib/src/lpc17xx_can.c **** 			entry = 0x00;
 451:LPC17xxLib/src/lpc17xx_can.c **** 			if(CANAF_gext_cnt != 0)
 452:LPC17xxLib/src/lpc17xx_can.c **** 			{
 453:LPC17xxLib/src/lpc17xx_can.c **** 				buf = LPC_CANAF_RAM->mask[count-1];
 480              	 .loc 1 453 0 discriminator 1
 481 00d2 7D4F     	 ldr r7,.L189+20
 482              	.L72:
 483              	.LVL38:
 433:LPC17xxLib/src/lpc17xx_can.c **** 		{
 484              	 .loc 1 433 0 discriminator 1
 485 00d4 A2EB0C00 	 sub r0,r2,ip
 486 00d8 80B2     	 uxth r0,r0
 487 00da 4845     	 cmp r0,r9
 488 00dc C0F07C81 	 bcc .L83
 489 00e0 04B1     	 cbz r4,.L71
 490 00e2 0A80     	 strh r2,[r1]
 491              	.LVL39:
 492              	.L71:
 454:LPC17xxLib/src/lpc17xx_can.c **** //				EID_temp = buf & 0x0FFFFFFF;
 455:LPC17xxLib/src/lpc17xx_can.c **** 				if((ctrl1 != ctrl2) || (lowerEID > upperEID) || (buf > ((ctrl1 << 29)|(lowerEID << 0))))
 456:LPC17xxLib/src/lpc17xx_can.c **** 				{
 457:LPC17xxLib/src/lpc17xx_can.c **** 					return CAN_AF_ENTRY_ERROR;
 458:LPC17xxLib/src/lpc17xx_can.c **** 				}
 459:LPC17xxLib/src/lpc17xx_can.c **** 			}
 460:LPC17xxLib/src/lpc17xx_can.c **** 			entry = (ctrl1 << 29)|(lowerEID << 0);
 461:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[count++] = entry;
 462:LPC17xxLib/src/lpc17xx_can.c **** 			entry = (ctrl2 << 29)|(upperEID << 0);
 463:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[count++] = entry;
 464:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gext_cnt++;
 465:LPC17xxLib/src/lpc17xx_can.c **** 			AFSection->EFF_GPR_Sec = (EFF_GPR_Entry *)((uint32_t)(AFSection->EFF_GPR_Sec)+ sizeof(EFF_GPR_En
 466:LPC17xxLib/src/lpc17xx_can.c **** 		}
 467:LPC17xxLib/src/lpc17xx_can.c **** 	}
 468:LPC17xxLib/src/lpc17xx_can.c **** 	//update address values
 469:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->SFF_sa = ((CANAF_FullCAN_cnt + 1)>>1)<<2;
 493              	 .loc 1 469 0
 494 00e4 794B     	 ldr r3,.L189+24
 495              	.LVL40:
 470:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->SFF_GRP_sa = LPC_CANAF->SFF_sa + (((CANAF_std_cnt+1)>>1)<< 2);
 471:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->EFF_sa = LPC_CANAF->SFF_GRP_sa + (CANAF_gstd_cnt << 2);
 472:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->EFF_GRP_sa = LPC_CANAF->EFF_sa + (CANAF_ext_cnt << 2);
 473:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->ENDofTable = LPC_CANAF->EFF_GRP_sa + (CANAF_gext_cnt << 3);
 496              	 .loc 1 473 0
 497 00e6 0988     	 ldrh r1,[r1]
 469:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->SFF_GRP_sa = LPC_CANAF->SFF_sa + (((CANAF_std_cnt+1)>>1)<< 2);
 498              	 .loc 1 469 0
 499 00e8 1A88     	 ldrh r2,[r3]
 500 00ea 794B     	 ldr r3,.L189+28
 501 00ec 0132     	 adds r2,r2,#1
 502 00ee 5210     	 asrs r2,r2,#1
 503 00f0 9200     	 lsls r2,r2,#2
 504 00f2 5A60     	 str r2,[r3,#4]
 470:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->SFF_GRP_sa = LPC_CANAF->SFF_sa + (((CANAF_std_cnt+1)>>1)<< 2);
 505              	 .loc 1 470 0
 506 00f4 704A     	 ldr r2,.L189+4
 507 00f6 5868     	 ldr r0,[r3,#4]
 508 00f8 1288     	 ldrh r2,[r2]
 509 00fa 0132     	 adds r2,r2,#1
 510 00fc 5210     	 asrs r2,r2,#1
 511 00fe 00EB8202 	 add r2,r0,r2,lsl#2
 471:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->EFF_GRP_sa = LPC_CANAF->EFF_sa + (CANAF_ext_cnt << 2);
 512              	 .loc 1 471 0
 513 0102 6E48     	 ldr r0,.L189+8
 470:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->SFF_GRP_sa = LPC_CANAF->SFF_sa + (((CANAF_std_cnt+1)>>1)<< 2);
 514              	 .loc 1 470 0
 515 0104 9A60     	 str r2,[r3,#8]
 471:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->EFF_GRP_sa = LPC_CANAF->EFF_sa + (CANAF_ext_cnt << 2);
 516              	 .loc 1 471 0
 517 0106 9A68     	 ldr r2,[r3,#8]
 518 0108 0088     	 ldrh r0,[r0]
 519 010a 02EB8002 	 add r2,r2,r0,lsl#2
 472:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->ENDofTable = LPC_CANAF->EFF_GRP_sa + (CANAF_gext_cnt << 3);
 520              	 .loc 1 472 0
 521 010e 6C48     	 ldr r0,.L189+12
 471:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->EFF_GRP_sa = LPC_CANAF->EFF_sa + (CANAF_ext_cnt << 2);
 522              	 .loc 1 471 0
 523 0110 DA60     	 str r2,[r3,#12]
 472:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->ENDofTable = LPC_CANAF->EFF_GRP_sa + (CANAF_gext_cnt << 3);
 524              	 .loc 1 472 0
 525 0112 DA68     	 ldr r2,[r3,#12]
 526 0114 0088     	 ldrh r0,[r0]
 527 0116 02EB8002 	 add r2,r2,r0,lsl#2
 528 011a 1A61     	 str r2,[r3,#16]
 529              	 .loc 1 473 0
 530 011c 1A69     	 ldr r2,[r3,#16]
 531 011e 02EBC102 	 add r2,r2,r1,lsl#3
 532 0122 5A61     	 str r2,[r3,#20]
 474:LPC17xxLib/src/lpc17xx_can.c **** 
 475:LPC17xxLib/src/lpc17xx_can.c **** 	if(FULLCAN_ENABLE == DISABLE)
 533              	 .loc 1 475 0
 534 0124 634A     	 ldr r2,.L189
 535 0126 1278     	 ldrb r2,[r2]
 536 0128 002A     	 cmp r2,#0
 537 012a 40F09181 	 bne .L175
 538              	.L188:
 476:LPC17xxLib/src/lpc17xx_can.c **** 	{
 477:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->AFMR = 0x00; // Normal mode
 478:LPC17xxLib/src/lpc17xx_can.c **** 	}
 479:LPC17xxLib/src/lpc17xx_can.c **** 	else
 480:LPC17xxLib/src/lpc17xx_can.c **** 	{
 481:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->AFMR = 0x04;
 539              	 .loc 1 481 0
 540 012e 1A60     	 str r2,[r3]
 482:LPC17xxLib/src/lpc17xx_can.c **** 	}
 483:LPC17xxLib/src/lpc17xx_can.c **** 	return CAN_OK;
 541              	 .loc 1 483 0
 542 0130 0120     	 movs r0,#1
 543 0132 20E0     	 b .L28
 544              	.LVL41:
 545              	.L23:
 546 0134 654B     	 ldr r3,.L189+24
 249:LPC17xxLib/src/lpc17xx_can.c **** 		{
 547              	 .loc 1 249 0
 548 0136 1046     	 mov r0,r2
 549              	.LVL42:
 550 0138 B3F80090 	 ldrh r9,[r3]
 551 013c 9446     	 mov ip,r2
 233:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t EID, entry, buf;
 552              	 .loc 1 233 0
 553 013e 1346     	 mov r3,r2
 554 0140 09F10106 	 add r6,r9,#1
 249:LPC17xxLib/src/lpc17xx_can.c **** 		{
 555              	 .loc 1 249 0
 556 0144 9AF804B0 	 ldrb fp,[r10,#4]
 248:LPC17xxLib/src/lpc17xx_can.c **** 		for(i=0;i<(AFSection->FC_NumEntry);i++)
 557              	 .loc 1 248 0
 558 0148 0C70     	 strb r4,[r1]
 559              	.LVL43:
 560 014a B6B2     	 uxth r6,r6
 561              	.LVL44:
 562              	.L25:
 563 014c 82B2     	 uxth r2,r0
 564 014e 09EB0205 	 add r5,r9,r2
 249:LPC17xxLib/src/lpc17xx_can.c **** 		{
 565              	 .loc 1 249 0 discriminator 1
 566 0152 9345     	 cmp fp,r2
 567 0154 ADB2     	 uxth r5,r5
 568              	.LVL45:
 569 0156 06D8     	 bhi .L36
 570 0158 BCF1000F 	 cmp ip,#0
 571 015c 3FF464AF 	 beq .L24
 572 0160 5A4A     	 ldr r2,.L189+24
 573 0162 1580     	 strh r5,[r2]
 574 0164 60E7     	 b .L24
 575              	.L36:
 251:LPC17xxLib/src/lpc17xx_can.c **** 			{
 576              	 .loc 1 251 0
 577 0166 3F2B     	 cmp r3,#63
 578 0168 08DD     	 ble .L26
 579 016a BCF1000F 	 cmp ip,#0
 580 016e 01D0     	 beq .L42
 581 0170 564B     	 ldr r3,.L189+24
 582              	.LVL46:
 583 0172 1D80     	 strh r5,[r3]
 584              	.LVL47:
 585              	.L42:
 253:LPC17xxLib/src/lpc17xx_can.c **** 			}
 586              	 .loc 1 253 0
 587 0174 0220     	 movs r0,#2
 588              	.L28:
 484:LPC17xxLib/src/lpc17xx_can.c **** }
 589              	 .loc 1 484 0
 590 0176 05B0     	 add sp,sp,#20
 591              	 .cfi_remember_state
 592              	 .cfi_def_cfa_offset 36
 593              	 
 594 0178 BDE8F08F 	 pop {r4,r5,r6,r7,r8,r9,r10,fp,pc}
 595              	.LVL48:
 596              	.L26:
 597              	 .cfi_restore_state
 255:LPC17xxLib/src/lpc17xx_can.c **** 			SID = AFSection->FullCAN_Sec->id_11;
 598              	 .loc 1 255 0
 599 017c DAF80070 	 ldr r7,[r10]
 263:LPC17xxLib/src/lpc17xx_can.c **** 			{
 600              	 .loc 1 263 0
 601 0180 EC07     	 lsls r4,r5,#31
 257:LPC17xxLib/src/lpc17xx_can.c **** 
 602              	 .loc 1 257 0
 603 0182 7978     	 ldrb r1,[r7,#1]
 256:LPC17xxLib/src/lpc17xx_can.c **** 			dis1 = AFSection->FullCAN_Sec->disable;
 604              	 .loc 1 256 0
 605 0184 B7F802E0 	 ldrh lr,[r7,#2]
 255:LPC17xxLib/src/lpc17xx_can.c **** 			SID = AFSection->FullCAN_Sec->id_11;
 606              	 .loc 1 255 0
 607 0188 3A78     	 ldrb r2,[r7]
 608              	.LVL49:
 257:LPC17xxLib/src/lpc17xx_can.c **** 
 609              	 .loc 1 257 0
 610 018a 0091     	 str r1,[sp]
 611              	.LVL50:
 263:LPC17xxLib/src/lpc17xx_can.c **** 			{
 612              	 .loc 1 263 0
 613 018c 33D4     	 bmi .L29
 265:LPC17xxLib/src/lpc17xx_can.c **** 				{
 614              	 .loc 1 265 0
 615 018e 8BB1     	 cbz r3,.L30
 267:LPC17xxLib/src/lpc17xx_can.c **** 					ID_temp = (buf & 0xE7FF); //mask controller & identifier bits
 616              	 .loc 1 267 0
 617 0190 4D49     	 ldr r1,.L189+20
 618 0192 5C1E     	 subs r4,r3,#1
 619 0194 51F82440 	 ldr r4,[r1,r4,lsl#2]
 620              	.LVL51:
 269:LPC17xxLib/src/lpc17xx_can.c **** 					{
 621              	 .loc 1 269 0
 622 0198 4EEA4238 	 orr r8,lr,r2,lsl#13
 268:LPC17xxLib/src/lpc17xx_can.c **** 					if(ID_temp > ((ctrl1<<13)|SID))
 623              	 .loc 1 268 0
 624 019c 24F4C054 	 bic r4,r4,#6144
 625              	.LVL52:
 269:LPC17xxLib/src/lpc17xx_can.c **** 					{
 626              	 .loc 1 269 0
 627 01a0 A4B2     	 uxth r4,r4
 628 01a2 4445     	 cmp r4,r8
 629 01a4 06DD     	 ble .L30
 630              	.LVL53:
 631              	.L185:
 632 01a6 BCF1000F 	 cmp ip,#0
 633 01aa 01D0     	 beq .L35
 634 01ac 474B     	 ldr r3,.L189+24
 635              	.LVL54:
 636 01ae 1D80     	 strh r5,[r3]
 637              	.LVL55:
 638              	.L35:
 271:LPC17xxLib/src/lpc17xx_can.c **** 					}
 639              	 .loc 1 271 0
 640 01b0 0520     	 movs r0,#5
 641 01b2 E0E7     	 b .L28
 642              	.LVL56:
 643              	.L30:
 644 01b4 9C00     	 lsls r4,r3,#2
 645 01b6 04F18044 	 add r4,r4,#1073741824
 646 01ba 04F56034 	 add r4,r4,#229376
 275:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] |= entry;
 647              	 .loc 1 275 0
 648 01be 2568     	 ldr r5,[r4]
 274:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] &= 0x0000FFFF;
 649              	 .loc 1 274 0
 650 01c0 0099     	 ldr r1,[sp]
 275:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] |= entry;
 651              	 .loc 1 275 0
 652 01c2 ADB2     	 uxth r5,r5
 274:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] &= 0x0000FFFF;
 653              	 .loc 1 274 0
 654 01c4 0907     	 lsls r1,r1,#28
 275:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] |= entry;
 655              	 .loc 1 275 0
 656 01c6 2560     	 str r5,[r4]
 274:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] &= 0x0000FFFF;
 657              	 .loc 1 274 0
 658 01c8 41EA4272 	 orr r2,r1,r2,lsl#29
 659              	.LVL57:
 276:LPC17xxLib/src/lpc17xx_can.c **** 				CANAF_FullCAN_cnt++;
 660              	 .loc 1 276 0
 661 01cc 2568     	 ldr r5,[r4]
 274:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] &= 0x0000FFFF;
 662              	 .loc 1 274 0
 663 01ce 42F00062 	 orr r2,r2,#134217728
 664 01d2 42EA0E4E 	 orr lr,r2,lr,lsl#16
 276:LPC17xxLib/src/lpc17xx_can.c **** 				CANAF_FullCAN_cnt++;
 665              	 .loc 1 276 0
 666 01d6 4EEA0505 	 orr r5,lr,r5
 278:LPC17xxLib/src/lpc17xx_can.c **** 					count++;
 667              	 .loc 1 278 0
 668 01da B345     	 cmp fp,r6
 276:LPC17xxLib/src/lpc17xx_can.c **** 				CANAF_FullCAN_cnt++;
 669              	 .loc 1 276 0
 670 01dc 2560     	 str r5,[r4]
 278:LPC17xxLib/src/lpc17xx_can.c **** 					count++;
 671              	 .loc 1 278 0
 672 01de 01D1     	 bne .L32
 673              	.L186:
 292:LPC17xxLib/src/lpc17xx_can.c **** 				CANAF_FullCAN_cnt++;
 674              	 .loc 1 292 0
 675 01e0 0133     	 adds r3,r3,#1
 676              	.LVL58:
 677 01e2 9BB2     	 uxth r3,r3
 678              	.LVL59:
 679              	.L32:
 295:LPC17xxLib/src/lpc17xx_can.c **** 		}
 680              	 .loc 1 295 0 discriminator 2
 681 01e4 0437     	 adds r7,r7,#4
 682 01e6 0136     	 adds r6,r6,#1
 683              	.LVL60:
 684 01e8 CAF80070 	 str r7,[r10]
 685 01ec 0130     	 adds r0,r0,#1
 686 01ee B6B2     	 uxth r6,r6
 687 01f0 4FF0010C 	 mov ip,#1
 688 01f4 AAE7     	 b .L25
 689              	.LVL61:
 690              	.L29:
 691 01f6 9C00     	 lsls r4,r3,#2
 692 01f8 04F18044 	 add r4,r4,#1073741824
 693 01fc 04F56034 	 add r4,r4,#229376
 283:LPC17xxLib/src/lpc17xx_can.c **** 				ID_temp = (buf >>16) & 0xE7FF;
 694              	 .loc 1 283 0
 695 0200 D4F80080 	 ldr r8,[r4]
 696              	.LVL62:
 285:LPC17xxLib/src/lpc17xx_can.c **** 				{
 697              	 .loc 1 285 0
 698 0204 5203     	 lsls r2,r2,#13
 699              	.LVL63:
 284:LPC17xxLib/src/lpc17xx_can.c **** 				if(ID_temp > ((ctrl1<<13)|SID))
 700              	 .loc 1 284 0
 701 0206 4FEA1848 	 lsr r8,r8,#16
 702              	.LVL64:
 703 020a 28F4C058 	 bic r8,r8,#6144
 285:LPC17xxLib/src/lpc17xx_can.c **** 				{
 704              	 .loc 1 285 0
 705 020e 4EEA0201 	 orr r1,lr,r2
 706 0212 8845     	 cmp r8,r1
 707 0214 C7DC     	 bgt .L185
 708              	.LVL65:
 290:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count]|= entry;
 709              	 .loc 1 290 0
 710 0216 2568     	 ldr r5,[r4]
 289:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] &= 0xFFFF0000;
 711              	 .loc 1 289 0
 712 0218 0099     	 ldr r1,[sp]
 290:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count]|= entry;
 713              	 .loc 1 290 0
 714 021a 2D0C     	 lsrs r5,r5,#16
 715 021c 2D04     	 lsls r5,r5,#16
 716 021e 2560     	 str r5,[r4]
 717              	.LVL66:
 291:LPC17xxLib/src/lpc17xx_can.c **** 				count++;
 718              	 .loc 1 291 0
 719 0220 2568     	 ldr r5,[r4]
 289:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] &= 0xFFFF0000;
 720              	 .loc 1 289 0
 721 0222 42EA0132 	 orr r2,r2,r1,lsl#12
 722 0226 4EF4006E 	 orr lr,lr,#2048
 723 022a 42EA0E02 	 orr r2,r2,lr
 291:LPC17xxLib/src/lpc17xx_can.c **** 				count++;
 724              	 .loc 1 291 0
 725 022e 2A43     	 orrs r2,r2,r5
 726 0230 2260     	 str r2,[r4]
 727 0232 D5E7     	 b .L186
 728              	.LVL67:
 729              	.L49:
 304:LPC17xxLib/src/lpc17xx_can.c **** 			{
 730              	 .loc 1 304 0
 731 0234 B3F5007F 	 cmp r3,#512
 732 0238 04DB     	 blt .L40
 733 023a 002F     	 cmp r7,#0
 734 023c 9AD0     	 beq .L42
 735 023e 1E4B     	 ldr r3,.L189+4
 736              	.LVL68:
 737              	.L176:
 738 0240 1980     	 strh r1,[r3]
 739 0242 97E7     	 b .L42
 740              	.LVL69:
 741              	.L40:
 308:LPC17xxLib/src/lpc17xx_can.c **** 			SID = AFSection->SFF_Sec->id_11;
 742              	 .loc 1 308 0
 743 0244 DAF80560 	 ldr r6,[r10,#5]
 310:LPC17xxLib/src/lpc17xx_can.c **** 
 744              	 .loc 1 310 0
 745 0248 7078     	 ldrb r0,[r6,#1]
 309:LPC17xxLib/src/lpc17xx_can.c **** 			dis1 = AFSection->SFF_Sec->disable;
 746              	 .loc 1 309 0
 747 024a B6F802C0 	 ldrh ip,[r6,#2]
 310:LPC17xxLib/src/lpc17xx_can.c **** 
 748              	 .loc 1 310 0
 749 024e 0090     	 str r0,[sp]
 318:LPC17xxLib/src/lpc17xx_can.c **** 			{
 750              	 .loc 1 318 0
 751 0250 C807     	 lsls r0,r1,#31
 308:LPC17xxLib/src/lpc17xx_can.c **** 			SID = AFSection->SFF_Sec->id_11;
 752              	 .loc 1 308 0
 753 0252 3278     	 ldrb r2,[r6]
 754              	.LVL70:
 318:LPC17xxLib/src/lpc17xx_can.c **** 			{
 755              	 .loc 1 318 0
 756 0254 3ED4     	 bmi .L43
 320:LPC17xxLib/src/lpc17xx_can.c **** 				{
 757              	 .loc 1 320 0
 758 0256 79B1     	 cbz r1,.L44
 322:LPC17xxLib/src/lpc17xx_can.c **** 					ID_temp = (buf & 0xE7FF); //mask controller & identifier bits
 759              	 .loc 1 322 0
 760 0258 1B48     	 ldr r0,.L189+20
 761 025a 5C1E     	 subs r4,r3,#1
 762 025c 50F82440 	 ldr r4,[r0,r4,lsl#2]
 763              	.LVL71:
 324:LPC17xxLib/src/lpc17xx_can.c **** 					{
 764              	 .loc 1 324 0
 765 0260 4CEA423E 	 orr lr,ip,r2,lsl#13
 323:LPC17xxLib/src/lpc17xx_can.c **** 					if(ID_temp > ((ctrl1<<13)|SID))
 766              	 .loc 1 323 0
 767 0264 24F4C054 	 bic r4,r4,#6144
 768              	.LVL72:
 324:LPC17xxLib/src/lpc17xx_can.c **** 					{
 769              	 .loc 1 324 0
 770 0268 A4B2     	 uxth r4,r4
 771 026a 7445     	 cmp r4,lr
 772 026c 04DD     	 ble .L44
 773              	.LVL73:
 774              	.L184:
 775 026e 002F     	 cmp r7,#0
 776 0270 9ED0     	 beq .L35
 777 0272 114B     	 ldr r3,.L189+4
 778              	.LVL74:
 779              	.L179:
 780 0274 1980     	 strh r1,[r3]
 781 0276 9BE7     	 b .L35
 782              	.LVL75:
 783              	.L44:
 784 0278 9C00     	 lsls r4,r3,#2
 785 027a 04F18044 	 add r4,r4,#1073741824
 786 027e 04F56034 	 add r4,r4,#229376
 330:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] |= entry;
 787              	 .loc 1 330 0
 788 0282 2768     	 ldr r7,[r4]
 329:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] &= 0x0000FFFF;
 789              	 .loc 1 329 0
 790 0284 0098     	 ldr r0,[sp]
 330:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] |= entry;
 791              	 .loc 1 330 0
 792 0286 BFB2     	 uxth r7,r7
 793 0288 2760     	 str r7,[r4]
 329:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] &= 0x0000FFFF;
 794              	 .loc 1 329 0
 795 028a 0007     	 lsls r0,r0,#28
 331:LPC17xxLib/src/lpc17xx_can.c **** 				CANAF_std_cnt++;
 796              	 .loc 1 331 0
 797 028c 2768     	 ldr r7,[r4]
 329:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] &= 0x0000FFFF;
 798              	 .loc 1 329 0
 799 028e 40EA4272 	 orr r2,r0,r2,lsl#29
 800              	.LVL76:
 801 0292 42EA0C42 	 orr r2,r2,ip,lsl#16
 331:LPC17xxLib/src/lpc17xx_can.c **** 				CANAF_std_cnt++;
 802              	 .loc 1 331 0
 803 0296 3A43     	 orrs r2,r2,r7
 333:LPC17xxLib/src/lpc17xx_can.c **** 					count++;
 804              	 .loc 1 333 0
 805 0298 4D45     	 cmp r5,r9
 331:LPC17xxLib/src/lpc17xx_can.c **** 				CANAF_std_cnt++;
 806              	 .loc 1 331 0
 807 029a 2260     	 str r2,[r4]
 333:LPC17xxLib/src/lpc17xx_can.c **** 					count++;
 808              	 .loc 1 333 0
 809 029c 01D1     	 bne .L46
 810              	.L187:
 347:LPC17xxLib/src/lpc17xx_can.c **** 				CANAF_std_cnt++;
 811              	 .loc 1 347 0
 812 029e 0133     	 adds r3,r3,#1
 813              	.LVL77:
 814 02a0 9BB2     	 uxth r3,r3
 815              	.LVL78:
 816              	.L46:
 350:LPC17xxLib/src/lpc17xx_can.c **** 		}
 817              	 .loc 1 350 0 discriminator 2
 818 02a2 0436     	 adds r6,r6,#4
 819 02a4 0131     	 adds r1,r1,#1
 820              	.LVL79:
 821 02a6 0135     	 adds r5,r5,#1
 822 02a8 CAF80560 	 str r6,[r10,#5]
 823 02ac 89B2     	 uxth r1,r1
 824 02ae ADB2     	 uxth r5,r5
 825 02b0 0127     	 movs r7,#1
 826 02b2 C6E6     	 b .L39
 827              	.L190:
 828              	 .align 2
 829              	.L189:
 830 02b4 00000000 	 .word FULLCAN_ENABLE
 831 02b8 00000000 	 .word .LANCHOR1
 832 02bc 00000000 	 .word .LANCHOR2
 833 02c0 00000000 	 .word .LANCHOR3
 834 02c4 00000000 	 .word .LANCHOR4
 835 02c8 00800340 	 .word 1073971200
 836 02cc 00000000 	 .word .LANCHOR0
 837 02d0 00C00340 	 .word 1073987584
 838              	.LVL80:
 839              	.L43:
 840 02d4 9C00     	 lsls r4,r3,#2
 841 02d6 04F18044 	 add r4,r4,#1073741824
 842 02da 04F56034 	 add r4,r4,#229376
 338:LPC17xxLib/src/lpc17xx_can.c **** 				ID_temp = (buf >>16) & 0xE7FF;
 843              	 .loc 1 338 0
 844 02de D4F800E0 	 ldr lr,[r4]
 845              	.LVL81:
 340:LPC17xxLib/src/lpc17xx_can.c **** 				{
 846              	 .loc 1 340 0
 847 02e2 5203     	 lsls r2,r2,#13
 848              	.LVL82:
 339:LPC17xxLib/src/lpc17xx_can.c **** 				if(ID_temp > ((ctrl1<<13)|SID))
 849              	 .loc 1 339 0
 850 02e4 4FEA1E4E 	 lsr lr,lr,#16
 851              	.LVL83:
 852 02e8 2EF4C05E 	 bic lr,lr,#6144
 340:LPC17xxLib/src/lpc17xx_can.c **** 				{
 853              	 .loc 1 340 0
 854 02ec 42EA0C0B 	 orr fp,r2,ip
 855 02f0 DE45     	 cmp lr,fp
 856 02f2 BCDC     	 bgt .L184
 857              	.LVL84:
 345:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] |= entry;
 858              	 .loc 1 345 0
 859 02f4 2768     	 ldr r7,[r4]
 344:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] &= 0xFFFF0000;
 860              	 .loc 1 344 0
 861 02f6 0098     	 ldr r0,[sp]
 345:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] |= entry;
 862              	 .loc 1 345 0
 863 02f8 3F0C     	 lsrs r7,r7,#16
 864 02fa 3F04     	 lsls r7,r7,#16
 865 02fc 2760     	 str r7,[r4]
 866              	.LVL85:
 346:LPC17xxLib/src/lpc17xx_can.c **** 				count++;
 867              	 .loc 1 346 0
 868 02fe 2768     	 ldr r7,[r4]
 344:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[count] &= 0xFFFF0000;
 869              	 .loc 1 344 0
 870 0300 42EA0032 	 orr r2,r2,r0,lsl#12
 871              	.LVL86:
 872 0304 42EA0C02 	 orr r2,r2,ip
 346:LPC17xxLib/src/lpc17xx_can.c **** 				count++;
 873              	 .loc 1 346 0
 874 0308 3A43     	 orrs r2,r2,r7
 875 030a 2260     	 str r2,[r4]
 876 030c C7E7     	 b .L187
 877              	.LVL87:
 878              	.L61:
 359:LPC17xxLib/src/lpc17xx_can.c **** 			{
 879              	 .loc 1 359 0
 880 030e B0F5007F 	 cmp r0,#512
 881 0312 04D3     	 bcc .L53
 882 0314 002C     	 cmp r4,#0
 883 0316 3FF42DAF 	 beq .L42
 884 031a 4E4B     	 ldr r3,.L191
 885 031c 90E7     	 b .L176
 886              	.L53:
 363:LPC17xxLib/src/lpc17xx_can.c **** 			ctrl2 = AFSection->SFF_GPR_Sec->controller2;
 887              	 .loc 1 363 0
 888 031e DAF80A20 	 ldr r2,[r10,#10]
 366:LPC17xxLib/src/lpc17xx_can.c **** 			lowerSID = AFSection->SFF_GPR_Sec->lowerID;
 889              	 .loc 1 366 0
 890 0322 5579     	 ldrb r5,[r2,#5]
 363:LPC17xxLib/src/lpc17xx_can.c **** 			ctrl2 = AFSection->SFF_GPR_Sec->controller2;
 891              	 .loc 1 363 0
 892 0324 92F800E0 	 ldrb lr,[r2]
 893              	.LVL88:
 366:LPC17xxLib/src/lpc17xx_can.c **** 			lowerSID = AFSection->SFF_GPR_Sec->lowerID;
 894              	 .loc 1 366 0
 895 0328 0295     	 str r5,[sp,#8]
 364:LPC17xxLib/src/lpc17xx_can.c **** 			dis1 = AFSection->SFF_GPR_Sec->disable1;
 896              	 .loc 1 364 0
 897 032a 92F80480 	 ldrb r8,[r2,#4]
 898              	.LVL89:
 365:LPC17xxLib/src/lpc17xx_can.c **** 			dis2 = AFSection->SFF_GPR_Sec->disable2;
 899              	 .loc 1 365 0
 900 032e 92F801B0 	 ldrb fp,[r2,#1]
 901              	.LVL90:
 367:LPC17xxLib/src/lpc17xx_can.c **** 			upperSID = AFSection->SFF_GPR_Sec->upperID;
 902              	 .loc 1 367 0
 903 0332 5788     	 ldrh r7,[r2,#2]
 904              	.LVL91:
 368:LPC17xxLib/src/lpc17xx_can.c **** 
 905              	 .loc 1 368 0
 906 0334 B2F80690 	 ldrh r9,[r2,#6]
 907              	.LVL92:
 379:LPC17xxLib/src/lpc17xx_can.c **** 			{
 908              	 .loc 1 379 0
 909 0338 99B1     	 cbz r1,.L55
 381:LPC17xxLib/src/lpc17xx_can.c **** 				ID_temp = buf & 0xE7FF;
 910              	 .loc 1 381 0
 911 033a 451E     	 subs r5,r0,#1
 912 033c 5CF82550 	 ldr r5,[ip,r5,lsl#2]
 913              	.LVL93:
 383:LPC17xxLib/src/lpc17xx_can.c **** 				{
 914              	 .loc 1 383 0
 915 0340 C645     	 cmp lr,r8
 382:LPC17xxLib/src/lpc17xx_can.c **** 				if((ctrl1 != ctrl2)||(lowerSID > upperSID)||(ID_temp > ((ctrl1<<13)|lowerSID)))
 916              	 .loc 1 382 0
 917 0342 25F4C055 	 bic r5,r5,#6144
 918              	.LVL94:
 919 0346 ADB2     	 uxth r5,r5
 920 0348 2E46     	 mov r6,r5
 921              	.LVL95:
 383:LPC17xxLib/src/lpc17xx_can.c **** 				{
 922              	 .loc 1 383 0
 923 034a 04D0     	 beq .L56
 924              	.L183:
 925 034c 002C     	 cmp r4,#0
 926 034e 3FF42FAF 	 beq .L35
 927 0352 404B     	 ldr r3,.L191
 928 0354 8EE7     	 b .L179
 929              	.L56:
 383:LPC17xxLib/src/lpc17xx_can.c **** 				{
 930              	 .loc 1 383 0 is_stmt 0 discriminator 1
 931 0356 4F45     	 cmp r7,r9
 932 0358 F8D8     	 bhi .L183
 383:LPC17xxLib/src/lpc17xx_can.c **** 				{
 933              	 .loc 1 383 0 discriminator 2
 934 035a 47EA4E35 	 orr r5,r7,lr,lsl#13
 935 035e AE42     	 cmp r6,r5
 936 0360 F4DC     	 bgt .L183
 937              	.LVL96:
 938              	.L55:
 388:LPC17xxLib/src/lpc17xx_can.c **** 					(ctrl2 << 13)|(dis2 << 12)|(upperSID << 0);
 939              	 .loc 1 388 0 is_stmt 1 discriminator 2
 940 0362 4FEA0B7B 	 lsl fp,fp,#28
 941              	.LVL97:
 942 0366 4BEA4E7E 	 orr lr,fp,lr,lsl#29
 943              	.LVL98:
 389:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[count] = entry;
 944              	 .loc 1 389 0 discriminator 2
 945 036a 4EEA0909 	 orr r9,lr,r9
 946 036e 0299     	 ldr r1,[sp,#8]
 947 0370 49EA0747 	 orr r7,r9,r7,lsl#16
 948 0374 47EA4837 	 orr r7,r7,r8,lsl#13
 393:LPC17xxLib/src/lpc17xx_can.c **** 		}
 949              	 .loc 1 393 0 discriminator 2
 950 0378 0832     	 adds r2,r2,#8
 951              	.LVL99:
 389:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[count] = entry;
 952              	 .loc 1 389 0 discriminator 2
 953 037a 47EA0137 	 orr r7,r7,r1,lsl#12
 954              	.LVL100:
 390:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt++;
 955              	 .loc 1 390 0 discriminator 2
 956 037e 4CF82070 	 str r7,[ip,r0,lsl#2]
 957              	.LVL101:
 393:LPC17xxLib/src/lpc17xx_can.c **** 		}
 958              	 .loc 1 393 0 discriminator 2
 959 0382 CAF80A20 	 str r2,[r10,#10]
 960              	.LVL102:
 961 0386 009A     	 ldr r2,[sp]
 962 0388 0124     	 movs r4,#1
 963 038a 0132     	 adds r2,r2,#1
 964 038c 0092     	 str r2,[sp]
 965              	.LVL103:
 966 038e 6FE6     	 b .L52
 967              	.LVL104:
 968              	.L69:
 402:LPC17xxLib/src/lpc17xx_can.c **** 			{
 969              	 .loc 1 402 0
 970 0390 B2F5007F 	 cmp r2,#512
 971 0394 04D3     	 bcc .L65
 972 0396 002D     	 cmp r5,#0
 973 0398 3FF4ECAE 	 beq .L42
 974 039c 0880     	 strh r0,[r1]
 975 039e E9E6     	 b .L42
 976              	.L65:
 406:LPC17xxLib/src/lpc17xx_can.c **** 			ctrl1 = AFSection->EFF_Sec->controller;
 977              	 .loc 1 406 0
 978 03a0 DAF80F40 	 ldr r4,[r10,#15]
 979              	.LVL105:
 413:LPC17xxLib/src/lpc17xx_can.c **** 			if(CANAF_ext_cnt != 0)
 980              	 .loc 1 413 0
 981 03a4 94F80090 	 ldrb r9,[r4]
 406:LPC17xxLib/src/lpc17xx_can.c **** 			ctrl1 = AFSection->EFF_Sec->controller;
 982              	 .loc 1 406 0
 983 03a8 D4F80170 	 ldr r7,[r4,#1]
 413:LPC17xxLib/src/lpc17xx_can.c **** 			if(CANAF_ext_cnt != 0)
 984              	 .loc 1 413 0
 985 03ac 47EA4977 	 orr r7,r7,r9,lsl#29
 986              	.LVL106:
 414:LPC17xxLib/src/lpc17xx_can.c **** 			{
 987              	 .loc 1 414 0
 988 03b0 50B1     	 cbz r0,.L67
 416:LPC17xxLib/src/lpc17xx_can.c **** //				EID_temp = buf & 0x0FFFFFFF;
 989              	 .loc 1 416 0
 990 03b2 02F1FF39 	 add r9,r2,#-1
 991 03b6 5EF82990 	 ldr r9,[lr,r9,lsl#2]
 992              	.LVL107:
 418:LPC17xxLib/src/lpc17xx_can.c **** 				{
 993              	 .loc 1 418 0
 994 03ba 4F45     	 cmp r7,r9
 995 03bc 04D2     	 bcs .L67
 996 03be 002D     	 cmp r5,#0
 997 03c0 3FF4F6AE 	 beq .L35
 998 03c4 0880     	 strh r0,[r1]
 999              	.LVL108:
 1000 03c6 F3E6     	 b .L35
 1001              	.LVL109:
 1002              	.L67:
 426:LPC17xxLib/src/lpc17xx_can.c **** 		}
 1003              	 .loc 1 426 0 discriminator 2
 1004 03c8 0534     	 adds r4,r4,#5
 1005              	.LVL110:
 423:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_ext_cnt ++;
 1006              	 .loc 1 423 0 discriminator 2
 1007 03ca 4EF82270 	 str r7,[lr,r2,lsl#2]
 1008              	.LVL111:
 1009 03ce 0136     	 adds r6,r6,#1
 1010              	.LVL112:
 426:LPC17xxLib/src/lpc17xx_can.c **** 		}
 1011              	 .loc 1 426 0 discriminator 2
 1012 03d0 CAF80F40 	 str r4,[r10,#15]
 1013 03d4 0125     	 movs r5,#1
 1014 03d6 66E6     	 b .L64
 1015              	.LVL113:
 1016              	.L83:
 435:LPC17xxLib/src/lpc17xx_can.c **** 			{
 1017              	 .loc 1 435 0
 1018 03d8 B3F5FF7F 	 cmp r3,#510
 1019 03dc 04DD     	 ble .L75
 1020 03de 002C     	 cmp r4,#0
 1021 03e0 3FF4C8AE 	 beq .L42
 1022 03e4 0A80     	 strh r2,[r1]
 1023 03e6 C5E6     	 b .L42
 1024              	.L75:
 439:LPC17xxLib/src/lpc17xx_can.c **** 			ctrl2 = AFSection->EFF_GPR_Sec->controller2;
 1025              	 .loc 1 439 0
 1026 03e8 DAF81400 	 ldr r0,[r10,#20]
 442:LPC17xxLib/src/lpc17xx_can.c **** 
 1027              	 .loc 1 442 0
 1028 03ec D0F80660 	 ldr r6,[r0,#6]
 439:LPC17xxLib/src/lpc17xx_can.c **** 			ctrl2 = AFSection->EFF_GPR_Sec->controller2;
 1029              	 .loc 1 439 0
 1030 03f0 90F800E0 	 ldrb lr,[r0]
 1031              	.LVL114:
 440:LPC17xxLib/src/lpc17xx_can.c **** 			lowerEID = AFSection->EFF_GPR_Sec->lowerEID;
 1032              	 .loc 1 440 0
 1033 03f4 90F80180 	 ldrb r8,[r0,#1]
 1034              	.LVL115:
 441:LPC17xxLib/src/lpc17xx_can.c **** 			upperEID = AFSection->EFF_GPR_Sec->upperEID;
 1035              	 .loc 1 441 0
 1036 03f8 D0F80250 	 ldr r5,[r0,#2]
 1037              	.LVL116:
 442:LPC17xxLib/src/lpc17xx_can.c **** 
 1038              	 .loc 1 442 0
 1039 03fc 0096     	 str r6,[sp]
 1040              	.LVL117:
 451:LPC17xxLib/src/lpc17xx_can.c **** 			{
 1041              	 .loc 1 451 0
 1042 03fe 9AB1     	 cbz r2,.L77
 453:LPC17xxLib/src/lpc17xx_can.c **** //				EID_temp = buf & 0x0FFFFFFF;
 1043              	 .loc 1 453 0
 1044 0400 03F1FF3B 	 add fp,r3,#-1
 1045 0404 57F82B60 	 ldr r6,[r7,fp,lsl#2]
 1046              	.LVL118:
 455:LPC17xxLib/src/lpc17xx_can.c **** 				{
 1047              	 .loc 1 455 0
 1048 0408 C645     	 cmp lr,r8
 453:LPC17xxLib/src/lpc17xx_can.c **** //				EID_temp = buf & 0x0FFFFFFF;
 1049              	 .loc 1 453 0
 1050 040a 0196     	 str r6,[sp,#4]
 1051              	.LVL119:
 455:LPC17xxLib/src/lpc17xx_can.c **** 				{
 1052              	 .loc 1 455 0
 1053 040c 04D0     	 beq .L78
 1054              	.LVL120:
 1055              	.L182:
 1056 040e 002C     	 cmp r4,#0
 1057 0410 3FF4CEAE 	 beq .L35
 1058 0414 0A80     	 strh r2,[r1]
 1059 0416 CBE6     	 b .L35
 1060              	.LVL121:
 1061              	.L78:
 455:LPC17xxLib/src/lpc17xx_can.c **** 				{
 1062              	 .loc 1 455 0 is_stmt 0 discriminator 1
 1063 0418 009E     	 ldr r6,[sp]
 1064              	.LVL122:
 1065 041a B542     	 cmp r5,r6
 1066 041c F7D8     	 bhi .L182
 455:LPC17xxLib/src/lpc17xx_can.c **** 				{
 1067              	 .loc 1 455 0 discriminator 2
 1068 041e 019E     	 ldr r6,[sp,#4]
 1069 0420 45EA4E7B 	 orr fp,r5,lr,lsl#29
 1070 0424 5E45     	 cmp r6,fp
 1071 0426 F2D8     	 bhi .L182
 1072              	.LVL123:
 1073              	.L77:
 460:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[count++] = entry;
 1074              	 .loc 1 460 0 is_stmt 1 discriminator 2
 1075 0428 45EA4E75 	 orr r5,r5,lr,lsl#29
 1076              	.LVL124:
 461:LPC17xxLib/src/lpc17xx_can.c **** 			entry = (ctrl2 << 29)|(upperEID << 0);
 1077              	 .loc 1 461 0 discriminator 2
 1078 042c 47F82350 	 str r5,[r7,r3,lsl#2]
 1079              	.LVL125:
 462:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[count++] = entry;
 1080              	 .loc 1 462 0 discriminator 2
 1081 0430 009D     	 ldr r5,[sp]
 1082              	.LVL126:
 461:LPC17xxLib/src/lpc17xx_can.c **** 			entry = (ctrl2 << 29)|(upperEID << 0);
 1083              	 .loc 1 461 0 discriminator 2
 1084 0432 5C1C     	 adds r4,r3,#1
 1085 0434 A4B2     	 uxth r4,r4
 1086              	.LVL127:
 462:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[count++] = entry;
 1087              	 .loc 1 462 0 discriminator 2
 1088 0436 45EA4876 	 orr r6,r5,r8,lsl#29
 1089              	.LVL128:
 463:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gext_cnt++;
 1090              	 .loc 1 463 0 discriminator 2
 1091 043a 0233     	 adds r3,r3,#2
 465:LPC17xxLib/src/lpc17xx_can.c **** 		}
 1092              	 .loc 1 465 0 discriminator 2
 1093 043c 0A30     	 adds r0,r0,#10
 1094 043e 0132     	 adds r2,r2,#1
 1095              	.LVL129:
 463:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gext_cnt++;
 1096              	 .loc 1 463 0 discriminator 2
 1097 0440 47F82460 	 str r6,[r7,r4,lsl#2]
 1098 0444 9BB2     	 uxth r3,r3
 1099              	.LVL130:
 465:LPC17xxLib/src/lpc17xx_can.c **** 		}
 1100              	 .loc 1 465 0 discriminator 2
 1101 0446 CAF81400 	 str r0,[r10,#20]
 1102 044a 92B2     	 uxth r2,r2
 1103 044c 0124     	 movs r4,#1
 1104 044e 41E6     	 b .L72
 1105              	.LVL131:
 1106              	.L175:
 481:LPC17xxLib/src/lpc17xx_can.c **** 	}
 1107              	 .loc 1 481 0
 1108 0450 0422     	 movs r2,#4
 1109 0452 6CE6     	 b .L188
 1110              	.L192:
 1111              	 .align 2
 1112              	.L191:
 1113 0454 00000000 	 .word .LANCHOR2
 1114              	 .cfi_endproc
 1115              	.LFE58:
 1117              	 .section .text.CAN_LoadExplicitEntry,"ax",%progbits
 1118              	 .align 1
 1119              	 .global CAN_LoadExplicitEntry
 1120              	 .syntax unified
 1121              	 .thumb
 1122              	 .thumb_func
 1123              	 .fpu softvfp
 1125              	CAN_LoadExplicitEntry:
 1126              	.LFB59:
 485:LPC17xxLib/src/lpc17xx_can.c **** /********************************************************************//**
 486:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		Add Explicit ID into AF Look-Up Table dynamically.
 487:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CANx pointer to LPC_CAN_TypeDef, should be:
 488:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN1: CAN1 peripheral
 489:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN2: CAN2 peripheral
 490:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	id: The ID of entry will be added
 491:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	format: is the type of ID Frame Format, should be:
 492:LPC17xxLib/src/lpc17xx_can.c ****  * 				- STD_ID_FORMAT: 11-bit ID value
 493:LPC17xxLib/src/lpc17xx_can.c ****  * 				- EXT_ID_FORMAT: 29-bit ID value
 494:LPC17xxLib/src/lpc17xx_can.c ****  * @return 		CAN Error, could be:
 495:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_OBJECTS_FULL_ERROR: No more rx or tx objects available
 496:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_ID_EXIT_ERROR: ID exited in table
 497:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_OK: ID is added into table successfully
 498:LPC17xxLib/src/lpc17xx_can.c ****  *********************************************************************/
 499:LPC17xxLib/src/lpc17xx_can.c **** CAN_ERROR CAN_LoadExplicitEntry(LPC_CAN_TypeDef* CANx, uint32_t id, CAN_ID_FORMAT_Type format)
 500:LPC17xxLib/src/lpc17xx_can.c **** {
 1127              	 .loc 1 500 0
 1128              	 .cfi_startproc
 1129              	 
 1130              	 
 1131              	.LVL132:
 1132 0000 2DE9F74F 	 push {r0,r1,r2,r4,r5,r6,r7,r8,r9,r10,fp,lr}
 1133              	 .cfi_def_cfa_offset 48
 1134              	 .cfi_offset 4,-36
 1135              	 .cfi_offset 5,-32
 1136              	 .cfi_offset 6,-28
 1137              	 .cfi_offset 7,-24
 1138              	 .cfi_offset 8,-20
 1139              	 .cfi_offset 9,-16
 1140              	 .cfi_offset 10,-12
 1141              	 .cfi_offset 11,-8
 1142              	 .cfi_offset 14,-4
 501:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t tmp0 = 0;
 502:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t buf0=0, buf1=0;
 503:LPC17xxLib/src/lpc17xx_can.c **** 	int16_t cnt1=0, cnt2=0, bound1=0, total=0;
 504:LPC17xxLib/src/lpc17xx_can.c **** 
 505:LPC17xxLib/src/lpc17xx_can.c **** 
 506:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CANx(CANx));
 507:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_ID_FORMAT(format));
 508:LPC17xxLib/src/lpc17xx_can.c **** 
 509:LPC17xxLib/src/lpc17xx_can.c **** 	if (CANx == LPC_CAN1)
 510:LPC17xxLib/src/lpc17xx_can.c **** 	{
 511:LPC17xxLib/src/lpc17xx_can.c **** 		tmp0 = 0;
 512:LPC17xxLib/src/lpc17xx_can.c **** 	}
 513:LPC17xxLib/src/lpc17xx_can.c **** 	else if (CANx == LPC_CAN2)
 514:LPC17xxLib/src/lpc17xx_can.c **** 	{
 515:LPC17xxLib/src/lpc17xx_can.c **** 		tmp0 = 1;
 516:LPC17xxLib/src/lpc17xx_can.c **** 	}
 517:LPC17xxLib/src/lpc17xx_can.c **** 
 518:LPC17xxLib/src/lpc17xx_can.c **** 	/* Acceptance Filter Memory full - return */
 519:LPC17xxLib/src/lpc17xx_can.c **** 	total =((CANAF_FullCAN_cnt+1)>>1)+ CANAF_FullCAN_cnt*3 +((CANAF_std_cnt + 1) >> 1)+  \
 520:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 1143              	 .loc 1 520 0
 1144 0004 DFF840C2 	 ldr ip,.L227+12
 519:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 1145              	 .loc 1 519 0
 1146 0008 8C4F     	 ldr r7,.L227
 1147 000a DFF840E2 	 ldr lr,.L227+16
 1148 000e B7F800B0 	 ldrh fp,[r7]
 500:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t tmp0 = 0;
 1149              	 .loc 1 500 0
 1150 0012 8DE80600 	 stm sp,{r1,r2}
 1151              	 .loc 1 520 0
 1152 0016 BCF80070 	 ldrh r7,[ip]
 519:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 1153              	 .loc 1 519 0
 1154 001a BEF80020 	 ldrh r2,[lr]
 1155              	.LVL133:
 1156              	 .loc 1 520 0
 1157 001e 0BEB070A 	 add r10,fp,r7
 519:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 1158              	 .loc 1 519 0
 1159 0022 531C     	 adds r3,r2,#1
 1160 0024 02EB4202 	 add r2,r2,r2,lsl#1
 1161              	 .loc 1 520 0
 1162 0028 5244     	 add r2,r2,r10
 519:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 1163              	 .loc 1 519 0
 1164 002a DFF82482 	 ldr r8,.L227+20
 1165              	 .loc 1 520 0
 1166 002e DFF824A2 	 ldr r10,.L227+24
 519:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 1167              	 .loc 1 519 0
 1168 0032 B8F80040 	 ldrh r4,[r8]
 1169              	 .loc 1 520 0
 1170 0036 BAF800A0 	 ldrh r10,[r10]
 519:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 1171              	 .loc 1 519 0
 1172 003a 5B10     	 asrs r3,r3,#1
 1173 003c 9EB2     	 uxth r6,r3
 1174 003e 04F10109 	 add r9,r4,#1
 1175              	 .loc 1 520 0
 1176 0042 02EB4A02 	 add r2,r2,r10,lsl#1
 519:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 1177              	 .loc 1 519 0
 1178 0046 C9F34F05 	 ubfx r5,r9,#1,#16
 1179              	 .loc 1 520 0
 1180 004a 3244     	 add r2,r2,r6
 1181 004c 2A44     	 add r2,r2,r5
 519:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 1182              	 .loc 1 519 0
 1183 004e 12B2     	 sxth r2,r2
 1184              	.LVL134:
 521:LPC17xxLib/src/lpc17xx_can.c **** 	if (total >= 512){ //don't have enough space
 1185              	 .loc 1 521 0
 1186 0050 B2F5007F 	 cmp r2,#512
 1187 0054 80F2F080 	 bge .L220
 513:LPC17xxLib/src/lpc17xx_can.c **** 	{
 1188              	 .loc 1 513 0
 1189 0058 DFF8FCA1 	 ldr r10,.L227+28
 1190 005c A0EB0A01 	 sub r1,r0,r10
 1191              	.LVL135:
 1192 0060 4842     	 rsbs r0,r1,#0
 1193              	.LVL136:
 1194 0062 4841     	 adcs r0,r0,r1
 522:LPC17xxLib/src/lpc17xx_can.c **** 		return CAN_OBJECTS_FULL_ERROR;
 523:LPC17xxLib/src/lpc17xx_can.c **** 	}
 524:LPC17xxLib/src/lpc17xx_can.c **** 
 525:LPC17xxLib/src/lpc17xx_can.c **** 	/* Setup Acceptance Filter Configuration
 526:LPC17xxLib/src/lpc17xx_can.c ****     Acceptance Filter Mode Register = Off */
 527:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->AFMR = 0x00000001;
 1195              	 .loc 1 527 0
 1196 0064 0121     	 movs r1,#1
 1197              	.LVL137:
 1198 0066 AAF5404A 	 sub r10,r10,#49152
 1199 006a CAF80010 	 str r1,[r10]
 528:LPC17xxLib/src/lpc17xx_can.c **** 
 529:LPC17xxLib/src/lpc17xx_can.c **** /*********** Add Explicit Standard Identifier Frame Format entry *********/
 530:LPC17xxLib/src/lpc17xx_can.c ****  	if(format == STD_ID_FORMAT)
 1200              	 .loc 1 530 0
 1201 006e 0199     	 ldr r1,[sp,#4]
 1202 0070 0029     	 cmp r1,#0
 1203 0072 40F0AC80 	 bne .L195
 531:LPC17xxLib/src/lpc17xx_can.c ****  	{
 532:LPC17xxLib/src/lpc17xx_can.c ****  		id &= 0x07FF;
 1204              	 .loc 1 532 0
 1205 0076 0099     	 ldr r1,[sp]
 533:LPC17xxLib/src/lpc17xx_can.c ****  		id |= (tmp0 << 13); /* Add controller number */
 534:LPC17xxLib/src/lpc17xx_can.c **** 		/* Move all remaining sections one place up
 535:LPC17xxLib/src/lpc17xx_can.c **** 		if new entry will increase FullCAN list */
 536:LPC17xxLib/src/lpc17xx_can.c **** 		if ((CANAF_std_cnt & 0x0001) == 0)
 1206              	 .loc 1 536 0
 1207 0078 14F00107 	 ands r7,r4,#1
 532:LPC17xxLib/src/lpc17xx_can.c ****  		id |= (tmp0 << 13); /* Add controller number */
 1208              	 .loc 1 532 0
 1209 007c C1F30A01 	 ubfx r1,r1,#0,#11
 1210              	.LVL138:
 533:LPC17xxLib/src/lpc17xx_can.c ****  		id |= (tmp0 << 13); /* Add controller number */
 1211              	 .loc 1 533 0
 1212 0080 41EA4030 	 orr r0,r1,r0,lsl#13
 1213              	.LVL139:
 1214              	 .loc 1 536 0
 1215 0084 38D1     	 bne .L196
 537:LPC17xxLib/src/lpc17xx_can.c **** 		{
 538:LPC17xxLib/src/lpc17xx_can.c **** 			cnt1   = ((CANAF_FullCAN_cnt+1)>>1)+((CANAF_std_cnt+1)>>1);
 1216              	 .loc 1 538 0
 1217 0086 7119     	 adds r1,r6,r5
 539:LPC17xxLib/src/lpc17xx_can.c **** 			bound1 = total - cnt1;
 540:LPC17xxLib/src/lpc17xx_can.c **** 			buf0   = LPC_CANAF_RAM->mask[cnt1];
 1218              	 .loc 1 540 0
 1219 0088 DFF8B4C1 	 ldr ip,.L227+4
 538:LPC17xxLib/src/lpc17xx_can.c **** 			bound1 = total - cnt1;
 1220              	 .loc 1 538 0
 1221 008c 09B2     	 sxth r1,r1
 1222              	.LVL140:
 1223              	 .loc 1 540 0
 1224 008e 5CF821A0 	 ldr r10,[ip,r1,lsl#2]
 1225              	.LVL141:
 1226              	.L197:
 541:LPC17xxLib/src/lpc17xx_can.c **** 			while(bound1--)
 1227              	 .loc 1 541 0
 1228 0092 9142     	 cmp r1,r2
 1229 0094 22D1     	 bne .L198
 542:LPC17xxLib/src/lpc17xx_can.c **** 			{
 543:LPC17xxLib/src/lpc17xx_can.c **** 				cnt1++;
 544:LPC17xxLib/src/lpc17xx_can.c **** 				buf1 = LPC_CANAF_RAM->mask[cnt1];
 545:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt1] = buf0;
 546:LPC17xxLib/src/lpc17xx_can.c **** 				buf0 = buf1;
 547:LPC17xxLib/src/lpc17xx_can.c **** 			}
 548:LPC17xxLib/src/lpc17xx_can.c **** 		}
 549:LPC17xxLib/src/lpc17xx_can.c **** 		if (CANAF_std_cnt == 0)
 1230              	 .loc 1 549 0
 1231 0096 7CBB     	 cbnz r4,.L196
 1232              	.LVL142:
 550:LPC17xxLib/src/lpc17xx_can.c **** 		{
 551:LPC17xxLib/src/lpc17xx_can.c **** 			cnt2 = (CANAF_FullCAN_cnt + 1)>>1;
 552:LPC17xxLib/src/lpc17xx_can.c **** 			/* For entering first ID */
 553:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[cnt2] = 0x0000FFFF | (id << 16);
 1233              	 .loc 1 553 0
 1234 0098 1BB2     	 sxth r3,r3
 1235              	.LVL143:
 1236              	.L224:
 554:LPC17xxLib/src/lpc17xx_can.c **** 		}
 555:LPC17xxLib/src/lpc17xx_can.c **** 		else if (CANAF_std_cnt == 1)
 556:LPC17xxLib/src/lpc17xx_can.c **** 		{
 557:LPC17xxLib/src/lpc17xx_can.c **** 			cnt2 = (CANAF_FullCAN_cnt + 1)>>1;
 558:LPC17xxLib/src/lpc17xx_can.c **** 			/* For entering second ID */
 559:LPC17xxLib/src/lpc17xx_can.c **** 			if (((LPC_CANAF_RAM->mask[cnt2] >> 16)& 0xE7FF) > id)
 560:LPC17xxLib/src/lpc17xx_can.c **** 			{
 561:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt2] = (LPC_CANAF_RAM->mask[cnt2] >> 16) | (id << 16);
 562:LPC17xxLib/src/lpc17xx_can.c **** 			}
 563:LPC17xxLib/src/lpc17xx_can.c **** 			else
 564:LPC17xxLib/src/lpc17xx_can.c **** 			{
 565:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt2] = (LPC_CANAF_RAM->mask[cnt2] & 0xFFFF0000) | id;
 566:LPC17xxLib/src/lpc17xx_can.c **** 			}
 567:LPC17xxLib/src/lpc17xx_can.c **** 		}
 568:LPC17xxLib/src/lpc17xx_can.c **** 		else
 569:LPC17xxLib/src/lpc17xx_can.c **** 		{
 570:LPC17xxLib/src/lpc17xx_can.c **** 			/* Find where to insert new ID */
 571:LPC17xxLib/src/lpc17xx_can.c **** 			cnt1 = (CANAF_FullCAN_cnt+1)>>1;
 572:LPC17xxLib/src/lpc17xx_can.c **** 			cnt2 = CANAF_std_cnt;
 573:LPC17xxLib/src/lpc17xx_can.c **** 			bound1 = ((CANAF_FullCAN_cnt+1)>>1)+((CANAF_std_cnt+1)>>1);
 574:LPC17xxLib/src/lpc17xx_can.c **** 			while (cnt1 < bound1)
 575:LPC17xxLib/src/lpc17xx_can.c **** 			{
 576:LPC17xxLib/src/lpc17xx_can.c **** 				/* Loop through standard existing IDs */
 577:LPC17xxLib/src/lpc17xx_can.c **** 				if (((LPC_CANAF_RAM->mask[cnt1] >> 16) & 0xE7FF) > id)
 578:LPC17xxLib/src/lpc17xx_can.c **** 				{
 579:LPC17xxLib/src/lpc17xx_can.c **** 					cnt2 = cnt1 * 2;
 580:LPC17xxLib/src/lpc17xx_can.c **** 					break;
 581:LPC17xxLib/src/lpc17xx_can.c **** 				}
 582:LPC17xxLib/src/lpc17xx_can.c **** 
 583:LPC17xxLib/src/lpc17xx_can.c **** 				if ((LPC_CANAF_RAM->mask[cnt1] & 0x0000E7FF) > id)
 584:LPC17xxLib/src/lpc17xx_can.c **** 				{
 585:LPC17xxLib/src/lpc17xx_can.c **** 					cnt2 = cnt1 * 2 + 1;
 586:LPC17xxLib/src/lpc17xx_can.c **** 					break;
 587:LPC17xxLib/src/lpc17xx_can.c **** 				}
 588:LPC17xxLib/src/lpc17xx_can.c **** 
 589:LPC17xxLib/src/lpc17xx_can.c **** 				cnt1++;
 590:LPC17xxLib/src/lpc17xx_can.c **** 			}
 591:LPC17xxLib/src/lpc17xx_can.c **** 			/* cnt1 = U32 where to insert new ID */
 592:LPC17xxLib/src/lpc17xx_can.c **** 			/* cnt2 = U16 where to insert new ID */
 593:LPC17xxLib/src/lpc17xx_can.c **** 
 594:LPC17xxLib/src/lpc17xx_can.c **** 			if (cnt1 == bound1)
 595:LPC17xxLib/src/lpc17xx_can.c **** 			{
 596:LPC17xxLib/src/lpc17xx_can.c **** 				/* Adding ID as last entry */
 597:LPC17xxLib/src/lpc17xx_can.c **** 				/* Even number of IDs exists */
 598:LPC17xxLib/src/lpc17xx_can.c **** 				if ((CANAF_std_cnt & 0x0001) == 0)
 599:LPC17xxLib/src/lpc17xx_can.c **** 				{
 600:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt1]  = 0x0000FFFF | (id << 16);
 1237              	 .loc 1 600 0
 1238 009a 4FF6FF71 	 movw r1,#65535
 1239 009e 684A     	 ldr r2,.L227+4
 1240 00a0 41EA0040 	 orr r0,r1,r0,lsl#16
 1241              	.LVL144:
 1242 00a4 42F82300 	 str r0,[r2,r3,lsl#2]
 1243              	.L199:
 601:LPC17xxLib/src/lpc17xx_can.c **** 				}
 602:LPC17xxLib/src/lpc17xx_can.c **** 				/* Odd  number of IDs exists */
 603:LPC17xxLib/src/lpc17xx_can.c **** 				else
 604:LPC17xxLib/src/lpc17xx_can.c **** 				{
 605:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt1]  = (LPC_CANAF_RAM->mask[cnt1] & 0xFFFF0000) | id;
 606:LPC17xxLib/src/lpc17xx_can.c **** 				}
 607:LPC17xxLib/src/lpc17xx_can.c **** 			}
 608:LPC17xxLib/src/lpc17xx_can.c **** 			else
 609:LPC17xxLib/src/lpc17xx_can.c **** 			{
 610:LPC17xxLib/src/lpc17xx_can.c **** 				buf0 = LPC_CANAF_RAM->mask[cnt1]; /* Remember current entry */
 611:LPC17xxLib/src/lpc17xx_can.c **** 				if ((cnt2 & 0x0001) == 0)
 612:LPC17xxLib/src/lpc17xx_can.c **** 				{
 613:LPC17xxLib/src/lpc17xx_can.c **** 					/* Insert new mask to even address*/
 614:LPC17xxLib/src/lpc17xx_can.c **** 					buf1 = (id << 16) | (buf0 >> 16);
 615:LPC17xxLib/src/lpc17xx_can.c **** 				}
 616:LPC17xxLib/src/lpc17xx_can.c **** 				else
 617:LPC17xxLib/src/lpc17xx_can.c **** 				{
 618:LPC17xxLib/src/lpc17xx_can.c **** 					/* Insert new mask to odd  address */
 619:LPC17xxLib/src/lpc17xx_can.c **** 					buf1 = (buf0 & 0xFFFF0000) | id;
 620:LPC17xxLib/src/lpc17xx_can.c **** 				}
 621:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt1] = buf1;/* Insert mask */
 622:LPC17xxLib/src/lpc17xx_can.c **** 				bound1 = ((CANAF_FullCAN_cnt+1)>>1)+((CANAF_std_cnt+1)>>1)-1;
 623:LPC17xxLib/src/lpc17xx_can.c **** 				/* Move all remaining standard mask entries one place up */
 624:LPC17xxLib/src/lpc17xx_can.c **** 				while (cnt1 < bound1)
 625:LPC17xxLib/src/lpc17xx_can.c **** 				{
 626:LPC17xxLib/src/lpc17xx_can.c **** 					cnt1++;
 627:LPC17xxLib/src/lpc17xx_can.c **** 					buf1  = LPC_CANAF_RAM->mask[cnt1];
 628:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt1] = (buf1 >> 16) | (buf0 << 16);
 629:LPC17xxLib/src/lpc17xx_can.c **** 					buf0  = buf1;
 630:LPC17xxLib/src/lpc17xx_can.c **** 				}
 631:LPC17xxLib/src/lpc17xx_can.c **** 
 632:LPC17xxLib/src/lpc17xx_can.c **** 				if ((CANAF_std_cnt & 0x0001) == 0)
 633:LPC17xxLib/src/lpc17xx_can.c **** 				{
 634:LPC17xxLib/src/lpc17xx_can.c **** 					/* Even number of IDs exists */
 635:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt1+1] = (buf0 <<16) |(0x0000FFFF);
 636:LPC17xxLib/src/lpc17xx_can.c **** 				}
 637:LPC17xxLib/src/lpc17xx_can.c **** 			}
 638:LPC17xxLib/src/lpc17xx_can.c **** 		}
 639:LPC17xxLib/src/lpc17xx_can.c **** 		CANAF_std_cnt++;
 640:LPC17xxLib/src/lpc17xx_can.c **** 		//update address values
 641:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->SFF_GRP_sa +=0x04 ;
 1244              	 .loc 1 641 0
 1245 00a8 664B     	 ldr r3,.L227+8
 639:LPC17xxLib/src/lpc17xx_can.c **** 		//update address values
 1246              	 .loc 1 639 0
 1247 00aa A8F80090 	 strh r9,[r8]
 1248              	 .loc 1 641 0
 1249 00ae 9A68     	 ldr r2,[r3,#8]
 1250 00b0 0432     	 adds r2,r2,#4
 1251 00b2 9A60     	 str r2,[r3,#8]
 642:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->EFF_sa     +=0x04 ;
 1252              	 .loc 1 642 0
 1253 00b4 DA68     	 ldr r2,[r3,#12]
 1254 00b6 0432     	 adds r2,r2,#4
 1255 00b8 DA60     	 str r2,[r3,#12]
 1256              	.LVL145:
 1257              	.L225:
 643:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->EFF_GRP_sa +=0x04;
 644:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->ENDofTable +=0x04;
 645:LPC17xxLib/src/lpc17xx_can.c ****  	}
 646:LPC17xxLib/src/lpc17xx_can.c **** 
 647:LPC17xxLib/src/lpc17xx_can.c **** /*********** Add Explicit Extended Identifier Frame Format entry *********/
 648:LPC17xxLib/src/lpc17xx_can.c ****  	else
 649:LPC17xxLib/src/lpc17xx_can.c ****  	{
 650:LPC17xxLib/src/lpc17xx_can.c ****  		/* Add controller number */
 651:LPC17xxLib/src/lpc17xx_can.c ****  		id |= (tmp0) << 29;
 652:LPC17xxLib/src/lpc17xx_can.c **** 
 653:LPC17xxLib/src/lpc17xx_can.c ****  		cnt1 = ((CANAF_FullCAN_cnt+1)>>1)+(((CANAF_std_cnt + 1) >> 1) + CANAF_gstd_cnt);
 654:LPC17xxLib/src/lpc17xx_can.c ****  		cnt2 = 0;
 655:LPC17xxLib/src/lpc17xx_can.c ****  		while (cnt2 < CANAF_ext_cnt)
 656:LPC17xxLib/src/lpc17xx_can.c ****  		{
 657:LPC17xxLib/src/lpc17xx_can.c ****  			/* Loop through extended existing masks*/
 658:LPC17xxLib/src/lpc17xx_can.c ****  			if (LPC_CANAF_RAM->mask[cnt1] > id)
 659:LPC17xxLib/src/lpc17xx_can.c ****  			{
 660:LPC17xxLib/src/lpc17xx_can.c ****  				break;
 661:LPC17xxLib/src/lpc17xx_can.c ****  			}
 662:LPC17xxLib/src/lpc17xx_can.c ****  			cnt1++;/* cnt1 = U32 where to insert new mask */
 663:LPC17xxLib/src/lpc17xx_can.c **** 			cnt2++;
 664:LPC17xxLib/src/lpc17xx_can.c ****  		}
 665:LPC17xxLib/src/lpc17xx_can.c **** 
 666:LPC17xxLib/src/lpc17xx_can.c ****  		buf0 = LPC_CANAF_RAM->mask[cnt1];  /* Remember current entry */
 667:LPC17xxLib/src/lpc17xx_can.c ****  		LPC_CANAF_RAM->mask[cnt1] = id;    /* Insert mask */
 668:LPC17xxLib/src/lpc17xx_can.c **** 
 669:LPC17xxLib/src/lpc17xx_can.c ****  		CANAF_ext_cnt++;
 670:LPC17xxLib/src/lpc17xx_can.c **** 
 671:LPC17xxLib/src/lpc17xx_can.c ****  		bound1 = total;
 672:LPC17xxLib/src/lpc17xx_can.c ****  		/* Move all remaining extended mask entries one place up*/
 673:LPC17xxLib/src/lpc17xx_can.c ****  		while (cnt2 < bound1)
 674:LPC17xxLib/src/lpc17xx_can.c ****  		{
 675:LPC17xxLib/src/lpc17xx_can.c ****  			cnt1++;
 676:LPC17xxLib/src/lpc17xx_can.c ****  			cnt2++;
 677:LPC17xxLib/src/lpc17xx_can.c ****  			buf1 = LPC_CANAF_RAM->mask[cnt1];
 678:LPC17xxLib/src/lpc17xx_can.c ****  			LPC_CANAF_RAM->mask[cnt1] = buf0;
 679:LPC17xxLib/src/lpc17xx_can.c ****  			buf0 = buf1;
 680:LPC17xxLib/src/lpc17xx_can.c ****  		}
 681:LPC17xxLib/src/lpc17xx_can.c ****  		/* update address values */
 682:LPC17xxLib/src/lpc17xx_can.c ****  		LPC_CANAF->EFF_GRP_sa += 4;
 1258              	 .loc 1 682 0
 1259 00ba 1A69     	 ldr r2,[r3,#16]
 1260 00bc 0432     	 adds r2,r2,#4
 1261 00be 1A61     	 str r2,[r3,#16]
 683:LPC17xxLib/src/lpc17xx_can.c ****  		LPC_CANAF->ENDofTable += 4;
 1262              	 .loc 1 683 0
 1263 00c0 5A69     	 ldr r2,[r3,#20]
 1264 00c2 0432     	 adds r2,r2,#4
 1265 00c4 5A61     	 str r2,[r3,#20]
 684:LPC17xxLib/src/lpc17xx_can.c ****  	}
 685:LPC17xxLib/src/lpc17xx_can.c ****  	if(CANAF_FullCAN_cnt == 0) //not use FullCAN mode
 1266              	 .loc 1 685 0
 1267 00c6 BEF80020 	 ldrh r2,[lr]
 1268 00ca 5E4B     	 ldr r3,.L227+8
 1269 00cc 002A     	 cmp r2,#0
 1270 00ce 40F0B180 	 bne .L219
 1271              	.L226:
 686:LPC17xxLib/src/lpc17xx_can.c ****  	{
 687:LPC17xxLib/src/lpc17xx_can.c ****  		LPC_CANAF->AFMR = 0x00;//not use FullCAN mode
 688:LPC17xxLib/src/lpc17xx_can.c ****  	}
 689:LPC17xxLib/src/lpc17xx_can.c ****  	else
 690:LPC17xxLib/src/lpc17xx_can.c ****  	{
 691:LPC17xxLib/src/lpc17xx_can.c ****  		LPC_CANAF->AFMR = 0x04;
 692:LPC17xxLib/src/lpc17xx_can.c ****  	}
 693:LPC17xxLib/src/lpc17xx_can.c **** 
 694:LPC17xxLib/src/lpc17xx_can.c ****  	return CAN_OK;
 1272              	 .loc 1 694 0
 1273 00d2 0120     	 movs r0,#1
 691:LPC17xxLib/src/lpc17xx_can.c ****  	}
 1274              	 .loc 1 691 0
 1275 00d4 1A60     	 str r2,[r3]
 1276              	.L194:
 695:LPC17xxLib/src/lpc17xx_can.c **** }
 1277              	 .loc 1 695 0
 1278 00d6 03B0     	 add sp,sp,#12
 1279              	 .cfi_remember_state
 1280              	 .cfi_def_cfa_offset 36
 1281              	 
 1282 00d8 BDE8F08F 	 pop {r4,r5,r6,r7,r8,r9,r10,fp,pc}
 1283              	.LVL146:
 1284              	.L198:
 1285              	 .cfi_restore_state
 1286 00dc 0131     	 adds r1,r1,#1
 1287              	.LVL147:
 1288 00de 09B2     	 sxth r1,r1
 1289              	.LVL148:
 1290 00e0 4FEA810C 	 lsl ip,r1,#2
 1291 00e4 0CF1804C 	 add ip,ip,#1073741824
 1292 00e8 0CF5603C 	 add ip,ip,#229376
 544:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt1] = buf0;
 1293              	 .loc 1 544 0
 1294 00ec DCF800B0 	 ldr fp,[ip]
 1295              	.LVL149:
 545:LPC17xxLib/src/lpc17xx_can.c **** 				buf0 = buf1;
 1296              	 .loc 1 545 0
 1297 00f0 CCF800A0 	 str r10,[ip]
 1298              	.LVL150:
 546:LPC17xxLib/src/lpc17xx_can.c **** 			}
 1299              	 .loc 1 546 0
 1300 00f4 DA46     	 mov r10,fp
 1301 00f6 CCE7     	 b .L197
 1302              	.LVL151:
 1303              	.L196:
 555:LPC17xxLib/src/lpc17xx_can.c **** 		{
 1304              	 .loc 1 555 0
 1305 00f8 012C     	 cmp r4,#1
 1306 00fa 1BB2     	 sxth r3,r3
 1307 00fc 11D1     	 bne .L200
 1308              	.LVL152:
 559:LPC17xxLib/src/lpc17xx_can.c **** 			{
 1309              	 .loc 1 559 0
 1310 00fe 4EF2FF72 	 movw r2,#59391
 1311              	.LVL153:
 1312 0102 9B00     	 lsls r3,r3,#2
 1313 0104 03F18043 	 add r3,r3,#1073741824
 1314 0108 03F56033 	 add r3,r3,#229376
 1315 010c 1968     	 ldr r1,[r3]
 1316 010e 02EA1142 	 and r2,r2,r1,lsr#16
 1317 0112 9042     	 cmp r0,r2
 561:LPC17xxLib/src/lpc17xx_can.c **** 			}
 1318              	 .loc 1 561 0
 1319 0114 1968     	 ldr r1,[r3]
 559:LPC17xxLib/src/lpc17xx_can.c **** 			{
 1320              	 .loc 1 559 0
 1321 0116 14D2     	 bcs .L222
 561:LPC17xxLib/src/lpc17xx_can.c **** 			}
 1322              	 .loc 1 561 0
 1323 0118 0004     	 lsls r0,r0,#16
 1324              	.LVL154:
 1325 011a 40EA1140 	 orr r0,r0,r1,lsr#16
 1326              	.L223:
 605:LPC17xxLib/src/lpc17xx_can.c **** 				}
 1327              	 .loc 1 605 0
 1328 011e 1860     	 str r0,[r3]
 1329 0120 C2E7     	 b .L199
 1330              	.LVL155:
 1331              	.L200:
 577:LPC17xxLib/src/lpc17xx_can.c **** 				{
 1332              	 .loc 1 577 0
 1333 0122 4EF2FF71 	 movw r1,#59391
 573:LPC17xxLib/src/lpc17xx_can.c **** 			while (cnt1 < bound1)
 1334              	 .loc 1 573 0
 1335 0126 3544     	 add r5,r5,r6
 1336 0128 ADB2     	 uxth r5,r5
 1337 012a 2EB2     	 sxth r6,r5
 1338              	.LVL156:
 1339              	.L202:
 574:LPC17xxLib/src/lpc17xx_can.c **** 			{
 1340              	 .loc 1 574 0
 1341 012c B342     	 cmp r3,r6
 1342 012e 0CDB     	 blt .L206
 594:LPC17xxLib/src/lpc17xx_can.c **** 			{
 1343              	 .loc 1 594 0
 1344 0130 17D1     	 bne .L207
 598:LPC17xxLib/src/lpc17xx_can.c **** 				{
 1345              	 .loc 1 598 0
 1346 0132 002F     	 cmp r7,#0
 1347 0134 B1D0     	 beq .L224
 1348 0136 9B00     	 lsls r3,r3,#2
 1349              	.LVL157:
 1350 0138 03F18043 	 add r3,r3,#1073741824
 1351 013c 03F56033 	 add r3,r3,#229376
 605:LPC17xxLib/src/lpc17xx_can.c **** 				}
 1352              	 .loc 1 605 0
 1353 0140 1968     	 ldr r1,[r3]
 1354              	.LVL158:
 1355              	.L222:
 1356 0142 090C     	 lsrs r1,r1,#16
 1357 0144 0904     	 lsls r1,r1,#16
 1358 0146 0843     	 orrs r0,r0,r1
 1359              	.LVL159:
 1360 0148 E9E7     	 b .L223
 1361              	.LVL160:
 1362              	.L206:
 1363 014a 9A00     	 lsls r2,r3,#2
 1364 014c 02F18042 	 add r2,r2,#1073741824
 1365 0150 02F56032 	 add r2,r2,#229376
 577:LPC17xxLib/src/lpc17xx_can.c **** 				{
 1366              	 .loc 1 577 0
 1367 0154 D2F800C0 	 ldr ip,[r2]
 1368 0158 01EA1C4C 	 and ip,r1,ip,lsr#16
 1369 015c 6045     	 cmp r0,ip
 1370 015e 1ED2     	 bcs .L203
 579:LPC17xxLib/src/lpc17xx_can.c **** 					break;
 1371              	 .loc 1 579 0
 1372 0160 5C00     	 lsls r4,r3,#1
 1373              	.LVL161:
 1374              	.L207:
 1375 0162 9E00     	 lsls r6,r3,#2
 1376              	.LVL162:
 1377 0164 06F18046 	 add r6,r6,#1073741824
 1378 0168 06F56036 	 add r6,r6,#229376
 610:LPC17xxLib/src/lpc17xx_can.c **** 				if ((cnt2 & 0x0001) == 0)
 1379              	 .loc 1 610 0
 1380 016c 3268     	 ldr r2,[r6]
 572:LPC17xxLib/src/lpc17xx_can.c **** 			bound1 = ((CANAF_FullCAN_cnt+1)>>1)+((CANAF_std_cnt+1)>>1);
 1381              	 .loc 1 572 0
 1382 016e 24B2     	 sxth r4,r4
 1383              	.LVL163:
 614:LPC17xxLib/src/lpc17xx_can.c **** 				}
 1384              	 .loc 1 614 0
 1385 0170 110C     	 lsrs r1,r2,#16
 611:LPC17xxLib/src/lpc17xx_can.c **** 				{
 1386              	 .loc 1 611 0
 1387 0172 E407     	 lsls r4,r4,#31
 1388              	.LVL164:
 619:LPC17xxLib/src/lpc17xx_can.c **** 				}
 1389              	 .loc 1 619 0
 1390 0174 4ABF     	 itet mi
 1391 0176 0904     	 lslmi r1,r1,#16
 614:LPC17xxLib/src/lpc17xx_can.c **** 				}
 1392              	 .loc 1 614 0
 1393 0178 41EA0040 	 orrpl r0,r1,r0,lsl#16
 1394              	.LVL165:
 619:LPC17xxLib/src/lpc17xx_can.c **** 				}
 1395              	 .loc 1 619 0
 1396 017c 0843     	 orrmi r0,r0,r1
 1397              	.LVL166:
 622:LPC17xxLib/src/lpc17xx_can.c **** 				/* Move all remaining standard mask entries one place up */
 1398              	 .loc 1 622 0
 1399 017e 013D     	 subs r5,r5,#1
 1400              	.LVL167:
 621:LPC17xxLib/src/lpc17xx_can.c **** 				bound1 = ((CANAF_FullCAN_cnt+1)>>1)+((CANAF_std_cnt+1)>>1)-1;
 1401              	 .loc 1 621 0
 1402 0180 3060     	 str r0,[r6]
 622:LPC17xxLib/src/lpc17xx_can.c **** 				/* Move all remaining standard mask entries one place up */
 1403              	 .loc 1 622 0
 1404 0182 2DB2     	 sxth r5,r5
 1405              	.LVL168:
 1406              	.L211:
 624:LPC17xxLib/src/lpc17xx_can.c **** 				{
 1407              	 .loc 1 624 0
 1408 0184 AB42     	 cmp r3,r5
 1409 0186 14DB     	 blt .L212
 632:LPC17xxLib/src/lpc17xx_can.c **** 				{
 1410              	 .loc 1 632 0
 1411 0188 002F     	 cmp r7,#0
 1412 018a 8DD1     	 bne .L199
 635:LPC17xxLib/src/lpc17xx_can.c **** 				}
 1413              	 .loc 1 635 0
 1414 018c 4FF6FF71 	 movw r1,#65535
 1415 0190 41EA0242 	 orr r2,r1,r2,lsl#16
 1416              	.LVL169:
 1417 0194 2A49     	 ldr r1,.L227+4
 1418 0196 0133     	 adds r3,r3,#1
 1419              	.LVL170:
 1420 0198 41F82320 	 str r2,[r1,r3,lsl#2]
 1421 019c 84E7     	 b .L199
 1422              	.LVL171:
 1423              	.L203:
 583:LPC17xxLib/src/lpc17xx_can.c **** 				{
 1424              	 .loc 1 583 0
 1425 019e 1268     	 ldr r2,[r2]
 1426 01a0 0A40     	 ands r2,r2,r1
 1427 01a2 9042     	 cmp r0,r2
 1428 01a4 02D2     	 bcs .L205
 585:LPC17xxLib/src/lpc17xx_can.c **** 					break;
 1429              	 .loc 1 585 0
 1430 01a6 5C00     	 lsls r4,r3,#1
 1431              	.LVL172:
 1432 01a8 0134     	 adds r4,r4,#1
 1433 01aa DAE7     	 b .L207
 1434              	.LVL173:
 1435              	.L205:
 1436 01ac 0133     	 adds r3,r3,#1
 1437              	.LVL174:
 1438 01ae 1BB2     	 sxth r3,r3
 1439              	.LVL175:
 1440 01b0 BCE7     	 b .L202
 1441              	.LVL176:
 1442              	.L212:
 1443 01b2 0133     	 adds r3,r3,#1
 1444              	.LVL177:
 1445 01b4 1BB2     	 sxth r3,r3
 1446              	.LVL178:
 1447 01b6 9900     	 lsls r1,r3,#2
 1448 01b8 01F18041 	 add r1,r1,#1073741824
 1449 01bc 01F56031 	 add r1,r1,#229376
 627:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt1] = (buf1 >> 16) | (buf0 << 16);
 1450              	 .loc 1 627 0
 1451 01c0 0868     	 ldr r0,[r1]
 1452              	.LVL179:
 628:LPC17xxLib/src/lpc17xx_can.c **** 					buf0  = buf1;
 1453              	 .loc 1 628 0
 1454 01c2 1204     	 lsls r2,r2,#16
 1455              	.LVL180:
 1456 01c4 42EA1042 	 orr r2,r2,r0,lsr#16
 1457 01c8 0A60     	 str r2,[r1]
 1458              	.LVL181:
 629:LPC17xxLib/src/lpc17xx_can.c **** 				}
 1459              	 .loc 1 629 0
 1460 01ca 0246     	 mov r2,r0
 1461 01cc DAE7     	 b .L211
 1462              	.LVL182:
 1463              	.L195:
 655:LPC17xxLib/src/lpc17xx_can.c ****  		{
 1464              	 .loc 1 655 0
 1465 01ce 0024     	 movs r4,#0
 651:LPC17xxLib/src/lpc17xx_can.c **** 
 1466              	 .loc 1 651 0
 1467 01d0 009B     	 ldr r3,[sp]
 653:LPC17xxLib/src/lpc17xx_can.c ****  		cnt2 = 0;
 1468              	 .loc 1 653 0
 1469 01d2 3544     	 add r5,r5,r6
 1470 01d4 5D44     	 add r5,r5,fp
 658:LPC17xxLib/src/lpc17xx_can.c ****  			{
 1471              	 .loc 1 658 0
 1472 01d6 DFF86880 	 ldr r8,.L227+4
 651:LPC17xxLib/src/lpc17xx_can.c **** 
 1473              	 .loc 1 651 0
 1474 01da 43EA4071 	 orr r1,r3,r0,lsl#29
 1475              	.LVL183:
 653:LPC17xxLib/src/lpc17xx_can.c ****  		cnt2 = 0;
 1476              	 .loc 1 653 0
 1477 01de ADB2     	 uxth r5,r5
 1478              	.LVL184:
 1479              	.L214:
 1480 01e0 2E19     	 adds r6,r5,r4
 655:LPC17xxLib/src/lpc17xx_can.c ****  		{
 1481              	 .loc 1 655 0
 1482 01e2 20B2     	 sxth r0,r4
 1483 01e4 B6B2     	 uxth r6,r6
 1484 01e6 B842     	 cmp r0,r7
 1485 01e8 33B2     	 sxth r3,r6
 1486              	.LVL185:
 1487 01ea 04DA     	 bge .L217
 658:LPC17xxLib/src/lpc17xx_can.c ****  			{
 1488              	 .loc 1 658 0
 1489 01ec 58F82390 	 ldr r9,[r8,r3,lsl#2]
 1490 01f0 601C     	 adds r0,r4,#1
 1491 01f2 4945     	 cmp r1,r9
 1492 01f4 11D2     	 bcs .L221
 1493              	.L217:
 1494 01f6 9D00     	 lsls r5,r3,#2
 1495 01f8 05F18045 	 add r5,r5,#1073741824
 1496 01fc 05F56035 	 add r5,r5,#229376
 669:LPC17xxLib/src/lpc17xx_can.c **** 
 1497              	 .loc 1 669 0
 1498 0200 0137     	 adds r7,r7,#1
 666:LPC17xxLib/src/lpc17xx_can.c ****  		LPC_CANAF_RAM->mask[cnt1] = id;    /* Insert mask */
 1499              	 .loc 1 666 0
 1500 0202 2868     	 ldr r0,[r5]
 1501              	.LVL186:
 673:LPC17xxLib/src/lpc17xx_can.c ****  		{
 1502              	 .loc 1 673 0
 1503 0204 A41B     	 subs r4,r4,r6
 1504              	.LVL187:
 667:LPC17xxLib/src/lpc17xx_can.c **** 
 1505              	 .loc 1 667 0
 1506 0206 2960     	 str r1,[r5]
 669:LPC17xxLib/src/lpc17xx_can.c **** 
 1507              	 .loc 1 669 0
 1508 0208 ACF80070 	 strh r7,[ip]
 1509              	.LVL188:
 1510              	.L215:
 1511 020c 9BB2     	 uxth r3,r3
 673:LPC17xxLib/src/lpc17xx_can.c ****  		{
 1512              	 .loc 1 673 0
 1513 020e 1919     	 adds r1,r3,r4
 1514 0210 09B2     	 sxth r1,r1
 1515 0212 8A42     	 cmp r2,r1
 1516 0214 03DC     	 bgt .L218
 682:LPC17xxLib/src/lpc17xx_can.c ****  		LPC_CANAF->ENDofTable += 4;
 1517              	 .loc 1 682 0
 1518 0216 0B4B     	 ldr r3,.L227+8
 1519              	.LVL189:
 1520 0218 4FE7     	 b .L225
 1521              	.LVL190:
 1522              	.L221:
 1523 021a 0446     	 mov r4,r0
 1524              	.LVL191:
 1525 021c E0E7     	 b .L214
 1526              	.LVL192:
 1527              	.L218:
 1528 021e 0133     	 adds r3,r3,#1
 1529              	.LVL193:
 1530 0220 1BB2     	 sxth r3,r3
 1531              	.LVL194:
 1532 0222 9900     	 lsls r1,r3,#2
 1533 0224 01F18041 	 add r1,r1,#1073741824
 1534 0228 01F56031 	 add r1,r1,#229376
 677:LPC17xxLib/src/lpc17xx_can.c ****  			LPC_CANAF_RAM->mask[cnt1] = buf0;
 1535              	 .loc 1 677 0
 1536 022c 0D68     	 ldr r5,[r1]
 1537              	.LVL195:
 678:LPC17xxLib/src/lpc17xx_can.c ****  			buf0 = buf1;
 1538              	 .loc 1 678 0
 1539 022e 0860     	 str r0,[r1]
 1540              	.LVL196:
 679:LPC17xxLib/src/lpc17xx_can.c ****  		}
 1541              	 .loc 1 679 0
 1542 0230 2846     	 mov r0,r5
 1543 0232 EBE7     	 b .L215
 1544              	.LVL197:
 1545              	.L219:
 691:LPC17xxLib/src/lpc17xx_can.c ****  	}
 1546              	 .loc 1 691 0
 1547 0234 0422     	 movs r2,#4
 1548 0236 4CE7     	 b .L226
 1549              	.LVL198:
 1550              	.L220:
 522:LPC17xxLib/src/lpc17xx_can.c **** 	}
 1551              	 .loc 1 522 0
 1552 0238 0220     	 movs r0,#2
 1553              	.LVL199:
 1554 023a 4CE7     	 b .L194
 1555              	.L228:
 1556              	 .align 2
 1557              	.L227:
 1558 023c 00000000 	 .word .LANCHOR2
 1559 0240 00800340 	 .word 1073971200
 1560 0244 00C00340 	 .word 1073987584
 1561 0248 00000000 	 .word .LANCHOR3
 1562 024c 00000000 	 .word .LANCHOR0
 1563 0250 00000000 	 .word .LANCHOR1
 1564 0254 00000000 	 .word .LANCHOR4
 1565 0258 00800440 	 .word 1074036736
 1566              	 .cfi_endproc
 1567              	.LFE59:
 1569              	 .section .text.CAN_LoadFullCANEntry,"ax",%progbits
 1570              	 .align 1
 1571              	 .global CAN_LoadFullCANEntry
 1572              	 .syntax unified
 1573              	 .thumb
 1574              	 .thumb_func
 1575              	 .fpu softvfp
 1577              	CAN_LoadFullCANEntry:
 1578              	.LFB60:
 696:LPC17xxLib/src/lpc17xx_can.c **** 
 697:LPC17xxLib/src/lpc17xx_can.c **** /********************************************************************//**
 698:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		Load FullCAN entry into AFLUT
 699:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CANx: CAN peripheral selected, should be:
 700:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN1: CAN1 peripheral
 701:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN2: CAN2 peripheral
 702:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	id: identifier of entry that will be added
 703:LPC17xxLib/src/lpc17xx_can.c ****  * @return 		CAN_ERROR, could be:
 704:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_OK: loading is successful
 705:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_ID_EXIT_ERROR: ID exited in FullCAN Section
 706:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_OBJECTS_FULL_ERROR: no more space available
 707:LPC17xxLib/src/lpc17xx_can.c ****  *********************************************************************/
 708:LPC17xxLib/src/lpc17xx_can.c **** CAN_ERROR CAN_LoadFullCANEntry (LPC_CAN_TypeDef* CANx, uint16_t id)
 709:LPC17xxLib/src/lpc17xx_can.c **** {
 1579              	 .loc 1 709 0
 1580              	 .cfi_startproc
 1581              	 
 1582              	 
 1583              	.LVL200:
 710:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t ctrl0 = 0;
 711:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t buf0=0, buf1=0, buf2=0;
 712:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t tmp0=0, tmp1=0, tmp2=0;
 713:LPC17xxLib/src/lpc17xx_can.c **** 	int16_t cnt1=0, cnt2=0, bound1=0, total=0;
 714:LPC17xxLib/src/lpc17xx_can.c **** 	volatile uint32_t abc;
 715:LPC17xxLib/src/lpc17xx_can.c **** 
 716:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CANx(CANx));
 717:LPC17xxLib/src/lpc17xx_can.c **** 
 718:LPC17xxLib/src/lpc17xx_can.c **** 	if (CANx == LPC_CAN1)
 719:LPC17xxLib/src/lpc17xx_can.c **** 	{
 720:LPC17xxLib/src/lpc17xx_can.c **** 		ctrl0 = 0;
 721:LPC17xxLib/src/lpc17xx_can.c **** 	}
 722:LPC17xxLib/src/lpc17xx_can.c **** 	else if (CANx == LPC_CAN2)
 1584              	 .loc 1 722 0
 1585 0000 9E4B     	 ldr r3,.L259
 709:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t ctrl0 = 0;
 1586              	 .loc 1 709 0
 1587 0002 2DE9F347 	 push {r0,r1,r4,r5,r6,r7,r8,r9,r10,lr}
 1588              	 .cfi_def_cfa_offset 40
 1589              	 .cfi_offset 4,-32
 1590              	 .cfi_offset 5,-28
 1591              	 .cfi_offset 6,-24
 1592              	 .cfi_offset 7,-20
 1593              	 .cfi_offset 8,-16
 1594              	 .cfi_offset 9,-12
 1595              	 .cfi_offset 10,-8
 1596              	 .cfi_offset 14,-4
 1597              	 .loc 1 722 0
 1598 0006 C31A     	 subs r3,r0,r3
 1599 0008 5842     	 rsbs r0,r3,#0
 1600              	.LVL201:
 1601 000a 5841     	 adcs r0,r0,r3
 1602              	.LVL202:
 723:LPC17xxLib/src/lpc17xx_can.c **** 	{
 724:LPC17xxLib/src/lpc17xx_can.c **** 		ctrl0 = 1;
 725:LPC17xxLib/src/lpc17xx_can.c **** 	}
 726:LPC17xxLib/src/lpc17xx_can.c **** 
 727:LPC17xxLib/src/lpc17xx_can.c **** 	/* Acceptance Filter Memory full - return */
 728:LPC17xxLib/src/lpc17xx_can.c **** 	total =((CANAF_FullCAN_cnt+1)>>1)+ CANAF_FullCAN_cnt*3 +((CANAF_std_cnt + 1) >> 1)+  \
 1603              	 .loc 1 728 0
 1604 000c 9C4B     	 ldr r3,.L259+4
 1605              	.LVL203:
 1606 000e 9D4E     	 ldr r6,.L259+8
 729:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 1607              	 .loc 1 729 0
 1608 0010 1C88     	 ldrh r4,[r3]
 1609 0012 9D4B     	 ldr r3,.L259+12
 728:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 1610              	 .loc 1 728 0
 1611 0014 3588     	 ldrh r5,[r6]
 1612              	 .loc 1 729 0
 1613 0016 1B88     	 ldrh r3,[r3]
 728:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 1614              	 .loc 1 728 0
 1615 0018 6F1C     	 adds r7,r5,#1
 1616              	 .loc 1 729 0
 1617 001a 1C44     	 add r4,r4,r3
 728:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 1618              	 .loc 1 728 0
 1619 001c 05EB4503 	 add r3,r5,r5,lsl#1
 1620              	 .loc 1 729 0
 1621 0020 1C44     	 add r4,r4,r3
 1622 0022 9A4B     	 ldr r3,.L259+16
 1623 0024 1B88     	 ldrh r3,[r3]
 1624 0026 04EB4304 	 add r4,r4,r3,lsl#1
 728:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 1625              	 .loc 1 728 0
 1626 002a 994B     	 ldr r3,.L259+20
 1627              	 .loc 1 729 0
 1628 002c 04EB6704 	 add r4,r4,r7,asr#1
 728:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 1629              	 .loc 1 728 0
 1630 0030 1A88     	 ldrh r2,[r3]
 1631 0032 0132     	 adds r2,r2,#1
 1632              	 .loc 1 729 0
 1633 0034 04EB6204 	 add r4,r4,r2,asr#1
 1634 0038 A4B2     	 uxth r4,r4
 728:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 1635              	 .loc 1 728 0
 1636 003a 23B2     	 sxth r3,r4
 1637              	.LVL204:
 730:LPC17xxLib/src/lpc17xx_can.c **** 	//don't have enough space for this fullCAN Entry and its Object(3*32 bytes)
 731:LPC17xxLib/src/lpc17xx_can.c **** 	if ((total >=508)||(CANAF_FullCAN_cnt>=64)){
 1638              	 .loc 1 731 0
 1639 003c B3F5FE7F 	 cmp r3,#508
 1640 0040 80F21981 	 bge .L254
 1641              	 .loc 1 731 0 is_stmt 0 discriminator 1
 1642 0044 3F2D     	 cmp r5,#63
 1643 0046 00F21681 	 bhi .L254
 732:LPC17xxLib/src/lpc17xx_can.c **** 		return CAN_OBJECTS_FULL_ERROR;
 733:LPC17xxLib/src/lpc17xx_can.c **** 	}
 734:LPC17xxLib/src/lpc17xx_can.c **** 	/* Setup Acceptance Filter Configuration
 735:LPC17xxLib/src/lpc17xx_can.c ****     Acceptance Filter Mode Register = Off */
 736:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->AFMR = 0x00000001;
 1644              	 .loc 1 736 0 is_stmt 1
 1645 004a 4FF0010E 	 mov lr,#1
 1646 004e 914A     	 ldr r2,.L259+24
 737:LPC17xxLib/src/lpc17xx_can.c **** 
 738:LPC17xxLib/src/lpc17xx_can.c **** 	/* Add mask for standard identifiers   */
 739:LPC17xxLib/src/lpc17xx_can.c **** 	id &= 0x07FF;
 1647              	 .loc 1 739 0
 1648 0050 C1F30A01 	 ubfx r1,r1,#0,#11
 1649              	.LVL205:
 740:LPC17xxLib/src/lpc17xx_can.c **** 	id |= (ctrl0 << 13) | (1 << 11); /* Add controller number */
 1650              	 .loc 1 740 0
 1651 0054 41EA4030 	 orr r0,r1,r0,lsl#13
 1652              	.LVL206:
 741:LPC17xxLib/src/lpc17xx_can.c **** //	total = ((CANAF_std_cnt + 1) >> 1)+ CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 742:LPC17xxLib/src/lpc17xx_can.c **** 	/* Move all remaining sections one place up
 743:LPC17xxLib/src/lpc17xx_can.c **** 	if new entry will increase FullCAN list */
 744:LPC17xxLib/src/lpc17xx_can.c **** 	if (((CANAF_FullCAN_cnt & 0x0001) == 0)&&(total!=0))
 1653              	 .loc 1 744 0
 1654 0058 15EA0E0C 	 ands ip,r5,lr
 736:LPC17xxLib/src/lpc17xx_can.c **** 
 1655              	 .loc 1 736 0
 1656 005c C2F800E0 	 str lr,[r2]
 1657              	.LVL207:
 740:LPC17xxLib/src/lpc17xx_can.c **** 	id |= (ctrl0 << 13) | (1 << 11); /* Add controller number */
 1658              	 .loc 1 740 0
 1659 0060 40F40062 	 orr r2,r0,#2048
 1660              	.LVL208:
 1661              	 .loc 1 744 0
 1662 0064 01D1     	 bne .L231
 1663              	 .loc 1 744 0 is_stmt 0 discriminator 1
 1664 0066 A3B9     	 cbnz r3,.L232
 1665              	.LVL209:
 1666              	.L236:
 745:LPC17xxLib/src/lpc17xx_can.c **** 	{
 746:LPC17xxLib/src/lpc17xx_can.c **** 		//then remove remaining section
 747:LPC17xxLib/src/lpc17xx_can.c **** 		cnt1   = (CANAF_FullCAN_cnt >> 1);
 748:LPC17xxLib/src/lpc17xx_can.c **** 		bound1 = total;
 749:LPC17xxLib/src/lpc17xx_can.c **** 		buf0   = LPC_CANAF_RAM->mask[cnt1];
 750:LPC17xxLib/src/lpc17xx_can.c **** 
 751:LPC17xxLib/src/lpc17xx_can.c **** 		while (bound1--)
 752:LPC17xxLib/src/lpc17xx_can.c **** 		{
 753:LPC17xxLib/src/lpc17xx_can.c **** 			cnt1++;
 754:LPC17xxLib/src/lpc17xx_can.c **** 			buf1 = LPC_CANAF_RAM->mask[cnt1];
 755:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[cnt1] = buf0;
 756:LPC17xxLib/src/lpc17xx_can.c **** 			buf0 = buf1;
 757:LPC17xxLib/src/lpc17xx_can.c **** 		}
 758:LPC17xxLib/src/lpc17xx_can.c **** 	}
 759:LPC17xxLib/src/lpc17xx_can.c **** 	if (CANAF_FullCAN_cnt == 0)
 1667              	 .loc 1 759 0 is_stmt 1
 1668 0068 5DB3     	 cbz r5,.L233
 1669              	.L231:
 760:LPC17xxLib/src/lpc17xx_can.c **** 	{
 761:LPC17xxLib/src/lpc17xx_can.c **** 		/* For entering first ID */
 762:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF_RAM->mask[0] = 0x0000FFFF | (id << 16);
 763:LPC17xxLib/src/lpc17xx_can.c **** 	}
 764:LPC17xxLib/src/lpc17xx_can.c **** 	else if (CANAF_FullCAN_cnt == 1)
 1670              	 .loc 1 764 0
 1671 006a 012D     	 cmp r5,#1
 1672 006c 71D1     	 bne .L238
 765:LPC17xxLib/src/lpc17xx_can.c **** 	{
 766:LPC17xxLib/src/lpc17xx_can.c **** 		/* For entering second ID */
 767:LPC17xxLib/src/lpc17xx_can.c **** 		if (((LPC_CANAF_RAM->mask[0] >> 16)& 0xE7FF) > id)
 1673              	 .loc 1 767 0
 1674 006e 4EF2FF73 	 movw r3,#59391
 1675 0072 8949     	 ldr r1,.L259+28
 1676 0074 0868     	 ldr r0,[r1]
 1677 0076 03EA1043 	 and r3,r3,r0,lsr#16
 1678 007a 9342     	 cmp r3,r2
 768:LPC17xxLib/src/lpc17xx_can.c **** 		{
 769:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[0] = (LPC_CANAF_RAM->mask[0] >> 16) | (id << 16);
 1679              	 .loc 1 769 0
 1680 007c 0B68     	 ldr r3,[r1]
 1681 007e 8DBF     	 iteet hi
 1682 0080 1204     	 lslhi r2,r2,#16
 1683              	.LVL210:
 770:LPC17xxLib/src/lpc17xx_can.c **** 		}
 771:LPC17xxLib/src/lpc17xx_can.c **** 		else
 772:LPC17xxLib/src/lpc17xx_can.c **** 		{
 773:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[0] = (LPC_CANAF_RAM->mask[0] & 0xFFFF0000) | id;
 1684              	 .loc 1 773 0
 1685 0082 1B0C     	 lsrls r3,r3,#16
 1686 0084 1B04     	 lslls r3,r3,#16
 769:LPC17xxLib/src/lpc17xx_can.c **** 		}
 1687              	 .loc 1 769 0
 1688 0086 42EA1342 	 orrhi r2,r2,r3,lsr#16
 1689              	 .loc 1 773 0
 1690 008a 98BF     	 it ls
 1691 008c 1A43     	 orrls r2,r2,r3
 1692 008e 0A60     	 str r2,[r1]
 1693 0090 1DE0     	 b .L258
 1694              	.LVL211:
 1695              	.L232:
 749:LPC17xxLib/src/lpc17xx_can.c **** 
 1696              	 .loc 1 749 0
 1697 0092 DFF804E2 	 ldr lr,.L259+28
 747:LPC17xxLib/src/lpc17xx_can.c **** 		bound1 = total;
 1698              	 .loc 1 747 0
 1699 0096 6B08     	 lsrs r3,r5,#1
 1700              	.LVL212:
 1701 0098 19B2     	 sxth r1,r3
 1702              	.LVL213:
 749:LPC17xxLib/src/lpc17xx_can.c **** 
 1703              	 .loc 1 749 0
 1704 009a 5EF82380 	 ldr r8,[lr,r3,lsl#2]
 1705              	.LVL214:
 1706 009e 2344     	 add r3,r3,r4
 1707 00a0 1BB2     	 sxth r3,r3
 1708              	.LVL215:
 1709              	.L234:
 751:LPC17xxLib/src/lpc17xx_can.c **** 		{
 1710              	 .loc 1 751 0
 1711 00a2 9942     	 cmp r1,r3
 1712 00a4 E0D0     	 beq .L236
 1713 00a6 0131     	 adds r1,r1,#1
 1714              	.LVL216:
 1715 00a8 09B2     	 sxth r1,r1
 1716              	.LVL217:
 1717 00aa 4FEA810E 	 lsl lr,r1,#2
 1718 00ae 0EF1804E 	 add lr,lr,#1073741824
 1719 00b2 0EF5603E 	 add lr,lr,#229376
 754:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[cnt1] = buf0;
 1720              	 .loc 1 754 0
 1721 00b6 DEF80090 	 ldr r9,[lr]
 1722              	.LVL218:
 755:LPC17xxLib/src/lpc17xx_can.c **** 			buf0 = buf1;
 1723              	 .loc 1 755 0
 1724 00ba CEF80080 	 str r8,[lr]
 1725              	.LVL219:
 756:LPC17xxLib/src/lpc17xx_can.c **** 		}
 1726              	 .loc 1 756 0
 1727 00be C846     	 mov r8,r9
 1728 00c0 EFE7     	 b .L234
 1729              	.LVL220:
 1730              	.L233:
 762:LPC17xxLib/src/lpc17xx_can.c **** 	}
 1731              	 .loc 1 762 0
 1732 00c2 4FF6FF73 	 movw r3,#65535
 1733 00c6 43EA0242 	 orr r2,r3,r2,lsl#16
 1734              	.LVL221:
 1735 00ca 734B     	 ldr r3,.L259+28
 1736 00cc 1A60     	 str r2,[r3]
 1737              	.LVL222:
 1738              	.L258:
 713:LPC17xxLib/src/lpc17xx_can.c **** 	volatile uint32_t abc;
 1739              	 .loc 1 713 0
 1740 00ce 0021     	 movs r1,#0
 1741              	.LVL223:
 1742              	.L237:
 774:LPC17xxLib/src/lpc17xx_can.c **** 		}
 775:LPC17xxLib/src/lpc17xx_can.c **** 	}
 776:LPC17xxLib/src/lpc17xx_can.c **** 	else
 777:LPC17xxLib/src/lpc17xx_can.c **** 	{
 778:LPC17xxLib/src/lpc17xx_can.c **** 		/* Find where to insert new ID */
 779:LPC17xxLib/src/lpc17xx_can.c **** 		cnt1 = 0;
 780:LPC17xxLib/src/lpc17xx_can.c **** 		cnt2 = CANAF_FullCAN_cnt;
 781:LPC17xxLib/src/lpc17xx_can.c **** 		bound1 = (CANAF_FullCAN_cnt - 1) >> 1;
 782:LPC17xxLib/src/lpc17xx_can.c **** 		while (cnt1 <= bound1)
 783:LPC17xxLib/src/lpc17xx_can.c **** 		{
 784:LPC17xxLib/src/lpc17xx_can.c **** 			abc = (LPC_CANAF_RAM->mask[cnt1] >> 16)& 0xE7FF;
 785:LPC17xxLib/src/lpc17xx_can.c **** 			/* Loop through standard existing IDs */
 786:LPC17xxLib/src/lpc17xx_can.c **** 			if (((LPC_CANAF_RAM->mask[cnt1] >> 16) & 0xE7FF) > (id & 0xE7FF))
 787:LPC17xxLib/src/lpc17xx_can.c **** 			{
 788:LPC17xxLib/src/lpc17xx_can.c **** 				cnt2 = cnt1 * 2;
 789:LPC17xxLib/src/lpc17xx_can.c **** 				break;
 790:LPC17xxLib/src/lpc17xx_can.c **** 			}
 791:LPC17xxLib/src/lpc17xx_can.c **** 
 792:LPC17xxLib/src/lpc17xx_can.c **** 			abc = LPC_CANAF_RAM->mask[cnt1] & 0x0000E7FF;
 793:LPC17xxLib/src/lpc17xx_can.c **** 			if ((LPC_CANAF_RAM->mask[cnt1] & 0x0000E7FF) > (id & 0xE7FF))
 794:LPC17xxLib/src/lpc17xx_can.c **** 			{
 795:LPC17xxLib/src/lpc17xx_can.c **** 				cnt2 = cnt1 * 2 + 1;
 796:LPC17xxLib/src/lpc17xx_can.c **** 				break;
 797:LPC17xxLib/src/lpc17xx_can.c **** 			}
 798:LPC17xxLib/src/lpc17xx_can.c **** 
 799:LPC17xxLib/src/lpc17xx_can.c **** 			cnt1++;
 800:LPC17xxLib/src/lpc17xx_can.c **** 		}
 801:LPC17xxLib/src/lpc17xx_can.c **** 		/* cnt1 = U32 where to insert new ID */
 802:LPC17xxLib/src/lpc17xx_can.c **** 		/* cnt2 = U16 where to insert new ID */
 803:LPC17xxLib/src/lpc17xx_can.c **** 
 804:LPC17xxLib/src/lpc17xx_can.c **** 		if (cnt1 > bound1)
 805:LPC17xxLib/src/lpc17xx_can.c **** 		{
 806:LPC17xxLib/src/lpc17xx_can.c **** 			/* Adding ID as last entry */
 807:LPC17xxLib/src/lpc17xx_can.c **** 			/* Even number of IDs exists */
 808:LPC17xxLib/src/lpc17xx_can.c **** 			if ((CANAF_FullCAN_cnt & 0x0001) == 0)
 809:LPC17xxLib/src/lpc17xx_can.c **** 			{
 810:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt1]  = 0x0000FFFF | (id << 16);
 811:LPC17xxLib/src/lpc17xx_can.c **** 			}
 812:LPC17xxLib/src/lpc17xx_can.c **** 			/* Odd  number of IDs exists */
 813:LPC17xxLib/src/lpc17xx_can.c **** 			else
 814:LPC17xxLib/src/lpc17xx_can.c **** 			{
 815:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt1]  = (LPC_CANAF_RAM->mask[cnt1] & 0xFFFF0000) | id;
 816:LPC17xxLib/src/lpc17xx_can.c **** 			}
 817:LPC17xxLib/src/lpc17xx_can.c **** 		}
 818:LPC17xxLib/src/lpc17xx_can.c **** 		else
 819:LPC17xxLib/src/lpc17xx_can.c **** 		{
 820:LPC17xxLib/src/lpc17xx_can.c **** 			buf0 = LPC_CANAF_RAM->mask[cnt1]; /* Remember current entry */
 821:LPC17xxLib/src/lpc17xx_can.c **** 			if ((cnt2 & 0x0001) == 0)
 822:LPC17xxLib/src/lpc17xx_can.c **** 			{
 823:LPC17xxLib/src/lpc17xx_can.c **** 				/* Insert new mask to even address*/
 824:LPC17xxLib/src/lpc17xx_can.c **** 				buf1 = (id << 16) | (buf0 >> 16);
 825:LPC17xxLib/src/lpc17xx_can.c **** 			}
 826:LPC17xxLib/src/lpc17xx_can.c **** 			else
 827:LPC17xxLib/src/lpc17xx_can.c **** 			{
 828:LPC17xxLib/src/lpc17xx_can.c **** 				/* Insert new mask to odd  address */
 829:LPC17xxLib/src/lpc17xx_can.c **** 				buf1 = (buf0 & 0xFFFF0000) | id;
 830:LPC17xxLib/src/lpc17xx_can.c **** 			}
 831:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[cnt1] = buf1;/* Insert mask */
 832:LPC17xxLib/src/lpc17xx_can.c **** 			bound1 = CANAF_FullCAN_cnt >> 1;
 833:LPC17xxLib/src/lpc17xx_can.c **** 			/* Move all remaining standard mask entries one place up */
 834:LPC17xxLib/src/lpc17xx_can.c **** 			while (cnt1 < bound1)
 835:LPC17xxLib/src/lpc17xx_can.c **** 			{
 836:LPC17xxLib/src/lpc17xx_can.c **** 				cnt1++;
 837:LPC17xxLib/src/lpc17xx_can.c **** 				buf1  = LPC_CANAF_RAM->mask[cnt1];
 838:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt1] = (buf1 >> 16) | (buf0 << 16);
 839:LPC17xxLib/src/lpc17xx_can.c **** 				buf0  = buf1;
 840:LPC17xxLib/src/lpc17xx_can.c **** 			}
 841:LPC17xxLib/src/lpc17xx_can.c **** 
 842:LPC17xxLib/src/lpc17xx_can.c **** 			if ((CANAF_FullCAN_cnt & 0x0001) == 0)
 843:LPC17xxLib/src/lpc17xx_can.c **** 			{
 844:LPC17xxLib/src/lpc17xx_can.c **** 				/* Even number of IDs exists */
 845:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt1] = (LPC_CANAF_RAM->mask[cnt1] & 0xFFFF0000)
 846:LPC17xxLib/src/lpc17xx_can.c **** 											| (0x0000FFFF);
 847:LPC17xxLib/src/lpc17xx_can.c **** 			}
 848:LPC17xxLib/src/lpc17xx_can.c **** 		}
 849:LPC17xxLib/src/lpc17xx_can.c **** 	}
 850:LPC17xxLib/src/lpc17xx_can.c **** 	//restruct FulCAN Object Section
 851:LPC17xxLib/src/lpc17xx_can.c **** 	bound1 = CANAF_FullCAN_cnt - cnt2;
 852:LPC17xxLib/src/lpc17xx_can.c **** 	cnt1 = total - (CANAF_FullCAN_cnt)*3 + cnt2*3 + 1;
 853:LPC17xxLib/src/lpc17xx_can.c **** 	buf0 = LPC_CANAF_RAM->mask[cnt1];
 854:LPC17xxLib/src/lpc17xx_can.c **** 	buf1 = LPC_CANAF_RAM->mask[cnt1+1];
 855:LPC17xxLib/src/lpc17xx_can.c **** 	buf2 = LPC_CANAF_RAM->mask[cnt1+2];
 856:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF_RAM->mask[cnt1]=LPC_CANAF_RAM->mask[cnt1+1]= LPC_CANAF_RAM->mask[cnt1+2]=0x00;
 1743              	 .loc 1 856 0
 1744 00d0 4FF0000C 	 mov ip,#0
 852:LPC17xxLib/src/lpc17xx_can.c **** 	buf0 = LPC_CANAF_RAM->mask[cnt1];
 1745              	 .loc 1 852 0
 1746 00d4 C5EB8532 	 rsb r2,r5,r5,lsl#14
 851:LPC17xxLib/src/lpc17xx_can.c **** 	cnt1 = total - (CANAF_FullCAN_cnt)*3 + cnt2*3 + 1;
 1747              	 .loc 1 851 0
 1748 00d8 8BB2     	 uxth r3,r1
 1749              	.LVL224:
 852:LPC17xxLib/src/lpc17xx_can.c **** 	buf0 = LPC_CANAF_RAM->mask[cnt1];
 1750              	 .loc 1 852 0
 1751 00da 05EB8202 	 add r2,r5,r2,lsl#2
 1752 00de 2244     	 add r2,r2,r4
 1753 00e0 03EB4304 	 add r4,r3,r3,lsl#1
 1754              	.LVL225:
 1755 00e4 2244     	 add r2,r2,r4
 1756 00e6 92B2     	 uxth r2,r2
 1757              	.LVL226:
 1758 00e8 511C     	 adds r1,r2,#1
 1759              	.LVL227:
 1760 00ea 09B2     	 sxth r1,r1
 1761 00ec 8900     	 lsls r1,r1,#2
 851:LPC17xxLib/src/lpc17xx_can.c **** 	cnt1 = total - (CANAF_FullCAN_cnt)*3 + cnt2*3 + 1;
 1762              	 .loc 1 851 0
 1763 00ee EB1A     	 subs r3,r5,r3
 1764              	.LVL228:
 1765 00f0 01F18041 	 add r1,r1,#1073741824
 1766 00f4 03EB4303 	 add r3,r3,r3,lsl#1
 1767 00f8 01F56031 	 add r1,r1,#229376
 1768 00fc 1344     	 add r3,r3,r2
 853:LPC17xxLib/src/lpc17xx_can.c **** 	buf1 = LPC_CANAF_RAM->mask[cnt1+1];
 1769              	 .loc 1 853 0
 1770 00fe 0868     	 ldr r0,[r1]
 1771              	.LVL229:
 1772 0100 0433     	 adds r3,r3,#4
 854:LPC17xxLib/src/lpc17xx_can.c **** 	buf2 = LPC_CANAF_RAM->mask[cnt1+2];
 1773              	 .loc 1 854 0
 1774 0102 4C68     	 ldr r4,[r1,#4]
 1775              	.LVL230:
 855:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF_RAM->mask[cnt1]=LPC_CANAF_RAM->mask[cnt1+1]= LPC_CANAF_RAM->mask[cnt1+2]=0x00;
 1776              	 .loc 1 855 0
 1777 0104 D1F808E0 	 ldr lr,[r1,#8]
 1778              	.LVL231:
 1779              	 .loc 1 856 0
 1780 0108 C1F808C0 	 str ip,[r1,#8]
 1781 010c C1F804C0 	 str ip,[r1,#4]
 1782 0110 C1F800C0 	 str ip,[r1]
 857:LPC17xxLib/src/lpc17xx_can.c **** 	cnt1+=3;
 1783              	 .loc 1 857 0
 1784 0114 02F1040C 	 add ip,r2,#4
 1785 0118 0FFA8CFC 	 sxth ip,ip
 1786              	.LVL232:
 1787 011c 1BB2     	 sxth r3,r3
 1788              	.LVL233:
 1789              	.L251:
 858:LPC17xxLib/src/lpc17xx_can.c **** 	while(bound1--)
 1790              	 .loc 1 858 0
 1791 011e 9C45     	 cmp ip,r3
 1792 0120 40F09380 	 bne .L252
 859:LPC17xxLib/src/lpc17xx_can.c **** 	{
 860:LPC17xxLib/src/lpc17xx_can.c **** 		tmp0 = LPC_CANAF_RAM->mask[cnt1];
 861:LPC17xxLib/src/lpc17xx_can.c **** 		tmp1 = LPC_CANAF_RAM->mask[cnt1+1];
 862:LPC17xxLib/src/lpc17xx_can.c **** 		tmp2 = LPC_CANAF_RAM->mask[cnt1+2];
 863:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF_RAM->mask[cnt1]= buf0;
 864:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF_RAM->mask[cnt1+1]= buf1;
 865:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF_RAM->mask[cnt1+2]= buf2;
 866:LPC17xxLib/src/lpc17xx_can.c **** 		buf0 = tmp0;
 867:LPC17xxLib/src/lpc17xx_can.c **** 		buf1 = tmp1;
 868:LPC17xxLib/src/lpc17xx_can.c **** 		buf2 = tmp2;
 869:LPC17xxLib/src/lpc17xx_can.c **** 		cnt1+=3;
 870:LPC17xxLib/src/lpc17xx_can.c **** 	}
 871:LPC17xxLib/src/lpc17xx_can.c **** 	CANAF_FullCAN_cnt++;
 872:LPC17xxLib/src/lpc17xx_can.c **** 	//update address values
 873:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->SFF_sa 	  +=0x04;
 1793              	 .loc 1 873 0
 1794 0124 5B4B     	 ldr r3,.L259+24
 871:LPC17xxLib/src/lpc17xx_can.c **** 	//update address values
 1795              	 .loc 1 871 0
 1796 0126 3780     	 strh r7,[r6]
 1797              	 .loc 1 873 0
 1798 0128 5A68     	 ldr r2,[r3,#4]
 874:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->SFF_GRP_sa +=0x04 ;
 875:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->EFF_sa     +=0x04 ;
 876:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->EFF_GRP_sa +=0x04;
 877:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->ENDofTable +=0x04;
 878:LPC17xxLib/src/lpc17xx_can.c **** 
 879:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->AFMR = 0x04;
 880:LPC17xxLib/src/lpc17xx_can.c ****  	return CAN_OK;
 1799              	 .loc 1 880 0
 1800 012a 0120     	 movs r0,#1
 1801              	.LVL234:
 873:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->SFF_GRP_sa +=0x04 ;
 1802              	 .loc 1 873 0
 1803 012c 0432     	 adds r2,r2,#4
 1804 012e 5A60     	 str r2,[r3,#4]
 874:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->SFF_GRP_sa +=0x04 ;
 1805              	 .loc 1 874 0
 1806 0130 9A68     	 ldr r2,[r3,#8]
 1807 0132 0432     	 adds r2,r2,#4
 1808 0134 9A60     	 str r2,[r3,#8]
 875:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->EFF_GRP_sa +=0x04;
 1809              	 .loc 1 875 0
 1810 0136 DA68     	 ldr r2,[r3,#12]
 1811 0138 0432     	 adds r2,r2,#4
 1812 013a DA60     	 str r2,[r3,#12]
 876:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->ENDofTable +=0x04;
 1813              	 .loc 1 876 0
 1814 013c 1A69     	 ldr r2,[r3,#16]
 1815 013e 0432     	 adds r2,r2,#4
 1816 0140 1A61     	 str r2,[r3,#16]
 877:LPC17xxLib/src/lpc17xx_can.c **** 
 1817              	 .loc 1 877 0
 1818 0142 5A69     	 ldr r2,[r3,#20]
 1819 0144 0432     	 adds r2,r2,#4
 1820 0146 5A61     	 str r2,[r3,#20]
 879:LPC17xxLib/src/lpc17xx_can.c ****  	return CAN_OK;
 1821              	 .loc 1 879 0
 1822 0148 0422     	 movs r2,#4
 1823 014a 1A60     	 str r2,[r3]
 1824              	.LVL235:
 1825              	.L230:
 881:LPC17xxLib/src/lpc17xx_can.c **** }
 1826              	 .loc 1 881 0
 1827 014c 02B0     	 add sp,sp,#8
 1828              	 .cfi_remember_state
 1829              	 .cfi_def_cfa_offset 32
 1830              	 
 1831 014e BDE8F087 	 pop {r4,r5,r6,r7,r8,r9,r10,pc}
 1832              	.LVL236:
 1833              	.L238:
 1834              	 .cfi_restore_state
 779:LPC17xxLib/src/lpc17xx_can.c **** 		cnt2 = CANAF_FullCAN_cnt;
 1835              	 .loc 1 779 0
 1836 0152 0023     	 movs r3,#0
 784:LPC17xxLib/src/lpc17xx_can.c **** 			/* Loop through standard existing IDs */
 1837              	 .loc 1 784 0
 1838 0154 4EF2FF7A 	 movw r10,#59391
 781:LPC17xxLib/src/lpc17xx_can.c **** 		while (cnt1 <= bound1)
 1839              	 .loc 1 781 0
 1840 0158 05F1FF39 	 add r9,r5,#-1
 1841 015c 4FEA6909 	 asr r9,r9,#1
 1842              	.LVL237:
 1843              	.L243:
 1844 0160 4FEA830E 	 lsl lr,r3,#2
 1845 0164 0EF18048 	 add r8,lr,#1073741824
 1846 0168 08F56038 	 add r8,r8,#229376
 784:LPC17xxLib/src/lpc17xx_can.c **** 			/* Loop through standard existing IDs */
 1847              	 .loc 1 784 0
 1848 016c D8F80010 	 ldr r1,[r8]
 1849 0170 0AEA1141 	 and r1,r10,r1,lsr#16
 1850 0174 0191     	 str r1,[sp,#4]
 786:LPC17xxLib/src/lpc17xx_can.c **** 			{
 1851              	 .loc 1 786 0
 1852 0176 D8F80010 	 ldr r1,[r8]
 1853 017a 0AEA1141 	 and r1,r10,r1,lsr#16
 1854 017e 8142     	 cmp r1,r0
 1855 0180 0ED9     	 bls .L240
 788:LPC17xxLib/src/lpc17xx_can.c **** 				break;
 1856              	 .loc 1 788 0
 1857 0182 5900     	 lsls r1,r3,#1
 1858              	.L256:
 804:LPC17xxLib/src/lpc17xx_can.c **** 		{
 1859              	 .loc 1 804 0
 1860 0184 9945     	 cmp r9,r3
 795:LPC17xxLib/src/lpc17xx_can.c **** 				break;
 1861              	 .loc 1 795 0
 1862 0186 09B2     	 sxth r1,r1
 1863              	.LVL238:
 804:LPC17xxLib/src/lpc17xx_can.c **** 		{
 1864              	 .loc 1 804 0
 1865 0188 29DA     	 bge .L245
 1866              	.LVL239:
 1867              	.L244:
 808:LPC17xxLib/src/lpc17xx_can.c **** 			{
 1868              	 .loc 1 808 0
 1869 018a BCF1000F 	 cmp ip,#0
 1870 018e 1BD1     	 bne .L246
 810:LPC17xxLib/src/lpc17xx_can.c **** 			}
 1871              	 .loc 1 810 0
 1872 0190 4FF6FF70 	 movw r0,#65535
 1873 0194 40EA0242 	 orr r2,r0,r2,lsl#16
 1874              	.LVL240:
 1875 0198 3F48     	 ldr r0,.L259+28
 1876 019a 40F82320 	 str r2,[r0,r3,lsl#2]
 1877 019e 97E7     	 b .L237
 1878              	.LVL241:
 1879              	.L240:
 792:LPC17xxLib/src/lpc17xx_can.c **** 			if ((LPC_CANAF_RAM->mask[cnt1] & 0x0000E7FF) > (id & 0xE7FF))
 1880              	 .loc 1 792 0
 1881 01a0 D8F80010 	 ldr r1,[r8]
 1882 01a4 01EA0A01 	 and r1,r1,r10
 1883 01a8 0191     	 str r1,[sp,#4]
 793:LPC17xxLib/src/lpc17xx_can.c **** 			{
 1884              	 .loc 1 793 0
 1885 01aa D8F80010 	 ldr r1,[r8]
 1886 01ae 01EA0A08 	 and r8,r1,r10
 1887 01b2 4045     	 cmp r0,r8
 1888 01b4 02D2     	 bcs .L242
 795:LPC17xxLib/src/lpc17xx_can.c **** 				break;
 1889              	 .loc 1 795 0
 1890 01b6 5900     	 lsls r1,r3,#1
 1891 01b8 0131     	 adds r1,r1,#1
 1892 01ba E3E7     	 b .L256
 1893              	.L242:
 1894 01bc 0133     	 adds r3,r3,#1
 1895              	.LVL242:
 1896 01be 1BB2     	 sxth r3,r3
 1897              	.LVL243:
 782:LPC17xxLib/src/lpc17xx_can.c **** 		{
 1898              	 .loc 1 782 0
 1899 01c0 9945     	 cmp r9,r3
 1900 01c2 CDDA     	 bge .L243
 780:LPC17xxLib/src/lpc17xx_can.c **** 		bound1 = (CANAF_FullCAN_cnt - 1) >> 1;
 1901              	 .loc 1 780 0
 1902 01c4 29B2     	 sxth r1,r5
 1903 01c6 E0E7     	 b .L244
 1904              	.LVL244:
 1905              	.L246:
 1906 01c8 9B00     	 lsls r3,r3,#2
 1907              	.LVL245:
 1908 01ca 03F18043 	 add r3,r3,#1073741824
 1909 01ce 03F56033 	 add r3,r3,#229376
 815:LPC17xxLib/src/lpc17xx_can.c **** 			}
 1910              	 .loc 1 815 0
 1911 01d2 1868     	 ldr r0,[r3]
 1912 01d4 000C     	 lsrs r0,r0,#16
 1913 01d6 0004     	 lsls r0,r0,#16
 1914 01d8 0243     	 orrs r2,r2,r0
 1915              	.LVL246:
 1916 01da 1A60     	 str r2,[r3]
 1917 01dc 78E7     	 b .L237
 1918              	.LVL247:
 1919              	.L245:
 1920 01de 0EF1804E 	 add lr,lr,#1073741824
 1921 01e2 0EF5603E 	 add lr,lr,#229376
 820:LPC17xxLib/src/lpc17xx_can.c **** 			if ((cnt2 & 0x0001) == 0)
 1922              	 .loc 1 820 0
 1923 01e6 DEF80000 	 ldr r0,[lr]
 1924              	.LVL248:
 821:LPC17xxLib/src/lpc17xx_can.c **** 			{
 1925              	 .loc 1 821 0
 1926 01ea 11F0010F 	 tst r1,#1
 824:LPC17xxLib/src/lpc17xx_can.c **** 			}
 1927              	 .loc 1 824 0
 1928 01ee 4FEA1048 	 lsr r8,r0,#16
 829:LPC17xxLib/src/lpc17xx_can.c **** 			}
 1929              	 .loc 1 829 0
 1930 01f2 16BF     	 itet ne
 1931 01f4 4FEA0848 	 lslne r8,r8,#16
 824:LPC17xxLib/src/lpc17xx_can.c **** 			}
 1932              	 .loc 1 824 0
 1933 01f8 48EA0242 	 orreq r2,r8,r2,lsl#16
 1934              	.LVL249:
 829:LPC17xxLib/src/lpc17xx_can.c **** 			}
 1935              	 .loc 1 829 0
 1936 01fc 48EA0202 	 orrne r2,r8,r2
 1937              	.LVL250:
 831:LPC17xxLib/src/lpc17xx_can.c **** 			bound1 = CANAF_FullCAN_cnt >> 1;
 1938              	 .loc 1 831 0
 1939 0200 CEF80020 	 str r2,[lr]
 832:LPC17xxLib/src/lpc17xx_can.c **** 			/* Move all remaining standard mask entries one place up */
 1940              	 .loc 1 832 0
 1941 0204 4FEA5508 	 lsr r8,r5,#1
 1942              	.LVL251:
 1943              	.L249:
 834:LPC17xxLib/src/lpc17xx_can.c **** 			{
 1944              	 .loc 1 834 0
 1945 0208 4345     	 cmp r3,r8
 1946 020a 0FDB     	 blt .L250
 842:LPC17xxLib/src/lpc17xx_can.c **** 			{
 1947              	 .loc 1 842 0
 1948 020c BCF1000F 	 cmp ip,#0
 1949 0210 7FF45EAF 	 bne .L237
 1950 0214 9A00     	 lsls r2,r3,#2
 1951 0216 02F18042 	 add r2,r2,#1073741824
 1952 021a 02F56032 	 add r2,r2,#229376
 845:LPC17xxLib/src/lpc17xx_can.c **** 											| (0x0000FFFF);
 1953              	 .loc 1 845 0
 1954 021e 1368     	 ldr r3,[r2]
 1955              	.LVL252:
 846:LPC17xxLib/src/lpc17xx_can.c **** 			}
 1956              	 .loc 1 846 0
 1957 0220 6FEA1343 	 mvn r3,r3,lsr#16
 1958 0224 6FEA0343 	 mvn r3,r3,lsl#16
 845:LPC17xxLib/src/lpc17xx_can.c **** 											| (0x0000FFFF);
 1959              	 .loc 1 845 0
 1960 0228 1360     	 str r3,[r2]
 1961 022a 51E7     	 b .L237
 1962              	.LVL253:
 1963              	.L250:
 1964 022c 0133     	 adds r3,r3,#1
 1965              	.LVL254:
 1966 022e 1BB2     	 sxth r3,r3
 1967              	.LVL255:
 1968 0230 9A00     	 lsls r2,r3,#2
 1969 0232 02F18042 	 add r2,r2,#1073741824
 1970 0236 02F56032 	 add r2,r2,#229376
 837:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt1] = (buf1 >> 16) | (buf0 << 16);
 1971              	 .loc 1 837 0
 1972 023a D2F800E0 	 ldr lr,[r2]
 1973              	.LVL256:
 838:LPC17xxLib/src/lpc17xx_can.c **** 				buf0  = buf1;
 1974              	 .loc 1 838 0
 1975 023e 0004     	 lsls r0,r0,#16
 1976              	.LVL257:
 1977 0240 40EA1E40 	 orr r0,r0,lr,lsr#16
 1978 0244 1060     	 str r0,[r2]
 1979              	.LVL258:
 839:LPC17xxLib/src/lpc17xx_can.c **** 			}
 1980              	 .loc 1 839 0
 1981 0246 7046     	 mov r0,lr
 1982 0248 DEE7     	 b .L249
 1983              	.LVL259:
 1984              	.L252:
 1985 024a 4FEA8C01 	 lsl r1,ip,#2
 1986 024e 01F18041 	 add r1,r1,#1073741824
 1987 0252 01F56031 	 add r1,r1,#229376
 860:LPC17xxLib/src/lpc17xx_can.c **** 		tmp1 = LPC_CANAF_RAM->mask[cnt1+1];
 1988              	 .loc 1 860 0
 1989 0256 0A68     	 ldr r2,[r1]
 1990              	.LVL260:
 861:LPC17xxLib/src/lpc17xx_can.c **** 		tmp2 = LPC_CANAF_RAM->mask[cnt1+2];
 1991              	 .loc 1 861 0
 1992 0258 4D68     	 ldr r5,[r1,#4]
 1993              	.LVL261:
 862:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF_RAM->mask[cnt1]= buf0;
 1994              	 .loc 1 862 0
 1995 025a D1F80880 	 ldr r8,[r1,#8]
 1996              	.LVL262:
 1997 025e 0CF1030C 	 add ip,ip,#3
 1998              	.LVL263:
 863:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF_RAM->mask[cnt1+1]= buf1;
 1999              	 .loc 1 863 0
 2000 0262 0860     	 str r0,[r1]
 2001 0264 0FFA8CFC 	 sxth ip,ip
 864:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF_RAM->mask[cnt1+2]= buf2;
 2002              	 .loc 1 864 0
 2003 0268 4C60     	 str r4,[r1,#4]
 866:LPC17xxLib/src/lpc17xx_can.c **** 		buf1 = tmp1;
 2004              	 .loc 1 866 0
 2005 026a 1046     	 mov r0,r2
 2006              	.LVL264:
 865:LPC17xxLib/src/lpc17xx_can.c **** 		buf0 = tmp0;
 2007              	 .loc 1 865 0
 2008 026c C1F808E0 	 str lr,[r1,#8]
 2009              	.LVL265:
 867:LPC17xxLib/src/lpc17xx_can.c **** 		buf2 = tmp2;
 2010              	 .loc 1 867 0
 2011 0270 2C46     	 mov r4,r5
 868:LPC17xxLib/src/lpc17xx_can.c **** 		cnt1+=3;
 2012              	 .loc 1 868 0
 2013 0272 C646     	 mov lr,r8
 2014 0274 53E7     	 b .L251
 2015              	.LVL266:
 2016              	.L254:
 732:LPC17xxLib/src/lpc17xx_can.c **** 	}
 2017              	 .loc 1 732 0
 2018 0276 0220     	 movs r0,#2
 2019              	.LVL267:
 2020 0278 68E7     	 b .L230
 2021              	.L260:
 2022 027a 00BF     	 .align 2
 2023              	.L259:
 2024 027c 00800440 	 .word 1074036736
 2025 0280 00000000 	 .word .LANCHOR2
 2026 0284 00000000 	 .word .LANCHOR0
 2027 0288 00000000 	 .word .LANCHOR3
 2028 028c 00000000 	 .word .LANCHOR4
 2029 0290 00000000 	 .word .LANCHOR1
 2030 0294 00C00340 	 .word 1073987584
 2031 0298 00800340 	 .word 1073971200
 2032              	 .cfi_endproc
 2033              	.LFE60:
 2035              	 .section .text.CAN_LoadGroupEntry,"ax",%progbits
 2036              	 .align 1
 2037              	 .global CAN_LoadGroupEntry
 2038              	 .syntax unified
 2039              	 .thumb
 2040              	 .thumb_func
 2041              	 .fpu softvfp
 2043              	CAN_LoadGroupEntry:
 2044              	.LFB61:
 882:LPC17xxLib/src/lpc17xx_can.c **** 
 883:LPC17xxLib/src/lpc17xx_can.c **** /********************************************************************//**
 884:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		Load Group entry into AFLUT
 885:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CANx: CAN peripheral selected, should be:
 886:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN1: CAN1 peripheral
 887:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN2: CAN2 peripheral
 888:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	lowerID, upperID: lower and upper identifier of entry
 889:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	format: type of ID format, should be:
 890:LPC17xxLib/src/lpc17xx_can.c ****  * 				- STD_ID_FORMAT: Standard ID format (11-bit value)
 891:LPC17xxLib/src/lpc17xx_can.c ****  * 				- EXT_ID_FORMAT: Extended ID format (29-bit value)
 892:LPC17xxLib/src/lpc17xx_can.c ****  * @return 		CAN_ERROR, could be:
 893:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_OK: loading is successful
 894:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_CONFLICT_ID_ERROR: Conflict ID occurs
 895:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_OBJECTS_FULL_ERROR: no more space available
 896:LPC17xxLib/src/lpc17xx_can.c ****  *********************************************************************/
 897:LPC17xxLib/src/lpc17xx_can.c **** CAN_ERROR CAN_LoadGroupEntry(LPC_CAN_TypeDef* CANx, uint32_t lowerID, \
 898:LPC17xxLib/src/lpc17xx_can.c **** 		uint32_t upperID, CAN_ID_FORMAT_Type format)
 899:LPC17xxLib/src/lpc17xx_can.c **** {
 2045              	 .loc 1 899 0
 2046              	 .cfi_startproc
 2047              	 
 2048              	 
 2049              	.LVL268:
 2050 0000 2DE9F74F 	 push {r0,r1,r2,r4,r5,r6,r7,r8,r9,r10,fp,lr}
 2051              	 .cfi_def_cfa_offset 48
 2052              	 .cfi_offset 4,-36
 2053              	 .cfi_offset 5,-32
 2054              	 .cfi_offset 6,-28
 2055              	 .cfi_offset 7,-24
 2056              	 .cfi_offset 8,-20
 2057              	 .cfi_offset 9,-16
 2058              	 .cfi_offset 10,-12
 2059              	 .cfi_offset 11,-8
 2060              	 .cfi_offset 14,-4
 900:LPC17xxLib/src/lpc17xx_can.c **** 	uint16_t tmp = 0;
 901:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t buf0, buf1, entry1, entry2, LID,UID;
 902:LPC17xxLib/src/lpc17xx_can.c **** 	int16_t cnt1, bound1, total;
 903:LPC17xxLib/src/lpc17xx_can.c **** 	//LPC_CANAF_RAM_TypeDef *AFLUTTest = LPC_CANAF_RAM;
 904:LPC17xxLib/src/lpc17xx_can.c **** 
 905:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CANx(CANx));
 906:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_ID_FORMAT(format));
 907:LPC17xxLib/src/lpc17xx_can.c **** 
 908:LPC17xxLib/src/lpc17xx_can.c **** 	if(lowerID > upperID) return CAN_CONFLICT_ID_ERROR;
 2061              	 .loc 1 908 0
 2062 0004 9142     	 cmp r1,r2
 899:LPC17xxLib/src/lpc17xx_can.c **** 	uint16_t tmp = 0;
 2063              	 .loc 1 899 0
 2064 0006 0193     	 str r3,[sp,#4]
 2065              	 .loc 1 908 0
 2066 0008 03D9     	 bls .L262
 2067              	.LVL269:
 2068              	.L272:
 2069 000a 0620     	 movs r0,#6
 2070              	.LVL270:
 2071              	.L263:
 909:LPC17xxLib/src/lpc17xx_can.c **** 	if(CANx == LPC_CAN1)
 910:LPC17xxLib/src/lpc17xx_can.c **** 	{
 911:LPC17xxLib/src/lpc17xx_can.c **** 		tmp = 0;
 912:LPC17xxLib/src/lpc17xx_can.c **** 	}
 913:LPC17xxLib/src/lpc17xx_can.c **** 	else
 914:LPC17xxLib/src/lpc17xx_can.c **** 	{
 915:LPC17xxLib/src/lpc17xx_can.c **** 		tmp = 1;
 916:LPC17xxLib/src/lpc17xx_can.c **** 	}
 917:LPC17xxLib/src/lpc17xx_can.c **** 
 918:LPC17xxLib/src/lpc17xx_can.c **** 	total =((CANAF_FullCAN_cnt+1)>>1)+ CANAF_FullCAN_cnt*3 +((CANAF_std_cnt + 1) >> 1)+  \
 919:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 920:LPC17xxLib/src/lpc17xx_can.c **** 
 921:LPC17xxLib/src/lpc17xx_can.c **** 	/* Setup Acceptance Filter Configuration
 922:LPC17xxLib/src/lpc17xx_can.c **** 	Acceptance Filter Mode Register = Off */
 923:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->AFMR = 0x00000001;
 924:LPC17xxLib/src/lpc17xx_can.c **** 
 925:LPC17xxLib/src/lpc17xx_can.c **** /*********Add Group of Standard Identifier Frame Format************/
 926:LPC17xxLib/src/lpc17xx_can.c **** 	if(format == STD_ID_FORMAT)
 927:LPC17xxLib/src/lpc17xx_can.c **** 	{
 928:LPC17xxLib/src/lpc17xx_can.c **** 		if ((total >= 512)){//don't have enough space
 929:LPC17xxLib/src/lpc17xx_can.c **** 			return CAN_OBJECTS_FULL_ERROR;
 930:LPC17xxLib/src/lpc17xx_can.c **** 		}
 931:LPC17xxLib/src/lpc17xx_can.c **** 		lowerID &=0x7FF; //mask ID
 932:LPC17xxLib/src/lpc17xx_can.c **** 		upperID &=0x7FF;
 933:LPC17xxLib/src/lpc17xx_can.c **** 		entry1  = (tmp << 29)|(lowerID << 16)|(tmp << 13)|(upperID << 0);
 934:LPC17xxLib/src/lpc17xx_can.c **** 		cnt1 = ((CANAF_FullCAN_cnt+1)>>1) + ((CANAF_std_cnt + 1) >> 1);
 935:LPC17xxLib/src/lpc17xx_can.c **** 
 936:LPC17xxLib/src/lpc17xx_can.c **** 		//if this is the first Group standard ID entry
 937:LPC17xxLib/src/lpc17xx_can.c **** 		if(CANAF_gstd_cnt == 0)
 938:LPC17xxLib/src/lpc17xx_can.c **** 		{
 939:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[cnt1] = entry1;
 940:LPC17xxLib/src/lpc17xx_can.c **** 		}
 941:LPC17xxLib/src/lpc17xx_can.c **** 		else
 942:LPC17xxLib/src/lpc17xx_can.c **** 		{
 943:LPC17xxLib/src/lpc17xx_can.c **** 			//find the position to add new Group entry
 944:LPC17xxLib/src/lpc17xx_can.c **** 			bound1 = ((CANAF_FullCAN_cnt+1)>>1) + ((CANAF_std_cnt + 1) >> 1) + CANAF_gstd_cnt;
 945:LPC17xxLib/src/lpc17xx_can.c **** 			while(cnt1 < bound1)
 946:LPC17xxLib/src/lpc17xx_can.c **** 			{
 947:LPC17xxLib/src/lpc17xx_can.c **** 				//compare controller first
 948:LPC17xxLib/src/lpc17xx_can.c **** 				while((LPC_CANAF_RAM->mask[cnt1] >> 29)< (entry1 >> 29))//increase until meet greater or equal 
 949:LPC17xxLib/src/lpc17xx_can.c **** 					cnt1++;
 950:LPC17xxLib/src/lpc17xx_can.c **** 				buf0 = LPC_CANAF_RAM->mask[cnt1];
 951:LPC17xxLib/src/lpc17xx_can.c **** 				if((LPC_CANAF_RAM->mask[cnt1] >> 29)> (entry1 >> 29)) //meet greater controller
 952:LPC17xxLib/src/lpc17xx_can.c **** 				{
 953:LPC17xxLib/src/lpc17xx_can.c **** 					//add at this position
 954:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt1] = entry1;
 955:LPC17xxLib/src/lpc17xx_can.c **** 					break;
 956:LPC17xxLib/src/lpc17xx_can.c **** 				}
 957:LPC17xxLib/src/lpc17xx_can.c **** 				else //meet equal controller
 958:LPC17xxLib/src/lpc17xx_can.c **** 				{
 959:LPC17xxLib/src/lpc17xx_can.c **** 					LID  = (buf0 >> 16)&0x7FF;
 960:LPC17xxLib/src/lpc17xx_can.c **** 					UID  = buf0 & 0x7FF;
 961:LPC17xxLib/src/lpc17xx_can.c **** 					if (upperID <= LID)
 962:LPC17xxLib/src/lpc17xx_can.c **** 					{
 963:LPC17xxLib/src/lpc17xx_can.c **** 						//add new entry before this entry
 964:LPC17xxLib/src/lpc17xx_can.c **** 						LPC_CANAF_RAM->mask[cnt1] = entry1;
 965:LPC17xxLib/src/lpc17xx_can.c **** 						break;
 966:LPC17xxLib/src/lpc17xx_can.c **** 					}
 967:LPC17xxLib/src/lpc17xx_can.c **** 					else if (lowerID >= UID)
 968:LPC17xxLib/src/lpc17xx_can.c **** 					{
 969:LPC17xxLib/src/lpc17xx_can.c **** 						//load next entry to compare
 970:LPC17xxLib/src/lpc17xx_can.c **** 						cnt1 ++;
 971:LPC17xxLib/src/lpc17xx_can.c **** 					}
 972:LPC17xxLib/src/lpc17xx_can.c **** 					else
 973:LPC17xxLib/src/lpc17xx_can.c **** 						return CAN_CONFLICT_ID_ERROR;
 974:LPC17xxLib/src/lpc17xx_can.c **** 				}
 975:LPC17xxLib/src/lpc17xx_can.c **** 			}
 976:LPC17xxLib/src/lpc17xx_can.c **** 			if(cnt1 >= bound1)
 977:LPC17xxLib/src/lpc17xx_can.c **** 			{
 978:LPC17xxLib/src/lpc17xx_can.c **** 				//add new entry at the last position in this list
 979:LPC17xxLib/src/lpc17xx_can.c **** 				buf0 = LPC_CANAF_RAM->mask[cnt1];
 980:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt1] = entry1;
 981:LPC17xxLib/src/lpc17xx_can.c **** 			}
 982:LPC17xxLib/src/lpc17xx_can.c **** 
 983:LPC17xxLib/src/lpc17xx_can.c **** 			//remove all remaining entry of this section one place up
 984:LPC17xxLib/src/lpc17xx_can.c **** 			bound1 = total - cnt1;
 985:LPC17xxLib/src/lpc17xx_can.c **** 			while(bound1--)
 986:LPC17xxLib/src/lpc17xx_can.c **** 			{
 987:LPC17xxLib/src/lpc17xx_can.c **** 				cnt1++;
 988:LPC17xxLib/src/lpc17xx_can.c **** 				buf1 = LPC_CANAF_RAM->mask[cnt1];
 989:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt1] = buf0;
 990:LPC17xxLib/src/lpc17xx_can.c **** 				buf0 = buf1;
 991:LPC17xxLib/src/lpc17xx_can.c **** 			}
 992:LPC17xxLib/src/lpc17xx_can.c **** 		}
 993:LPC17xxLib/src/lpc17xx_can.c **** 		CANAF_gstd_cnt++;
 994:LPC17xxLib/src/lpc17xx_can.c **** 		//update address values
 995:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->EFF_sa     +=0x04 ;
 996:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->EFF_GRP_sa +=0x04;
 997:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->ENDofTable +=0x04;
 998:LPC17xxLib/src/lpc17xx_can.c **** 	}
 999:LPC17xxLib/src/lpc17xx_can.c **** 
1000:LPC17xxLib/src/lpc17xx_can.c **** 
1001:LPC17xxLib/src/lpc17xx_can.c **** /*********Add Group of Extended Identifier Frame Format************/
1002:LPC17xxLib/src/lpc17xx_can.c **** 	else
1003:LPC17xxLib/src/lpc17xx_can.c **** 	{
1004:LPC17xxLib/src/lpc17xx_can.c **** 		if ((total >= 511)){//don't have enough space
1005:LPC17xxLib/src/lpc17xx_can.c **** 			return CAN_OBJECTS_FULL_ERROR;
1006:LPC17xxLib/src/lpc17xx_can.c **** 		}
1007:LPC17xxLib/src/lpc17xx_can.c **** 		lowerID  &= 0x1FFFFFFF; //mask ID
1008:LPC17xxLib/src/lpc17xx_can.c **** 		upperID &= 0x1FFFFFFF;
1009:LPC17xxLib/src/lpc17xx_can.c **** 		entry1   = (tmp << 29)|(lowerID << 0);
1010:LPC17xxLib/src/lpc17xx_can.c **** 		entry2   = (tmp << 29)|(upperID << 0);
1011:LPC17xxLib/src/lpc17xx_can.c **** 
1012:LPC17xxLib/src/lpc17xx_can.c **** 		cnt1 = ((CANAF_FullCAN_cnt+1)>>1) + ((CANAF_std_cnt + 1) >> 1) + CANAF_gstd_cnt + CANAF_ext_cnt;
1013:LPC17xxLib/src/lpc17xx_can.c **** 		//if this is the first Group standard ID entry
1014:LPC17xxLib/src/lpc17xx_can.c **** 		if(CANAF_gext_cnt == 0)
1015:LPC17xxLib/src/lpc17xx_can.c **** 		{
1016:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[cnt1] = entry1;
1017:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[cnt1+1] = entry2;
1018:LPC17xxLib/src/lpc17xx_can.c **** 		}
1019:LPC17xxLib/src/lpc17xx_can.c **** 		else
1020:LPC17xxLib/src/lpc17xx_can.c **** 		{
1021:LPC17xxLib/src/lpc17xx_can.c **** 			//find the position to add new Group entry
1022:LPC17xxLib/src/lpc17xx_can.c **** 			bound1 = ((CANAF_FullCAN_cnt+1)>>1) + ((CANAF_std_cnt + 1) >> 1) + CANAF_gstd_cnt \
1023:LPC17xxLib/src/lpc17xx_can.c **** 						+ CANAF_ext_cnt + (CANAF_gext_cnt<<1);
1024:LPC17xxLib/src/lpc17xx_can.c **** 			while(cnt1 < bound1)
1025:LPC17xxLib/src/lpc17xx_can.c **** 			{
1026:LPC17xxLib/src/lpc17xx_can.c **** 				while((LPC_CANAF_RAM->mask[cnt1] >>29)< tmp) //increase until meet greater or equal controller
1027:LPC17xxLib/src/lpc17xx_can.c **** 					cnt1++;
1028:LPC17xxLib/src/lpc17xx_can.c **** 				buf0 = LPC_CANAF_RAM->mask[cnt1];
1029:LPC17xxLib/src/lpc17xx_can.c **** 				buf1 = LPC_CANAF_RAM->mask[cnt1+1];
1030:LPC17xxLib/src/lpc17xx_can.c **** 				if((LPC_CANAF_RAM->mask[cnt1] >> 29)> (entry1 >> 29)) //meet greater controller
1031:LPC17xxLib/src/lpc17xx_can.c **** 				{
1032:LPC17xxLib/src/lpc17xx_can.c **** 					//add at this position
1033:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt1] = entry1;
1034:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[++cnt1] = entry2;
1035:LPC17xxLib/src/lpc17xx_can.c **** 					break;
1036:LPC17xxLib/src/lpc17xx_can.c **** 				}
1037:LPC17xxLib/src/lpc17xx_can.c **** 				else //meet equal controller
1038:LPC17xxLib/src/lpc17xx_can.c **** 				{
1039:LPC17xxLib/src/lpc17xx_can.c **** 					LID  = buf0 & 0x1FFFFFFF; //mask ID
1040:LPC17xxLib/src/lpc17xx_can.c **** 					UID  = buf1 & 0x1FFFFFFF;
1041:LPC17xxLib/src/lpc17xx_can.c **** 					if (upperID <= LID)
1042:LPC17xxLib/src/lpc17xx_can.c **** 					{
1043:LPC17xxLib/src/lpc17xx_can.c **** 						//add new entry before this entry
1044:LPC17xxLib/src/lpc17xx_can.c **** 						LPC_CANAF_RAM->mask[cnt1] = entry1;
1045:LPC17xxLib/src/lpc17xx_can.c **** 						LPC_CANAF_RAM->mask[++cnt1] = entry2;
1046:LPC17xxLib/src/lpc17xx_can.c **** 						break;
1047:LPC17xxLib/src/lpc17xx_can.c **** 					}
1048:LPC17xxLib/src/lpc17xx_can.c **** 					else if (lowerID >= UID)
1049:LPC17xxLib/src/lpc17xx_can.c **** 					{
1050:LPC17xxLib/src/lpc17xx_can.c **** 						//load next entry to compare
1051:LPC17xxLib/src/lpc17xx_can.c **** 						cnt1 +=2;
1052:LPC17xxLib/src/lpc17xx_can.c **** 					}
1053:LPC17xxLib/src/lpc17xx_can.c **** 					else
1054:LPC17xxLib/src/lpc17xx_can.c **** 						return CAN_CONFLICT_ID_ERROR;
1055:LPC17xxLib/src/lpc17xx_can.c **** 				}
1056:LPC17xxLib/src/lpc17xx_can.c **** 			}
1057:LPC17xxLib/src/lpc17xx_can.c **** 			if(cnt1 >= bound1)
1058:LPC17xxLib/src/lpc17xx_can.c **** 			{
1059:LPC17xxLib/src/lpc17xx_can.c **** 				//add new entry at the last position in this list
1060:LPC17xxLib/src/lpc17xx_can.c **** 				buf0 = LPC_CANAF_RAM->mask[cnt1];
1061:LPC17xxLib/src/lpc17xx_can.c **** 				buf1 = LPC_CANAF_RAM->mask[cnt1+1];
1062:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt1]   = entry1;
1063:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[++cnt1] = entry2;
1064:LPC17xxLib/src/lpc17xx_can.c **** 			}
1065:LPC17xxLib/src/lpc17xx_can.c **** 			//remove all remaining entry of this section two place up
1066:LPC17xxLib/src/lpc17xx_can.c **** 			bound1 = total - cnt1 + 1;
1067:LPC17xxLib/src/lpc17xx_can.c **** 			cnt1++;
1068:LPC17xxLib/src/lpc17xx_can.c **** 			while(bound1>0)
1069:LPC17xxLib/src/lpc17xx_can.c **** 			{
1070:LPC17xxLib/src/lpc17xx_can.c **** 				entry1 = LPC_CANAF_RAM->mask[cnt1];
1071:LPC17xxLib/src/lpc17xx_can.c **** 				entry2 = LPC_CANAF_RAM->mask[cnt1+1];
1072:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt1]   = buf0;
1073:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt1+1] = buf1;
1074:LPC17xxLib/src/lpc17xx_can.c **** 				buf0 = entry1;
1075:LPC17xxLib/src/lpc17xx_can.c **** 				buf1 = entry2;
1076:LPC17xxLib/src/lpc17xx_can.c **** 				cnt1   +=2;
1077:LPC17xxLib/src/lpc17xx_can.c **** 				bound1 -=2;
1078:LPC17xxLib/src/lpc17xx_can.c **** 			}
1079:LPC17xxLib/src/lpc17xx_can.c **** 		}
1080:LPC17xxLib/src/lpc17xx_can.c **** 		CANAF_gext_cnt++;
1081:LPC17xxLib/src/lpc17xx_can.c **** 		//update address values
1082:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->ENDofTable +=0x08;
1083:LPC17xxLib/src/lpc17xx_can.c **** 	}
1084:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->AFMR = 0x04;
1085:LPC17xxLib/src/lpc17xx_can.c ****  	return CAN_OK;
1086:LPC17xxLib/src/lpc17xx_can.c **** }
 2072              	 .loc 1 1086 0
 2073 000c 03B0     	 add sp,sp,#12
 2074              	 .cfi_remember_state
 2075              	 .cfi_def_cfa_offset 36
 2076              	 
 2077 000e BDE8F08F 	 pop {r4,r5,r6,r7,r8,r9,r10,fp,pc}
 2078              	.LVL271:
 2079              	.L262:
 2080              	 .cfi_restore_state
 909:LPC17xxLib/src/lpc17xx_can.c **** 	if(CANx == LPC_CAN1)
 2081              	 .loc 1 909 0
 2082 0012 8D4C     	 ldr r4,.L295
 918:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 2083              	 .loc 1 918 0
 2084 0014 DFF84892 	 ldr r9,.L295+24
 919:LPC17xxLib/src/lpc17xx_can.c **** 
 2085              	 .loc 1 919 0
 2086 0018 8C4D     	 ldr r5,.L295+4
 909:LPC17xxLib/src/lpc17xx_can.c **** 	if(CANx == LPC_CAN1)
 2087              	 .loc 1 909 0
 2088 001a 001B     	 subs r0,r0,r4
 2089              	.LVL272:
 919:LPC17xxLib/src/lpc17xx_can.c **** 
 2090              	 .loc 1 919 0
 2091 001c DFF844C2 	 ldr ip,.L295+28
 918:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 2092              	 .loc 1 918 0
 2093 0020 8B4C     	 ldr r4,.L295+8
 2094 0022 B9F80060 	 ldrh r6,[r9]
 2095 0026 2D88     	 ldrh r5,[r5]
 2096 0028 B4F800A0 	 ldrh r10,[r4]
 919:LPC17xxLib/src/lpc17xx_can.c **** 
 2097              	 .loc 1 919 0
 2098 002c BCF80080 	 ldrh r8,[ip]
 918:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 2099              	 .loc 1 918 0
 2100 0030 884C     	 ldr r4,.L295+12
 2101 0032 3544     	 add r5,r5,r6
 2102 0034 0AF1010E 	 add lr,r10,#1
 2103 0038 2488     	 ldrh r4,[r4]
 2104 003a ADB2     	 uxth r5,r5
 919:LPC17xxLib/src/lpc17xx_can.c **** 
 2105              	 .loc 1 919 0
 2106 003c 4FEA4807 	 lsl r7,r8,#1
 918:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 2107              	 .loc 1 918 0
 2108 0040 0AEB4A0A 	 add r10,r10,r10,lsl#1
 919:LPC17xxLib/src/lpc17xx_can.c **** 
 2109              	 .loc 1 919 0
 2110 0044 BFB2     	 uxth r7,r7
 2111 0046 AA44     	 add r10,r10,r5
 918:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 2112              	 .loc 1 918 0
 2113 0048 CEF34F0E 	 ubfx lr,lr,#1,#16
 2114 004c 04F10104 	 add r4,r4,#1
 919:LPC17xxLib/src/lpc17xx_can.c **** 
 2115              	 .loc 1 919 0
 2116 0050 BA44     	 add r10,r10,r7
 918:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 2117              	 .loc 1 918 0
 2118 0052 C4F34F04 	 ubfx r4,r4,#1,#16
 919:LPC17xxLib/src/lpc17xx_can.c **** 
 2119              	 .loc 1 919 0
 2120 0056 F244     	 add r10,r10,lr
 2121 0058 A244     	 add r10,r10,r4
 2122 005a 1FFA8AF3 	 uxth r3,r10
 2123              	.LVL273:
 2124 005e 0093     	 str r3,[sp]
 923:LPC17xxLib/src/lpc17xx_can.c **** 
 2125              	 .loc 1 923 0
 2126 0060 4FF00103 	 mov r3,#1
 2127 0064 DFF8F4B1 	 ldr fp,.L295+20
 918:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 2128              	 .loc 1 918 0
 2129 0068 BDF900A0 	 ldrsh r10,[sp]
 923:LPC17xxLib/src/lpc17xx_can.c **** 
 2130              	 .loc 1 923 0
 2131 006c CBF80030 	 str r3,[fp]
 926:LPC17xxLib/src/lpc17xx_can.c **** 	{
 2132              	 .loc 1 926 0
 2133 0070 019B     	 ldr r3,[sp,#4]
 909:LPC17xxLib/src/lpc17xx_can.c **** 	{
 2134              	 .loc 1 909 0
 2135 0072 18BF     	 it ne
 2136 0074 0120     	 movne r0,#1
 2137              	.LVL274:
 926:LPC17xxLib/src/lpc17xx_can.c **** 	{
 2138              	 .loc 1 926 0
 2139 0076 002B     	 cmp r3,#0
 2140 0078 65D1     	 bne .L264
 928:LPC17xxLib/src/lpc17xx_can.c **** 			return CAN_OBJECTS_FULL_ERROR;
 2141              	 .loc 1 928 0
 2142 007a BAF5007F 	 cmp r10,#512
 2143 007e 80F2E180 	 bge .L292
 933:LPC17xxLib/src/lpc17xx_can.c **** 		cnt1 = ((CANAF_FullCAN_cnt+1)>>1) + ((CANAF_std_cnt + 1) >> 1);
 2144              	 .loc 1 933 0
 2145 0082 4303     	 lsls r3,r0,#13
 2146 0084 43EA4070 	 orr r0,r3,r0,lsl#29
 2147              	.LVL275:
 932:LPC17xxLib/src/lpc17xx_can.c **** 		entry1  = (tmp << 29)|(lowerID << 16)|(tmp << 13)|(upperID << 0);
 2148              	 .loc 1 932 0
 2149 0088 C2F30A02 	 ubfx r2,r2,#0,#11
 2150              	.LVL276:
 934:LPC17xxLib/src/lpc17xx_can.c **** 
 2151              	 .loc 1 934 0
 2152 008c 7444     	 add r4,r4,lr
 931:LPC17xxLib/src/lpc17xx_can.c **** 		upperID &=0x7FF;
 2153              	 .loc 1 931 0
 2154 008e C1F30A01 	 ubfx r1,r1,#0,#11
 2155              	.LVL277:
 933:LPC17xxLib/src/lpc17xx_can.c **** 		cnt1 = ((CANAF_FullCAN_cnt+1)>>1) + ((CANAF_std_cnt + 1) >> 1);
 2156              	 .loc 1 933 0
 2157 0092 1043     	 orrs r0,r0,r2
 934:LPC17xxLib/src/lpc17xx_can.c **** 
 2158              	 .loc 1 934 0
 2159 0094 A4B2     	 uxth r4,r4
 933:LPC17xxLib/src/lpc17xx_can.c **** 		cnt1 = ((CANAF_FullCAN_cnt+1)>>1) + ((CANAF_std_cnt + 1) >> 1);
 2160              	 .loc 1 933 0
 2161 0096 40EA0140 	 orr r0,r0,r1,lsl#16
 2162              	.LVL278:
 934:LPC17xxLib/src/lpc17xx_can.c **** 
 2163              	 .loc 1 934 0
 2164 009a 23B2     	 sxth r3,r4
 2165              	.LVL279:
 937:LPC17xxLib/src/lpc17xx_can.c **** 		{
 2166              	 .loc 1 937 0
 2167 009c B6B9     	 cbnz r6,.L265
 939:LPC17xxLib/src/lpc17xx_can.c **** 		}
 2168              	 .loc 1 939 0
 2169 009e 6E4A     	 ldr r2,.L295+16
 2170              	.LVL280:
 2171 00a0 42F82300 	 str r0,[r2,r3,lsl#2]
 2172              	.LVL281:
 2173              	.L266:
 993:LPC17xxLib/src/lpc17xx_can.c **** 		//update address values
 2174              	 .loc 1 993 0
 2175 00a4 B9F80030 	 ldrh r3,[r9]
 2176              	.LVL282:
 2177 00a8 0133     	 adds r3,r3,#1
 2178 00aa A9F80030 	 strh r3,[r9]
 995:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->EFF_GRP_sa +=0x04;
 2179              	 .loc 1 995 0
 2180 00ae 6B4B     	 ldr r3,.L295+20
 2181 00b0 DA68     	 ldr r2,[r3,#12]
 2182 00b2 0432     	 adds r2,r2,#4
 2183 00b4 DA60     	 str r2,[r3,#12]
 996:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->ENDofTable +=0x04;
 2184              	 .loc 1 996 0
 2185 00b6 1A69     	 ldr r2,[r3,#16]
 2186 00b8 0432     	 adds r2,r2,#4
 2187 00ba 1A61     	 str r2,[r3,#16]
 997:LPC17xxLib/src/lpc17xx_can.c **** 	}
 2188              	 .loc 1 997 0
 2189 00bc 5A69     	 ldr r2,[r3,#20]
 2190 00be 0432     	 adds r2,r2,#4
 2191 00c0 5A61     	 str r2,[r3,#20]
 2192              	.LVL283:
 2193              	.L278:
1084:LPC17xxLib/src/lpc17xx_can.c ****  	return CAN_OK;
 2194              	 .loc 1 1084 0
 2195 00c2 0422     	 movs r2,#4
 2196 00c4 654B     	 ldr r3,.L295+20
1085:LPC17xxLib/src/lpc17xx_can.c **** }
 2197              	 .loc 1 1085 0
 2198 00c6 0120     	 movs r0,#1
1084:LPC17xxLib/src/lpc17xx_can.c ****  	return CAN_OK;
 2199              	 .loc 1 1084 0
 2200 00c8 1A60     	 str r2,[r3]
1085:LPC17xxLib/src/lpc17xx_can.c **** }
 2201              	 .loc 1 1085 0
 2202 00ca 9FE7     	 b .L263
 2203              	.LVL284:
 2204              	.L265:
 944:LPC17xxLib/src/lpc17xx_can.c **** 			while(cnt1 < bound1)
 2205              	 .loc 1 944 0
 2206 00cc 2644     	 add r6,r6,r4
 948:LPC17xxLib/src/lpc17xx_can.c **** 					cnt1++;
 2207              	 .loc 1 948 0
 2208 00ce 624F     	 ldr r7,.L295+16
 944:LPC17xxLib/src/lpc17xx_can.c **** 			while(cnt1 < bound1)
 2209              	 .loc 1 944 0
 2210 00d0 36B2     	 sxth r6,r6
 2211              	.LVL285:
 948:LPC17xxLib/src/lpc17xx_can.c **** 					cnt1++;
 2212              	 .loc 1 948 0
 2213 00d2 4FEA507E 	 lsr lr,r0,#29
 2214              	.L267:
 945:LPC17xxLib/src/lpc17xx_can.c **** 			{
 2215              	 .loc 1 945 0
 2216 00d6 B342     	 cmp r3,r6
 2217 00d8 02DB     	 blt .L274
 2218 00da 14E0     	 b .L273
 2219              	.L268:
 2220 00dc 0133     	 adds r3,r3,#1
 2221              	.LVL286:
 2222 00de 1BB2     	 sxth r3,r3
 2223              	.LVL287:
 2224              	.L274:
 948:LPC17xxLib/src/lpc17xx_can.c **** 					cnt1++;
 2225              	 .loc 1 948 0
 2226 00e0 57F82340 	 ldr r4,[r7,r3,lsl#2]
 2227 00e4 BEEB547F 	 cmp lr,r4,lsr#29
 2228 00e8 F8D8     	 bhi .L268
 2229 00ea 9C00     	 lsls r4,r3,#2
 2230 00ec 04F18044 	 add r4,r4,#1073741824
 2231 00f0 04F56034 	 add r4,r4,#229376
 950:LPC17xxLib/src/lpc17xx_can.c **** 				if((LPC_CANAF_RAM->mask[cnt1] >> 29)> (entry1 >> 29)) //meet greater controller
 2232              	 .loc 1 950 0
 2233 00f4 2568     	 ldr r5,[r4]
 2234              	.LVL288:
 951:LPC17xxLib/src/lpc17xx_can.c **** 				{
 2235              	 .loc 1 951 0
 2236 00f6 2468     	 ldr r4,[r4]
 2237 00f8 BEEB547F 	 cmp lr,r4,lsr#29
 2238 00fc 17D2     	 bcs .L269
 2239              	.L293:
 976:LPC17xxLib/src/lpc17xx_can.c **** 			{
 2240              	 .loc 1 976 0
 2241 00fe B342     	 cmp r3,r6
 964:LPC17xxLib/src/lpc17xx_can.c **** 						break;
 2242              	 .loc 1 964 0
 2243 0100 47F82300 	 str r0,[r7,r3,lsl#2]
 976:LPC17xxLib/src/lpc17xx_can.c **** 			{
 2244              	 .loc 1 976 0
 2245 0104 06DB     	 blt .L276
 2246              	.LVL289:
 2247              	.L273:
 2248 0106 9A00     	 lsls r2,r3,#2
 2249              	.LVL290:
 2250 0108 02F18042 	 add r2,r2,#1073741824
 2251 010c 02F56032 	 add r2,r2,#229376
 979:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt1] = entry1;
 2252              	 .loc 1 979 0
 2253 0110 1568     	 ldr r5,[r2]
 2254              	.LVL291:
 980:LPC17xxLib/src/lpc17xx_can.c **** 			}
 2255              	 .loc 1 980 0
 2256 0112 1060     	 str r0,[r2]
 2257              	.LVL292:
 2258              	.L276:
 985:LPC17xxLib/src/lpc17xx_can.c **** 			{
 2259              	 .loc 1 985 0
 2260 0114 5345     	 cmp r3,r10
 2261 0116 C5D0     	 beq .L266
 2262 0118 0133     	 adds r3,r3,#1
 2263              	.LVL293:
 2264 011a 1BB2     	 sxth r3,r3
 2265              	.LVL294:
 2266 011c 9A00     	 lsls r2,r3,#2
 2267 011e 02F18042 	 add r2,r2,#1073741824
 2268 0122 02F56032 	 add r2,r2,#229376
 988:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt1] = buf0;
 2269              	 .loc 1 988 0
 2270 0126 1168     	 ldr r1,[r2]
 2271              	.LVL295:
 989:LPC17xxLib/src/lpc17xx_can.c **** 				buf0 = buf1;
 2272              	 .loc 1 989 0
 2273 0128 1560     	 str r5,[r2]
 2274              	.LVL296:
 990:LPC17xxLib/src/lpc17xx_can.c **** 			}
 2275              	 .loc 1 990 0
 2276 012a 0D46     	 mov r5,r1
 2277 012c F2E7     	 b .L276
 2278              	.LVL297:
 2279              	.L269:
 959:LPC17xxLib/src/lpc17xx_can.c **** 					UID  = buf0 & 0x7FF;
 2280              	 .loc 1 959 0
 2281 012e C5F30A4C 	 ubfx ip,r5,#16,#11
 961:LPC17xxLib/src/lpc17xx_can.c **** 					{
 2282              	 .loc 1 961 0
 2283 0132 6245     	 cmp r2,ip
 960:LPC17xxLib/src/lpc17xx_can.c **** 					if (upperID <= LID)
 2284              	 .loc 1 960 0
 2285 0134 C5F30A04 	 ubfx r4,r5,#0,#11
 2286              	.LVL298:
 961:LPC17xxLib/src/lpc17xx_can.c **** 					{
 2287              	 .loc 1 961 0
 2288 0138 E1D9     	 bls .L293
 967:LPC17xxLib/src/lpc17xx_can.c **** 					{
 2289              	 .loc 1 967 0
 2290 013a A142     	 cmp r1,r4
 2291 013c FFF465AF 	 bcc .L272
 970:LPC17xxLib/src/lpc17xx_can.c **** 					}
 2292              	 .loc 1 970 0
 2293 0140 0133     	 adds r3,r3,#1
 2294              	.LVL299:
 2295 0142 1BB2     	 sxth r3,r3
 2296              	.LVL300:
 2297 0144 C7E7     	 b .L267
 2298              	.LVL301:
 2299              	.L264:
1004:LPC17xxLib/src/lpc17xx_can.c **** 			return CAN_OBJECTS_FULL_ERROR;
 2300              	 .loc 1 1004 0
 2301 0146 BAF5FF7F 	 cmp r10,#510
 2302 014a 7BDC     	 bgt .L292
1012:LPC17xxLib/src/lpc17xx_can.c **** 		//if this is the first Group standard ID entry
 2303              	 .loc 1 1012 0
 2304 014c 7444     	 add r4,r4,lr
 2305 014e 2544     	 add r5,r5,r4
1009:LPC17xxLib/src/lpc17xx_can.c **** 		entry2   = (tmp << 29)|(upperID << 0);
 2306              	 .loc 1 1009 0
 2307 0150 4607     	 lsls r6,r0,#29
1007:LPC17xxLib/src/lpc17xx_can.c **** 		upperID &= 0x1FFFFFFF;
 2308              	 .loc 1 1007 0
 2309 0152 21F06041 	 bic r1,r1,#-536870912
 2310              	.LVL302:
1008:LPC17xxLib/src/lpc17xx_can.c **** 		entry1   = (tmp << 29)|(lowerID << 0);
 2311              	 .loc 1 1008 0
 2312 0156 22F06042 	 bic r2,r2,#-536870912
 2313              	.LVL303:
1012:LPC17xxLib/src/lpc17xx_can.c **** 		//if this is the first Group standard ID entry
 2314              	 .loc 1 1012 0
 2315 015a ADB2     	 uxth r5,r5
1009:LPC17xxLib/src/lpc17xx_can.c **** 		entry2   = (tmp << 29)|(upperID << 0);
 2316              	 .loc 1 1009 0
 2317 015c 41EA0609 	 orr r9,r1,r6
 2318              	.LVL304:
1012:LPC17xxLib/src/lpc17xx_can.c **** 		//if this is the first Group standard ID entry
 2319              	 .loc 1 1012 0
 2320 0160 2BB2     	 sxth r3,r5
1010:LPC17xxLib/src/lpc17xx_can.c **** 
 2321              	 .loc 1 1010 0
 2322 0162 1643     	 orrs r6,r6,r2
 2323              	.LVL305:
1014:LPC17xxLib/src/lpc17xx_can.c **** 		{
 2324              	 .loc 1 1014 0
 2325 0164 B8F1000F 	 cmp r8,#0
 2326 0168 11D1     	 bne .L279
 2327 016a 9B00     	 lsls r3,r3,#2
 2328              	.LVL306:
 2329 016c 03F18043 	 add r3,r3,#1073741824
 2330 0170 03F56033 	 add r3,r3,#229376
1016:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[cnt1+1] = entry2;
 2331              	 .loc 1 1016 0
 2332 0174 C3F80090 	 str r9,[r3]
1017:LPC17xxLib/src/lpc17xx_can.c **** 		}
 2333              	 .loc 1 1017 0
 2334 0178 5E60     	 str r6,[r3,#4]
 2335              	.LVL307:
 2336              	.L280:
1080:LPC17xxLib/src/lpc17xx_can.c **** 		//update address values
 2337              	 .loc 1 1080 0
 2338 017a BCF80030 	 ldrh r3,[ip]
1082:LPC17xxLib/src/lpc17xx_can.c **** 	}
 2339              	 .loc 1 1082 0
 2340 017e 374A     	 ldr r2,.L295+20
1080:LPC17xxLib/src/lpc17xx_can.c **** 		//update address values
 2341              	 .loc 1 1080 0
 2342 0180 0133     	 adds r3,r3,#1
 2343 0182 ACF80030 	 strh r3,[ip]
1082:LPC17xxLib/src/lpc17xx_can.c **** 	}
 2344              	 .loc 1 1082 0
 2345 0186 5369     	 ldr r3,[r2,#20]
 2346 0188 0833     	 adds r3,r3,#8
 2347 018a 5361     	 str r3,[r2,#20]
 2348 018c 99E7     	 b .L278
 2349              	.LVL308:
 2350              	.L279:
1023:LPC17xxLib/src/lpc17xx_can.c **** 			while(cnt1 < bound1)
 2351              	 .loc 1 1023 0
 2352 018e 3D44     	 add r5,r5,r7
1026:LPC17xxLib/src/lpc17xx_can.c **** 					cnt1++;
 2353              	 .loc 1 1026 0
 2354 0190 314C     	 ldr r4,.L295+16
1022:LPC17xxLib/src/lpc17xx_can.c **** 						+ CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 2355              	 .loc 1 1022 0
 2356 0192 2DB2     	 sxth r5,r5
 2357              	.LVL309:
1030:LPC17xxLib/src/lpc17xx_can.c **** 				{
 2358              	 .loc 1 1030 0
 2359 0194 4FEA5978 	 lsr r8,r9,#29
 2360              	.LVL310:
 2361              	.L281:
1024:LPC17xxLib/src/lpc17xx_can.c **** 			{
 2362              	 .loc 1 1024 0
 2363 0198 AB42     	 cmp r3,r5
 2364 019a 02DB     	 blt .L287
 2365 019c 1DE0     	 b .L286
 2366              	.L282:
 2367 019e 0133     	 adds r3,r3,#1
 2368              	.LVL311:
 2369 01a0 1BB2     	 sxth r3,r3
 2370              	.LVL312:
 2371              	.L287:
1026:LPC17xxLib/src/lpc17xx_can.c **** 					cnt1++;
 2372              	 .loc 1 1026 0
 2373 01a2 54F82370 	 ldr r7,[r4,r3,lsl#2]
 2374 01a6 B0EB577F 	 cmp r0,r7,lsr#29
 2375 01aa F8D8     	 bhi .L282
 2376 01ac 4FEA830A 	 lsl r10,r3,#2
 2377 01b0 0AF1804A 	 add r10,r10,#1073741824
 2378 01b4 0AF5603A 	 add r10,r10,#229376
1028:LPC17xxLib/src/lpc17xx_can.c **** 				buf1 = LPC_CANAF_RAM->mask[cnt1+1];
 2379              	 .loc 1 1028 0
 2380 01b8 DAF80070 	 ldr r7,[r10]
 2381              	.LVL313:
1029:LPC17xxLib/src/lpc17xx_can.c **** 				if((LPC_CANAF_RAM->mask[cnt1] >> 29)> (entry1 >> 29)) //meet greater controller
 2382              	 .loc 1 1029 0
 2383 01bc DAF804E0 	 ldr lr,[r10,#4]
 2384              	.LVL314:
1030:LPC17xxLib/src/lpc17xx_can.c **** 				{
 2385              	 .loc 1 1030 0
 2386 01c0 DAF800A0 	 ldr r10,[r10]
 2387 01c4 B8EB5A7F 	 cmp r8,r10,lsr#29
 2388 01c8 30D2     	 bcs .L283
 2389              	.L294:
1044:LPC17xxLib/src/lpc17xx_can.c **** 						LPC_CANAF_RAM->mask[++cnt1] = entry2;
 2390              	 .loc 1 1044 0
 2391 01ca 44F82390 	 str r9,[r4,r3,lsl#2]
1045:LPC17xxLib/src/lpc17xx_can.c **** 						break;
 2392              	 .loc 1 1045 0
 2393 01ce 0133     	 adds r3,r3,#1
 2394              	.LVL315:
 2395 01d0 1BB2     	 sxth r3,r3
 2396              	.LVL316:
1057:LPC17xxLib/src/lpc17xx_can.c **** 			{
 2397              	 .loc 1 1057 0
 2398 01d2 AB42     	 cmp r3,r5
1045:LPC17xxLib/src/lpc17xx_can.c **** 						break;
 2399              	 .loc 1 1045 0
 2400 01d4 44F82360 	 str r6,[r4,r3,lsl#2]
1057:LPC17xxLib/src/lpc17xx_can.c **** 			{
 2401              	 .loc 1 1057 0
 2402 01d8 0EDB     	 blt .L288
 2403              	.LVL317:
 2404              	.L286:
 2405 01da 9A00     	 lsls r2,r3,#2
 2406              	.LVL318:
 2407 01dc 02F18042 	 add r2,r2,#1073741824
 2408 01e0 02F56032 	 add r2,r2,#229376
1060:LPC17xxLib/src/lpc17xx_can.c **** 				buf1 = LPC_CANAF_RAM->mask[cnt1+1];
 2409              	 .loc 1 1060 0
 2410 01e4 1768     	 ldr r7,[r2]
 2411              	.LVL319:
1063:LPC17xxLib/src/lpc17xx_can.c **** 			}
 2412              	 .loc 1 1063 0
 2413 01e6 0133     	 adds r3,r3,#1
 2414              	.LVL320:
1061:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt1]   = entry1;
 2415              	 .loc 1 1061 0
 2416 01e8 D2F804E0 	 ldr lr,[r2,#4]
 2417              	.LVL321:
1062:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[++cnt1] = entry2;
 2418              	 .loc 1 1062 0
 2419 01ec C2F80090 	 str r9,[r2]
1063:LPC17xxLib/src/lpc17xx_can.c **** 			}
 2420              	 .loc 1 1063 0
 2421 01f0 194A     	 ldr r2,.L295+16
 2422 01f2 1BB2     	 sxth r3,r3
 2423              	.LVL322:
 2424 01f4 42F82360 	 str r6,[r2,r3,lsl#2]
 2425              	.L288:
1066:LPC17xxLib/src/lpc17xx_can.c **** 			cnt1++;
 2426              	 .loc 1 1066 0
 2427 01f8 009A     	 ldr r2,[sp]
 2428 01fa 9BB2     	 uxth r3,r3
 2429 01fc 0132     	 adds r2,r2,#1
 2430 01fe D21A     	 subs r2,r2,r3
1067:LPC17xxLib/src/lpc17xx_can.c **** 			while(bound1>0)
 2431              	 .loc 1 1067 0
 2432 0200 0133     	 adds r3,r3,#1
 2433              	.LVL323:
1066:LPC17xxLib/src/lpc17xx_can.c **** 			cnt1++;
 2434              	 .loc 1 1066 0
 2435 0202 12B2     	 sxth r2,r2
 2436              	.LVL324:
1067:LPC17xxLib/src/lpc17xx_can.c **** 			while(bound1>0)
 2437              	 .loc 1 1067 0
 2438 0204 1BB2     	 sxth r3,r3
 2439              	.LVL325:
 2440              	.L289:
1068:LPC17xxLib/src/lpc17xx_can.c **** 			{
 2441              	 .loc 1 1068 0
 2442 0206 002A     	 cmp r2,#0
 2443 0208 B7DD     	 ble .L280
 2444 020a 9900     	 lsls r1,r3,#2
 2445 020c 01F18041 	 add r1,r1,#1073741824
 2446 0210 01F56031 	 add r1,r1,#229376
1070:LPC17xxLib/src/lpc17xx_can.c **** 				entry2 = LPC_CANAF_RAM->mask[cnt1+1];
 2447              	 .loc 1 1070 0
 2448 0214 0868     	 ldr r0,[r1]
 2449              	.LVL326:
1071:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt1]   = buf0;
 2450              	 .loc 1 1071 0
 2451 0216 4C68     	 ldr r4,[r1,#4]
 2452              	.LVL327:
 2453 0218 0233     	 adds r3,r3,#2
 2454              	.LVL328:
 2455 021a 023A     	 subs r2,r2,#2
 2456              	.LVL329:
1072:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt1+1] = buf1;
 2457              	 .loc 1 1072 0
 2458 021c 0F60     	 str r7,[r1]
 2459 021e 1BB2     	 sxth r3,r3
1073:LPC17xxLib/src/lpc17xx_can.c **** 				buf0 = entry1;
 2460              	 .loc 1 1073 0
 2461 0220 C1F804E0 	 str lr,[r1,#4]
 2462              	.LVL330:
 2463 0224 12B2     	 sxth r2,r2
 2464              	.LVL331:
1075:LPC17xxLib/src/lpc17xx_can.c **** 				cnt1   +=2;
 2465              	 .loc 1 1075 0
 2466 0226 A646     	 mov lr,r4
1074:LPC17xxLib/src/lpc17xx_can.c **** 				buf1 = entry2;
 2467              	 .loc 1 1074 0
 2468 0228 0746     	 mov r7,r0
 2469 022a ECE7     	 b .L289
 2470              	.LVL332:
 2471              	.L283:
1039:LPC17xxLib/src/lpc17xx_can.c **** 					UID  = buf1 & 0x1FFFFFFF;
 2472              	 .loc 1 1039 0
 2473 022c 27F0604B 	 bic fp,r7,#-536870912
 2474              	.LVL333:
1041:LPC17xxLib/src/lpc17xx_can.c **** 					{
 2475              	 .loc 1 1041 0
 2476 0230 5A45     	 cmp r2,fp
1040:LPC17xxLib/src/lpc17xx_can.c **** 					if (upperID <= LID)
 2477              	 .loc 1 1040 0
 2478 0232 2EF0604A 	 bic r10,lr,#-536870912
 2479              	.LVL334:
1041:LPC17xxLib/src/lpc17xx_can.c **** 					{
 2480              	 .loc 1 1041 0
 2481 0236 C8D9     	 bls .L294
1048:LPC17xxLib/src/lpc17xx_can.c **** 					{
 2482              	 .loc 1 1048 0
 2483 0238 5145     	 cmp r1,r10
 2484 023a FFF4E6AE 	 bcc .L272
1051:LPC17xxLib/src/lpc17xx_can.c **** 					}
 2485              	 .loc 1 1051 0
 2486 023e 0233     	 adds r3,r3,#2
 2487              	.LVL335:
 2488 0240 1BB2     	 sxth r3,r3
 2489              	.LVL336:
 2490 0242 A9E7     	 b .L281
 2491              	.LVL337:
 2492              	.L292:
 929:LPC17xxLib/src/lpc17xx_can.c **** 		}
 2493              	 .loc 1 929 0
 2494 0244 0220     	 movs r0,#2
 2495              	.LVL338:
 2496 0246 E1E6     	 b .L263
 2497              	.L296:
 2498              	 .align 2
 2499              	.L295:
 2500 0248 00400440 	 .word 1074020352
 2501 024c 00000000 	 .word .LANCHOR3
 2502 0250 00000000 	 .word .LANCHOR0
 2503 0254 00000000 	 .word .LANCHOR1
 2504 0258 00800340 	 .word 1073971200
 2505 025c 00C00340 	 .word 1073987584
 2506 0260 00000000 	 .word .LANCHOR2
 2507 0264 00000000 	 .word .LANCHOR4
 2508              	 .cfi_endproc
 2509              	.LFE61:
 2511              	 .section .text.CAN_RemoveEntry,"ax",%progbits
 2512              	 .align 1
 2513              	 .global CAN_RemoveEntry
 2514              	 .syntax unified
 2515              	 .thumb
 2516              	 .thumb_func
 2517              	 .fpu softvfp
 2519              	CAN_RemoveEntry:
 2520              	.LFB62:
1087:LPC17xxLib/src/lpc17xx_can.c **** 
1088:LPC17xxLib/src/lpc17xx_can.c **** /********************************************************************//**
1089:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		Remove AFLUT entry (FullCAN entry and Explicit Standard entry)
1090:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	EntryType: the type of entry that want to remove, should be:
1091:LPC17xxLib/src/lpc17xx_can.c ****  * 				- FULLCAN_ENTRY
1092:LPC17xxLib/src/lpc17xx_can.c ****  * 				- EXPLICIT_STANDARD_ENTRY
1093:LPC17xxLib/src/lpc17xx_can.c ****  * 				- GROUP_STANDARD_ENTRY
1094:LPC17xxLib/src/lpc17xx_can.c ****  * 				- EXPLICIT_EXTEND_ENTRY
1095:LPC17xxLib/src/lpc17xx_can.c ****  * 				- GROUP_EXTEND_ENTRY
1096:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	position: the position of this entry in its section
1097:LPC17xxLib/src/lpc17xx_can.c ****  * Note: the first position is 0
1098:LPC17xxLib/src/lpc17xx_can.c ****  * @return 		CAN_ERROR, could be:
1099:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_OK: removing is successful
1100:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_ENTRY_NOT_EXIT_ERROR: entry want to remove is not exit
1101:LPC17xxLib/src/lpc17xx_can.c ****  *********************************************************************/
1102:LPC17xxLib/src/lpc17xx_can.c **** CAN_ERROR CAN_RemoveEntry(AFLUT_ENTRY_Type EntryType, uint16_t position)
1103:LPC17xxLib/src/lpc17xx_can.c **** {
 2521              	 .loc 1 1103 0
 2522              	 .cfi_startproc
 2523              	 
 2524              	 
 2525              	.LVL339:
1104:LPC17xxLib/src/lpc17xx_can.c **** 	uint16_t cnt, bound, total;
1105:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t buf0, buf1;
1106:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_AFLUT_ENTRY_TYPE(EntryType));
1107:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_POSITION(position));
1108:LPC17xxLib/src/lpc17xx_can.c **** 
1109:LPC17xxLib/src/lpc17xx_can.c **** 	/* Setup Acceptance Filter Configuration
1110:LPC17xxLib/src/lpc17xx_can.c **** 	Acceptance Filter Mode Register = Off */
1111:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->AFMR = 0x00000001;
 2526              	 .loc 1 1111 0
 2527 0000 0122     	 movs r2,#1
1103:LPC17xxLib/src/lpc17xx_can.c **** 	uint16_t cnt, bound, total;
 2528              	 .loc 1 1103 0
 2529 0002 2DE9F04F 	 push {r4,r5,r6,r7,r8,r9,r10,fp,lr}
 2530              	 .cfi_def_cfa_offset 36
 2531              	 .cfi_offset 4,-36
 2532              	 .cfi_offset 5,-32
 2533              	 .cfi_offset 6,-28
 2534              	 .cfi_offset 7,-24
 2535              	 .cfi_offset 8,-20
 2536              	 .cfi_offset 9,-16
 2537              	 .cfi_offset 10,-12
 2538              	 .cfi_offset 11,-8
 2539              	 .cfi_offset 14,-4
 2540              	 .loc 1 1111 0
 2541 0006 BD4B     	 ldr r3,.L347
1112:LPC17xxLib/src/lpc17xx_can.c **** 	total = ((CANAF_FullCAN_cnt+1)>>1)+((CANAF_std_cnt + 1) >> 1) + \
 2542              	 .loc 1 1112 0
 2543 0008 DFF8F8C2 	 ldr ip,.L347+8
 2544 000c DFF8F8B2 	 ldr fp,.L347+12
1111:LPC17xxLib/src/lpc17xx_can.c **** 	total = ((CANAF_FullCAN_cnt+1)>>1)+((CANAF_std_cnt + 1) >> 1) + \
 2545              	 .loc 1 1111 0
 2546 0010 1A60     	 str r2,[r3]
 2547              	 .loc 1 1112 0
 2548 0012 BBF80050 	 ldrh r5,[fp]
 2549 0016 BCF80030 	 ldrh r3,[ip]
 2550 001a 6C1C     	 adds r4,r5,#1
 2551 001c 9A18     	 adds r2,r3,r2
 2552 001e DFF8ECA2 	 ldr r10,.L347+16
1103:LPC17xxLib/src/lpc17xx_can.c **** 	uint16_t cnt, bound, total;
 2553              	 .loc 1 1103 0
 2554 0022 85B0     	 sub sp,sp,#20
 2555              	 .cfi_def_cfa_offset 56
 2556              	 .loc 1 1112 0
 2557 0024 C4F34F04 	 ubfx r4,r4,#1,#16
 2558 0028 C2F34F02 	 ubfx r2,r2,#1,#16
 2559 002c 0094     	 str r4,[sp]
 2560 002e BAF800E0 	 ldrh lr,[r10]
 2561 0032 1419     	 adds r4,r2,r4
1113:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_gstd_cnt + CANAF_ext_cnt + (CANAF_gext_cnt<<1);
 2562              	 .loc 1 1113 0
 2563 0034 DFF8D892 	 ldr r9,.L347+20
1112:LPC17xxLib/src/lpc17xx_can.c **** 	total = ((CANAF_FullCAN_cnt+1)>>1)+((CANAF_std_cnt + 1) >> 1) + \
 2564              	 .loc 1 1112 0
 2565 0038 A4B2     	 uxth r4,r4
 2566 003a 0194     	 str r4,[sp,#4]
 2567              	 .loc 1 1113 0
 2568 003c B9F80070 	 ldrh r7,[r9]
1112:LPC17xxLib/src/lpc17xx_can.c **** 	total = ((CANAF_FullCAN_cnt+1)>>1)+((CANAF_std_cnt + 1) >> 1) + \
 2569              	 .loc 1 1112 0
 2570 0040 7444     	 add r4,r4,lr
 2571              	 .loc 1 1113 0
 2572 0042 DFF8D082 	 ldr r8,.L347+24
1112:LPC17xxLib/src/lpc17xx_can.c **** 	total = ((CANAF_FullCAN_cnt+1)>>1)+((CANAF_std_cnt + 1) >> 1) + \
 2573              	 .loc 1 1112 0
 2574 0046 A4B2     	 uxth r4,r4
 2575 0048 0294     	 str r4,[sp,#8]
 2576              	 .loc 1 1113 0
 2577 004a B8F80060 	 ldrh r6,[r8]
 2578 004e 3C44     	 add r4,r4,r7
 2579 0050 A4B2     	 uxth r4,r4
 2580 0052 0394     	 str r4,[sp,#12]
1112:LPC17xxLib/src/lpc17xx_can.c **** 	total = ((CANAF_FullCAN_cnt+1)>>1)+((CANAF_std_cnt + 1) >> 1) + \
 2581              	 .loc 1 1112 0
 2582 0054 04EB4604 	 add r4,r4,r6,lsl#1
 2583 0058 A4B2     	 uxth r4,r4
 2584              	.LVL340:
1114:LPC17xxLib/src/lpc17xx_can.c **** 
1115:LPC17xxLib/src/lpc17xx_can.c **** 
1116:LPC17xxLib/src/lpc17xx_can.c **** /************** Remove FullCAN Entry *************/
1117:LPC17xxLib/src/lpc17xx_can.c **** 	if(EntryType == FULLCAN_ENTRY)
 2585              	 .loc 1 1117 0
 2586 005a 0028     	 cmp r0,#0
 2587 005c 40F0A080 	 bne .L298
1118:LPC17xxLib/src/lpc17xx_can.c **** 	{
1119:LPC17xxLib/src/lpc17xx_can.c **** 		if((CANAF_FullCAN_cnt==0)||(position >= CANAF_FullCAN_cnt))
 2588              	 .loc 1 1119 0
 2589 0060 002B     	 cmp r3,#0
 2590 0062 00F09E81 	 beq .L343
 2591              	 .loc 1 1119 0 is_stmt 0 discriminator 1
 2592 0066 8B42     	 cmp r3,r1
 2593 0068 40F29B81 	 bls .L343
1120:LPC17xxLib/src/lpc17xx_can.c **** 		{
1121:LPC17xxLib/src/lpc17xx_can.c **** 			return CAN_ENTRY_NOT_EXIT_ERROR;
1122:LPC17xxLib/src/lpc17xx_can.c **** 		}
1123:LPC17xxLib/src/lpc17xx_can.c **** 		else
1124:LPC17xxLib/src/lpc17xx_can.c **** 		{
1125:LPC17xxLib/src/lpc17xx_can.c **** 			cnt = position >> 1;
1126:LPC17xxLib/src/lpc17xx_can.c **** 			buf0 = LPC_CANAF_RAM->mask[cnt];
 2594              	 .loc 1 1126 0 is_stmt 1
 2595 006c A44D     	 ldr r5,.L347+4
1127:LPC17xxLib/src/lpc17xx_can.c **** 			bound = (CANAF_FullCAN_cnt - position -1)>>1;
 2596              	 .loc 1 1127 0
 2597 006e 5F1A     	 subs r7,r3,r1
1125:LPC17xxLib/src/lpc17xx_can.c **** 			buf0 = LPC_CANAF_RAM->mask[cnt];
 2598              	 .loc 1 1125 0
 2599 0070 4FEA5108 	 lsr r8,r1,#1
 2600              	.LVL341:
 2601              	 .loc 1 1127 0
 2602 0074 013F     	 subs r7,r7,#1
1128:LPC17xxLib/src/lpc17xx_can.c **** 			if((position & 0x0001) == 0) //event position
 2603              	 .loc 1 1128 0
 2604 0076 11F0010E 	 ands lr,r1,#1
1126:LPC17xxLib/src/lpc17xx_can.c **** 			bound = (CANAF_FullCAN_cnt - position -1)>>1;
 2605              	 .loc 1 1126 0
 2606 007a 55F82860 	 ldr r6,[r5,r8,lsl#2]
 2607              	.LVL342:
1127:LPC17xxLib/src/lpc17xx_can.c **** 			if((position & 0x0001) == 0) //event position
 2608              	 .loc 1 1127 0
 2609 007e C7F34F07 	 ubfx r7,r7,#1,#16
 2610              	.LVL343:
 2611              	 .loc 1 1128 0
 2612 0082 0AD0     	 beq .L300
1129:LPC17xxLib/src/lpc17xx_can.c **** 			{
1130:LPC17xxLib/src/lpc17xx_can.c **** 				while(bound--)
1131:LPC17xxLib/src/lpc17xx_can.c **** 				{
1132:LPC17xxLib/src/lpc17xx_can.c **** 					//remove all remaining FullCAN entry one place down
1133:LPC17xxLib/src/lpc17xx_can.c **** 					buf1  = LPC_CANAF_RAM->mask[cnt+1];
1134:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt] = (buf1 >> 16) | (buf0 << 16);
1135:LPC17xxLib/src/lpc17xx_can.c **** 					buf0  = buf1;
1136:LPC17xxLib/src/lpc17xx_can.c **** 					cnt++;
1137:LPC17xxLib/src/lpc17xx_can.c **** 				}
1138:LPC17xxLib/src/lpc17xx_can.c **** 			}
1139:LPC17xxLib/src/lpc17xx_can.c **** 			else //odd position
1140:LPC17xxLib/src/lpc17xx_can.c **** 			{
1141:LPC17xxLib/src/lpc17xx_can.c **** 				while(bound--)
1142:LPC17xxLib/src/lpc17xx_can.c **** 				{
1143:LPC17xxLib/src/lpc17xx_can.c **** 					//remove all remaining FullCAN entry one place down
1144:LPC17xxLib/src/lpc17xx_can.c **** 					buf1  = LPC_CANAF_RAM->mask[cnt+1];
1145:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt] = (buf0 & 0xFFFF0000)|(buf1 >> 16);
 2613              	 .loc 1 1145 0
 2614 0084 DFF89092 	 ldr r9,.L347+28
 2615              	.LVL344:
 2616              	.L301:
 2617 0088 1FFA80FA 	 uxth r10,r0
 2618 008c 08EB0A05 	 add r5,r8,r10
1141:LPC17xxLib/src/lpc17xx_can.c **** 				{
 2619              	 .loc 1 1141 0
 2620 0090 5745     	 cmp r7,r10
 2621 0092 ADB2     	 uxth r5,r5
 2622              	.LVL345:
 2623 0094 3AD1     	 bne .L305
 2624 0096 2846     	 mov r0,r5
 2625              	.LVL346:
 2626 0098 07E0     	 b .L304
 2627              	.LVL347:
 2628              	.L300:
 2629 009a 7546     	 mov r5,lr
 2630              	.LVL348:
 2631              	.L302:
 2632 009c 1FFA85F9 	 uxth r9,r5
 2633 00a0 08EB0900 	 add r0,r8,r9
1130:LPC17xxLib/src/lpc17xx_can.c **** 				{
 2634              	 .loc 1 1130 0
 2635 00a4 4F45     	 cmp r7,r9
 2636 00a6 80B2     	 uxth r0,r0
 2637              	.LVL349:
 2638 00a8 22D1     	 bne .L303
 2639              	.LVL350:
 2640              	.L304:
1146:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt+1] = LPC_CANAF_RAM->mask[cnt+1] << 16;
1147:LPC17xxLib/src/lpc17xx_can.c **** 					buf0  = buf1<<16;
1148:LPC17xxLib/src/lpc17xx_can.c **** 					cnt++;
1149:LPC17xxLib/src/lpc17xx_can.c **** 				}
1150:LPC17xxLib/src/lpc17xx_can.c **** 			}
1151:LPC17xxLib/src/lpc17xx_can.c **** 			if((CANAF_FullCAN_cnt & 0x0001) == 0)
 2641              	 .loc 1 1151 0
 2642 00aa DD07     	 lsls r5,r3,#31
 2643 00ac 43D4     	 bmi .L306
 2644 00ae 944D     	 ldr r5,.L347+4
 2645 00b0 4FF6FF72 	 movw r2,#65535
1152:LPC17xxLib/src/lpc17xx_can.c **** 			{
1153:LPC17xxLib/src/lpc17xx_can.c **** 				if((position & 0x0001)==0)
 2646              	 .loc 1 1153 0
 2647 00b4 BEF1000F 	 cmp lr,#0
 2648 00b8 3BD1     	 bne .L307
1154:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt] = (buf0 << 16) | (0x0000FFFF);
 2649              	 .loc 1 1154 0
 2650 00ba 42EA0646 	 orr r6,r2,r6,lsl#16
 2651              	.LVL351:
 2652              	.L344:
1155:LPC17xxLib/src/lpc17xx_can.c **** 				else
1156:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt] = buf0 | 0x0000FFFF;
 2653              	 .loc 1 1156 0
 2654 00be 45F82060 	 str r6,[r5,r0,lsl#2]
 2655              	.LVL352:
 2656              	.L308:
1157:LPC17xxLib/src/lpc17xx_can.c **** 			}
1158:LPC17xxLib/src/lpc17xx_can.c **** 			else
1159:LPC17xxLib/src/lpc17xx_can.c **** 			{
1160:LPC17xxLib/src/lpc17xx_can.c **** 				//remove all remaining section one place down
1161:LPC17xxLib/src/lpc17xx_can.c **** 				cnt = (CANAF_FullCAN_cnt + 1)>>1;
1162:LPC17xxLib/src/lpc17xx_can.c **** 				bound = total + CANAF_FullCAN_cnt * 3;
1163:LPC17xxLib/src/lpc17xx_can.c **** 				while(bound>cnt)
1164:LPC17xxLib/src/lpc17xx_can.c **** 				{
1165:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt-1] = LPC_CANAF_RAM->mask[cnt];
1166:LPC17xxLib/src/lpc17xx_can.c **** 					cnt++;
1167:LPC17xxLib/src/lpc17xx_can.c **** 				}
1168:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt-1]=0x00;
1169:LPC17xxLib/src/lpc17xx_can.c **** 				//update address values
1170:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF->SFF_sa 	  -=0x04;
1171:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF->SFF_GRP_sa -=0x04 ;
1172:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF->EFF_sa     -=0x04 ;
1173:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF->EFF_GRP_sa -=0x04;
1174:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF->ENDofTable -=0x04;
1175:LPC17xxLib/src/lpc17xx_can.c **** 			}
1176:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_FullCAN_cnt--;
 2657              	 .loc 1 1176 0
 2658 00c2 013B     	 subs r3,r3,#1
 2659 00c4 9BB2     	 uxth r3,r3
1177:LPC17xxLib/src/lpc17xx_can.c **** 
1178:LPC17xxLib/src/lpc17xx_can.c **** 			//delete its FullCAN Object in the FullCAN Object section
1179:LPC17xxLib/src/lpc17xx_can.c **** 			//remove all remaining FullCAN Object three place down
1180:LPC17xxLib/src/lpc17xx_can.c **** 			cnt = total + position * 3;
 2660              	 .loc 1 1180 0
 2661 00c6 01EB4102 	 add r2,r1,r1,lsl#1
1181:LPC17xxLib/src/lpc17xx_can.c **** 			bound = (CANAF_FullCAN_cnt - position + 1) * 3;
 2662              	 .loc 1 1181 0
 2663 00ca 591A     	 subs r1,r3,r1
 2664              	.LVL353:
1180:LPC17xxLib/src/lpc17xx_can.c **** 			bound = (CANAF_FullCAN_cnt - position + 1) * 3;
 2665              	 .loc 1 1180 0
 2666 00cc 1444     	 add r4,r4,r2
 2667              	.LVL354:
 2668              	 .loc 1 1181 0
 2669 00ce 0131     	 adds r1,r1,#1
1180:LPC17xxLib/src/lpc17xx_can.c **** 			bound = (CANAF_FullCAN_cnt - position + 1) * 3;
 2670              	 .loc 1 1180 0
 2671 00d0 A4B2     	 uxth r4,r4
 2672              	.LVL355:
 2673              	 .loc 1 1181 0
 2674 00d2 01EB4101 	 add r1,r1,r1,lsl#1
 2675 00d6 2144     	 add r1,r1,r4
1176:LPC17xxLib/src/lpc17xx_can.c **** 
 2676              	 .loc 1 1176 0
 2677 00d8 ACF80030 	 strh r3,[ip]
 2678 00dc 89B2     	 uxth r1,r1
 2679              	.L311:
1182:LPC17xxLib/src/lpc17xx_can.c **** 
1183:LPC17xxLib/src/lpc17xx_can.c **** 			while(bound)
 2680              	 .loc 1 1183 0
 2681 00de 8C42     	 cmp r4,r1
 2682 00e0 50D1     	 bne .L312
 2683              	.LVL356:
 2684              	.L313:
1184:LPC17xxLib/src/lpc17xx_can.c **** 			{
1185:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt]=LPC_CANAF_RAM->mask[cnt+3];;
1186:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt+1]=LPC_CANAF_RAM->mask[cnt+4];
1187:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt+2]=LPC_CANAF_RAM->mask[cnt+5];
1188:LPC17xxLib/src/lpc17xx_can.c **** 				bound -=3;
1189:LPC17xxLib/src/lpc17xx_can.c **** 				cnt   +=3;
1190:LPC17xxLib/src/lpc17xx_can.c **** 			}
1191:LPC17xxLib/src/lpc17xx_can.c **** 		}
1192:LPC17xxLib/src/lpc17xx_can.c **** 	}
1193:LPC17xxLib/src/lpc17xx_can.c **** 
1194:LPC17xxLib/src/lpc17xx_can.c **** /************** Remove Explicit Standard ID Entry *************/
1195:LPC17xxLib/src/lpc17xx_can.c **** 	else if(EntryType == EXPLICIT_STANDARD_ENTRY)
1196:LPC17xxLib/src/lpc17xx_can.c **** 	{
1197:LPC17xxLib/src/lpc17xx_can.c **** 		if((CANAF_std_cnt==0)||(position >= CANAF_std_cnt))
1198:LPC17xxLib/src/lpc17xx_can.c **** 		{
1199:LPC17xxLib/src/lpc17xx_can.c **** 			return CAN_ENTRY_NOT_EXIT_ERROR;
1200:LPC17xxLib/src/lpc17xx_can.c **** 		}
1201:LPC17xxLib/src/lpc17xx_can.c **** 		else
1202:LPC17xxLib/src/lpc17xx_can.c **** 		{
1203:LPC17xxLib/src/lpc17xx_can.c **** 			cnt = ((CANAF_FullCAN_cnt+1)>>1)+ (position >> 1);
1204:LPC17xxLib/src/lpc17xx_can.c **** 			buf0 = LPC_CANAF_RAM->mask[cnt];
1205:LPC17xxLib/src/lpc17xx_can.c **** 			bound = (CANAF_std_cnt - position - 1)>>1;
1206:LPC17xxLib/src/lpc17xx_can.c **** 			if((position & 0x0001) == 0) //event position
1207:LPC17xxLib/src/lpc17xx_can.c **** 			{
1208:LPC17xxLib/src/lpc17xx_can.c **** 				while(bound--)
1209:LPC17xxLib/src/lpc17xx_can.c **** 				{
1210:LPC17xxLib/src/lpc17xx_can.c **** 					//remove all remaining FullCAN entry one place down
1211:LPC17xxLib/src/lpc17xx_can.c **** 					buf1  = LPC_CANAF_RAM->mask[cnt+1];
1212:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt] = (buf1 >> 16) | (buf0 << 16);
1213:LPC17xxLib/src/lpc17xx_can.c **** 					buf0  = buf1;
1214:LPC17xxLib/src/lpc17xx_can.c **** 					cnt++;
1215:LPC17xxLib/src/lpc17xx_can.c **** 				}
1216:LPC17xxLib/src/lpc17xx_can.c **** 			}
1217:LPC17xxLib/src/lpc17xx_can.c **** 			else //odd position
1218:LPC17xxLib/src/lpc17xx_can.c **** 			{
1219:LPC17xxLib/src/lpc17xx_can.c **** 				while(bound--)
1220:LPC17xxLib/src/lpc17xx_can.c **** 				{
1221:LPC17xxLib/src/lpc17xx_can.c **** 					//remove all remaining FullCAN entry one place down
1222:LPC17xxLib/src/lpc17xx_can.c **** 					buf1  = LPC_CANAF_RAM->mask[cnt+1];
1223:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt] = (buf0 & 0xFFFF0000)|(buf1 >> 16);
1224:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt+1] = LPC_CANAF_RAM->mask[cnt+1] << 16;
1225:LPC17xxLib/src/lpc17xx_can.c **** 					buf0  = buf1<<16;
1226:LPC17xxLib/src/lpc17xx_can.c **** 					cnt++;
1227:LPC17xxLib/src/lpc17xx_can.c **** 				}
1228:LPC17xxLib/src/lpc17xx_can.c **** 			}
1229:LPC17xxLib/src/lpc17xx_can.c **** 			if((CANAF_std_cnt & 0x0001) == 0)
1230:LPC17xxLib/src/lpc17xx_can.c **** 			{
1231:LPC17xxLib/src/lpc17xx_can.c **** 				if((position & 0x0001)==0)
1232:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt] = (buf0 << 16) | (0x0000FFFF);
1233:LPC17xxLib/src/lpc17xx_can.c **** 				else
1234:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt] = buf0 | 0x0000FFFF;
1235:LPC17xxLib/src/lpc17xx_can.c **** 			}
1236:LPC17xxLib/src/lpc17xx_can.c **** 			else
1237:LPC17xxLib/src/lpc17xx_can.c **** 			{
1238:LPC17xxLib/src/lpc17xx_can.c **** 				//remove all remaining section one place down
1239:LPC17xxLib/src/lpc17xx_can.c **** 				cnt = ((CANAF_FullCAN_cnt + 1)>>1) + ((CANAF_std_cnt + 1) >> 1);
1240:LPC17xxLib/src/lpc17xx_can.c **** 				bound = total + CANAF_FullCAN_cnt * 3;
1241:LPC17xxLib/src/lpc17xx_can.c **** 				while(bound>cnt)
1242:LPC17xxLib/src/lpc17xx_can.c **** 				{
1243:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt-1] = LPC_CANAF_RAM->mask[cnt];
1244:LPC17xxLib/src/lpc17xx_can.c **** 					cnt++;
1245:LPC17xxLib/src/lpc17xx_can.c **** 				}
1246:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt-1]=0x00;
1247:LPC17xxLib/src/lpc17xx_can.c **** 				//update address value
1248:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF->SFF_GRP_sa -=0x04 ;
1249:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF->EFF_sa     -=0x04 ;
1250:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF->EFF_GRP_sa -=0x04;
1251:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF->ENDofTable -=0x04;
1252:LPC17xxLib/src/lpc17xx_can.c **** 			}
1253:LPC17xxLib/src/lpc17xx_can.c **** 			CANAF_std_cnt--;
1254:LPC17xxLib/src/lpc17xx_can.c **** 		}
1255:LPC17xxLib/src/lpc17xx_can.c **** 	}
1256:LPC17xxLib/src/lpc17xx_can.c **** 
1257:LPC17xxLib/src/lpc17xx_can.c **** /************** Remove Group of Standard ID Entry *************/
1258:LPC17xxLib/src/lpc17xx_can.c **** 	else if(EntryType == GROUP_STANDARD_ENTRY)
1259:LPC17xxLib/src/lpc17xx_can.c **** 	{
1260:LPC17xxLib/src/lpc17xx_can.c **** 		if((CANAF_gstd_cnt==0)||(position >= CANAF_gstd_cnt))
1261:LPC17xxLib/src/lpc17xx_can.c **** 		{
1262:LPC17xxLib/src/lpc17xx_can.c **** 			return CAN_ENTRY_NOT_EXIT_ERROR;
1263:LPC17xxLib/src/lpc17xx_can.c **** 		}
1264:LPC17xxLib/src/lpc17xx_can.c **** 		else
1265:LPC17xxLib/src/lpc17xx_can.c **** 		{
1266:LPC17xxLib/src/lpc17xx_can.c **** 			cnt = ((CANAF_FullCAN_cnt + 1)>>1) + ((CANAF_std_cnt + 1) >> 1)+ position + 1;
1267:LPC17xxLib/src/lpc17xx_can.c **** 			bound = total + CANAF_FullCAN_cnt * 3;
1268:LPC17xxLib/src/lpc17xx_can.c **** 			while (cnt<bound)
1269:LPC17xxLib/src/lpc17xx_can.c **** 			{
1270:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt-1] = LPC_CANAF_RAM->mask[cnt];
1271:LPC17xxLib/src/lpc17xx_can.c **** 				cnt++;
1272:LPC17xxLib/src/lpc17xx_can.c **** 			}
1273:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[cnt-1]=0x00;
1274:LPC17xxLib/src/lpc17xx_can.c **** 		}
1275:LPC17xxLib/src/lpc17xx_can.c **** 		CANAF_gstd_cnt--;
1276:LPC17xxLib/src/lpc17xx_can.c **** 		//update address value
1277:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->EFF_sa     -=0x04;
1278:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->EFF_GRP_sa -=0x04;
1279:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->ENDofTable -=0x04;
1280:LPC17xxLib/src/lpc17xx_can.c **** 	}
1281:LPC17xxLib/src/lpc17xx_can.c **** 
1282:LPC17xxLib/src/lpc17xx_can.c **** /************** Remove Explicit Extended ID Entry *************/
1283:LPC17xxLib/src/lpc17xx_can.c **** 	else if(EntryType == EXPLICIT_EXTEND_ENTRY)
1284:LPC17xxLib/src/lpc17xx_can.c **** 	{
1285:LPC17xxLib/src/lpc17xx_can.c **** 		if((CANAF_ext_cnt==0)||(position >= CANAF_ext_cnt))
1286:LPC17xxLib/src/lpc17xx_can.c **** 		{
1287:LPC17xxLib/src/lpc17xx_can.c **** 			return CAN_ENTRY_NOT_EXIT_ERROR;
1288:LPC17xxLib/src/lpc17xx_can.c **** 		}
1289:LPC17xxLib/src/lpc17xx_can.c **** 		else
1290:LPC17xxLib/src/lpc17xx_can.c **** 		{
1291:LPC17xxLib/src/lpc17xx_can.c **** 			cnt = ((CANAF_FullCAN_cnt + 1)>>1) + ((CANAF_std_cnt + 1) >> 1)+ CANAF_gstd_cnt + position + 1;
1292:LPC17xxLib/src/lpc17xx_can.c **** 			bound = total + CANAF_FullCAN_cnt * 3;
1293:LPC17xxLib/src/lpc17xx_can.c **** 			while (cnt<bound)
1294:LPC17xxLib/src/lpc17xx_can.c **** 			{
1295:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt-1] = LPC_CANAF_RAM->mask[cnt];
1296:LPC17xxLib/src/lpc17xx_can.c **** 				cnt++;
1297:LPC17xxLib/src/lpc17xx_can.c **** 			}
1298:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF_RAM->mask[cnt-1]=0x00;
1299:LPC17xxLib/src/lpc17xx_can.c **** 		}
1300:LPC17xxLib/src/lpc17xx_can.c **** 		CANAF_ext_cnt--;
1301:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->EFF_GRP_sa -=0x04;
1302:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->ENDofTable -=0x04;
1303:LPC17xxLib/src/lpc17xx_can.c **** 	}
1304:LPC17xxLib/src/lpc17xx_can.c **** 
1305:LPC17xxLib/src/lpc17xx_can.c **** /************** Remove Group of Extended ID Entry *************/
1306:LPC17xxLib/src/lpc17xx_can.c **** 	else
1307:LPC17xxLib/src/lpc17xx_can.c **** 	{
1308:LPC17xxLib/src/lpc17xx_can.c **** 		if((CANAF_gext_cnt==0)||(position >= CANAF_gext_cnt))
1309:LPC17xxLib/src/lpc17xx_can.c **** 		{
1310:LPC17xxLib/src/lpc17xx_can.c **** 			return CAN_ENTRY_NOT_EXIT_ERROR;
1311:LPC17xxLib/src/lpc17xx_can.c **** 		}
1312:LPC17xxLib/src/lpc17xx_can.c **** 		else
1313:LPC17xxLib/src/lpc17xx_can.c **** 		{
1314:LPC17xxLib/src/lpc17xx_can.c **** 			cnt = total - (CANAF_gext_cnt<<1) + (position<<1);
1315:LPC17xxLib/src/lpc17xx_can.c **** 			bound = total + CANAF_FullCAN_cnt * 3;
1316:LPC17xxLib/src/lpc17xx_can.c **** 			while (cnt<bound)
1317:LPC17xxLib/src/lpc17xx_can.c **** 			{
1318:LPC17xxLib/src/lpc17xx_can.c **** 				//remove all remaining entry two place up
1319:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt] = LPC_CANAF_RAM->mask[cnt+2];
1320:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt+1] = LPC_CANAF_RAM->mask[cnt+3];
1321:LPC17xxLib/src/lpc17xx_can.c **** 				cnt+=2;
1322:LPC17xxLib/src/lpc17xx_can.c **** 			}
1323:LPC17xxLib/src/lpc17xx_can.c **** 		}
1324:LPC17xxLib/src/lpc17xx_can.c **** 		CANAF_gext_cnt--;
1325:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->ENDofTable -=0x08;
1326:LPC17xxLib/src/lpc17xx_can.c **** 	}
1327:LPC17xxLib/src/lpc17xx_can.c **** 	LPC_CANAF->AFMR = 0x04;
 2685              	 .loc 1 1327 0
 2686 00e2 0422     	 movs r2,#4
1328:LPC17xxLib/src/lpc17xx_can.c **** 	return CAN_OK;
 2687              	 .loc 1 1328 0
 2688 00e4 0120     	 movs r0,#1
1327:LPC17xxLib/src/lpc17xx_can.c **** 	return CAN_OK;
 2689              	 .loc 1 1327 0
 2690 00e6 854B     	 ldr r3,.L347
 2691 00e8 1A60     	 str r2,[r3]
 2692              	.L299:
1329:LPC17xxLib/src/lpc17xx_can.c **** }
 2693              	 .loc 1 1329 0
 2694 00ea 05B0     	 add sp,sp,#20
 2695              	 .cfi_remember_state
 2696              	 .cfi_def_cfa_offset 36
 2697              	 
 2698 00ec BDE8F08F 	 pop {r4,r5,r6,r7,r8,r9,r10,fp,pc}
 2699              	.LVL357:
 2700              	.L303:
 2701              	 .cfi_restore_state
 2702 00f0 8000     	 lsls r0,r0,#2
 2703              	.LVL358:
 2704 00f2 00F18040 	 add r0,r0,#1073741824
 2705 00f6 00F56030 	 add r0,r0,#229376
1133:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt] = (buf1 >> 16) | (buf0 << 16);
 2706              	 .loc 1 1133 0
 2707 00fa D0F80490 	 ldr r9,[r0,#4]
 2708              	.LVL359:
1134:LPC17xxLib/src/lpc17xx_can.c **** 					buf0  = buf1;
 2709              	 .loc 1 1134 0
 2710 00fe 3604     	 lsls r6,r6,#16
 2711              	.LVL360:
 2712 0100 46EA1946 	 orr r6,r6,r9,lsr#16
 2713 0104 0660     	 str r6,[r0]
 2714              	.LVL361:
 2715 0106 0135     	 adds r5,r5,#1
 2716              	.LVL362:
1135:LPC17xxLib/src/lpc17xx_can.c **** 					cnt++;
 2717              	 .loc 1 1135 0
 2718 0108 4E46     	 mov r6,r9
 2719 010a C7E7     	 b .L302
 2720              	.LVL363:
 2721              	.L305:
 2722 010c AD00     	 lsls r5,r5,#2
 2723              	.LVL364:
 2724 010e 05F18045 	 add r5,r5,#1073741824
 2725 0112 05F56035 	 add r5,r5,#229376
1144:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt] = (buf0 & 0xFFFF0000)|(buf1 >> 16);
 2726              	 .loc 1 1144 0
 2727 0116 D5F804A0 	 ldr r10,[r5,#4]
 2728              	.LVL365:
1145:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt+1] = LPC_CANAF_RAM->mask[cnt+1] << 16;
 2729              	 .loc 1 1145 0
 2730 011a 06EA0906 	 and r6,r6,r9
 2731              	.LVL366:
 2732 011e 46EA1A46 	 orr r6,r6,r10,lsr#16
 2733 0122 2E60     	 str r6,[r5]
1146:LPC17xxLib/src/lpc17xx_can.c **** 					buf0  = buf1<<16;
 2734              	 .loc 1 1146 0
 2735 0124 6E68     	 ldr r6,[r5,#4]
 2736 0126 0130     	 adds r0,r0,#1
 2737              	.LVL367:
 2738 0128 3604     	 lsls r6,r6,#16
 2739 012a 6E60     	 str r6,[r5,#4]
1147:LPC17xxLib/src/lpc17xx_can.c **** 					cnt++;
 2740              	 .loc 1 1147 0
 2741 012c 4FEA0A46 	 lsl r6,r10,#16
 2742              	.LVL368:
 2743 0130 AAE7     	 b .L301
 2744              	.LVL369:
 2745              	.L307:
1156:LPC17xxLib/src/lpc17xx_can.c **** 			}
 2746              	 .loc 1 1156 0
 2747 0132 1643     	 orrs r6,r6,r2
 2748              	.LVL370:
 2749 0134 C3E7     	 b .L344
 2750              	.LVL371:
 2751              	.L306:
1162:LPC17xxLib/src/lpc17xx_can.c **** 				while(bound>cnt)
 2752              	 .loc 1 1162 0
 2753 0136 03EB4305 	 add r5,r3,r3,lsl#1
 2754 013a 2544     	 add r5,r5,r4
 2755 013c ADB2     	 uxth r5,r5
 2756              	.LVL372:
 2757              	.L309:
1163:LPC17xxLib/src/lpc17xx_can.c **** 				{
 2758              	 .loc 1 1163 0
 2759 013e AA42     	 cmp r2,r5
 2760 0140 15D3     	 bcc .L310
1168:LPC17xxLib/src/lpc17xx_can.c **** 				//update address values
 2761              	 .loc 1 1168 0
 2762 0142 0025     	 movs r5,#0
 2763              	.LVL373:
 2764 0144 6E48     	 ldr r0,.L347+4
 2765 0146 013A     	 subs r2,r2,#1
 2766              	.LVL374:
 2767 0148 40F82250 	 str r5,[r0,r2,lsl#2]
1170:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF->SFF_GRP_sa -=0x04 ;
 2768              	 .loc 1 1170 0
 2769 014c 6B4A     	 ldr r2,.L347
 2770 014e 5068     	 ldr r0,[r2,#4]
 2771 0150 0438     	 subs r0,r0,#4
 2772 0152 5060     	 str r0,[r2,#4]
1171:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF->EFF_sa     -=0x04 ;
 2773              	 .loc 1 1171 0
 2774 0154 9068     	 ldr r0,[r2,#8]
 2775 0156 0438     	 subs r0,r0,#4
 2776 0158 9060     	 str r0,[r2,#8]
1172:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF->EFF_GRP_sa -=0x04;
 2777              	 .loc 1 1172 0
 2778 015a D068     	 ldr r0,[r2,#12]
 2779 015c 0438     	 subs r0,r0,#4
 2780 015e D060     	 str r0,[r2,#12]
1173:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF->ENDofTable -=0x04;
 2781              	 .loc 1 1173 0
 2782 0160 1069     	 ldr r0,[r2,#16]
 2783 0162 0438     	 subs r0,r0,#4
 2784 0164 1061     	 str r0,[r2,#16]
1174:LPC17xxLib/src/lpc17xx_can.c **** 			}
 2785              	 .loc 1 1174 0
 2786 0166 5069     	 ldr r0,[r2,#20]
 2787 0168 0438     	 subs r0,r0,#4
 2788 016a 5061     	 str r0,[r2,#20]
 2789 016c A9E7     	 b .L308
 2790              	.LVL375:
 2791              	.L310:
 2792 016e 9000     	 lsls r0,r2,#2
 2793 0170 00F18040 	 add r0,r0,#1073741824
 2794 0174 00F56030 	 add r0,r0,#229376
1165:LPC17xxLib/src/lpc17xx_can.c **** 					cnt++;
 2795              	 .loc 1 1165 0
 2796 0178 0668     	 ldr r6,[r0]
1166:LPC17xxLib/src/lpc17xx_can.c **** 				}
 2797              	 .loc 1 1166 0
 2798 017a 0132     	 adds r2,r2,#1
 2799              	.LVL376:
1165:LPC17xxLib/src/lpc17xx_can.c **** 					cnt++;
 2800              	 .loc 1 1165 0
 2801 017c 40F8046C 	 str r6,[r0,#-4]
1166:LPC17xxLib/src/lpc17xx_can.c **** 				}
 2802              	 .loc 1 1166 0
 2803 0180 92B2     	 uxth r2,r2
 2804              	.LVL377:
 2805 0182 DCE7     	 b .L309
 2806              	.LVL378:
 2807              	.L312:
 2808 0184 A300     	 lsls r3,r4,#2
 2809 0186 03F18043 	 add r3,r3,#1073741824
 2810 018a 03F56033 	 add r3,r3,#229376
1185:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt+1]=LPC_CANAF_RAM->mask[cnt+4];
 2811              	 .loc 1 1185 0
 2812 018e DA68     	 ldr r2,[r3,#12]
1189:LPC17xxLib/src/lpc17xx_can.c **** 			}
 2813              	 .loc 1 1189 0
 2814 0190 0334     	 adds r4,r4,#3
 2815              	.LVL379:
1185:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt+1]=LPC_CANAF_RAM->mask[cnt+4];
 2816              	 .loc 1 1185 0
 2817 0192 1A60     	 str r2,[r3]
1186:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt+2]=LPC_CANAF_RAM->mask[cnt+5];
 2818              	 .loc 1 1186 0
 2819 0194 1A69     	 ldr r2,[r3,#16]
1189:LPC17xxLib/src/lpc17xx_can.c **** 			}
 2820              	 .loc 1 1189 0
 2821 0196 A4B2     	 uxth r4,r4
1186:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt+2]=LPC_CANAF_RAM->mask[cnt+5];
 2822              	 .loc 1 1186 0
 2823 0198 5A60     	 str r2,[r3,#4]
1187:LPC17xxLib/src/lpc17xx_can.c **** 				bound -=3;
 2824              	 .loc 1 1187 0
 2825 019a 5A69     	 ldr r2,[r3,#20]
 2826 019c 9A60     	 str r2,[r3,#8]
 2827              	.LVL380:
 2828 019e 9EE7     	 b .L311
 2829              	.LVL381:
 2830              	.L298:
1195:LPC17xxLib/src/lpc17xx_can.c **** 	{
 2831              	 .loc 1 1195 0
 2832 01a0 0128     	 cmp r0,#1
 2833 01a2 7DD1     	 bne .L314
1197:LPC17xxLib/src/lpc17xx_can.c **** 		{
 2834              	 .loc 1 1197 0
 2835 01a4 002D     	 cmp r5,#0
 2836 01a6 00F0FC80 	 beq .L343
1197:LPC17xxLib/src/lpc17xx_can.c **** 		{
 2837              	 .loc 1 1197 0 is_stmt 0 discriminator 1
 2838 01aa 8D42     	 cmp r5,r1
 2839 01ac 40F2F980 	 bls .L343
1203:LPC17xxLib/src/lpc17xx_can.c **** 			buf0 = LPC_CANAF_RAM->mask[cnt];
 2840              	 .loc 1 1203 0 is_stmt 1
 2841 01b0 02EB5102 	 add r2,r2,r1,lsr#1
1205:LPC17xxLib/src/lpc17xx_can.c **** 			if((position & 0x0001) == 0) //event position
 2842              	 .loc 1 1205 0
 2843 01b4 6F1A     	 subs r7,r5,r1
1204:LPC17xxLib/src/lpc17xx_can.c **** 			bound = (CANAF_std_cnt - position - 1)>>1;
 2844              	 .loc 1 1204 0
 2845 01b6 524B     	 ldr r3,.L347+4
1203:LPC17xxLib/src/lpc17xx_can.c **** 			buf0 = LPC_CANAF_RAM->mask[cnt];
 2846              	 .loc 1 1203 0
 2847 01b8 92B2     	 uxth r2,r2
 2848              	.LVL382:
1205:LPC17xxLib/src/lpc17xx_can.c **** 			if((position & 0x0001) == 0) //event position
 2849              	 .loc 1 1205 0
 2850 01ba 013F     	 subs r7,r7,#1
1206:LPC17xxLib/src/lpc17xx_can.c **** 			{
 2851              	 .loc 1 1206 0
 2852 01bc 11F00101 	 ands r1,r1,#1
 2853              	.LVL383:
1204:LPC17xxLib/src/lpc17xx_can.c **** 			bound = (CANAF_std_cnt - position - 1)>>1;
 2854              	 .loc 1 1204 0
 2855 01c0 53F82260 	 ldr r6,[r3,r2,lsl#2]
 2856              	.LVL384:
1205:LPC17xxLib/src/lpc17xx_can.c **** 			if((position & 0x0001) == 0) //event position
 2857              	 .loc 1 1205 0
 2858 01c4 C7F34F07 	 ubfx r7,r7,#1,#16
 2859              	.LVL385:
1206:LPC17xxLib/src/lpc17xx_can.c **** 			{
 2860              	 .loc 1 1206 0
 2861 01c8 1CD0     	 beq .L315
 2862 01ca 0023     	 movs r3,#0
1223:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt+1] = LPC_CANAF_RAM->mask[cnt+1] << 16;
 2863              	 .loc 1 1223 0
 2864 01cc DFF848E1 	 ldr lr,.L347+28
 2865              	.LVL386:
 2866              	.L316:
 2867 01d0 1FFA83F8 	 uxth r8,r3
 2868 01d4 02EB0800 	 add r0,r2,r8
1219:LPC17xxLib/src/lpc17xx_can.c **** 				{
 2869              	 .loc 1 1219 0
 2870 01d8 4745     	 cmp r7,r8
 2871 01da 80B2     	 uxth r0,r0
 2872              	.LVL387:
 2873 01dc 1AD0     	 beq .L319
 2874 01de 8000     	 lsls r0,r0,#2
 2875              	.LVL388:
 2876 01e0 00F18040 	 add r0,r0,#1073741824
 2877 01e4 00F56030 	 add r0,r0,#229376
1222:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt] = (buf0 & 0xFFFF0000)|(buf1 >> 16);
 2878              	 .loc 1 1222 0
 2879 01e8 D0F80480 	 ldr r8,[r0,#4]
 2880              	.LVL389:
1223:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt+1] = LPC_CANAF_RAM->mask[cnt+1] << 16;
 2881              	 .loc 1 1223 0
 2882 01ec 06EA0E06 	 and r6,r6,lr
 2883              	.LVL390:
 2884 01f0 46EA1846 	 orr r6,r6,r8,lsr#16
 2885 01f4 0660     	 str r6,[r0]
1224:LPC17xxLib/src/lpc17xx_can.c **** 					buf0  = buf1<<16;
 2886              	 .loc 1 1224 0
 2887 01f6 4668     	 ldr r6,[r0,#4]
 2888 01f8 0133     	 adds r3,r3,#1
 2889              	.LVL391:
 2890 01fa 3604     	 lsls r6,r6,#16
 2891 01fc 4660     	 str r6,[r0,#4]
1225:LPC17xxLib/src/lpc17xx_can.c **** 					cnt++;
 2892              	 .loc 1 1225 0
 2893 01fe 4FEA0846 	 lsl r6,r8,#16
 2894              	.LVL392:
 2895 0202 E5E7     	 b .L316
 2896              	.LVL393:
 2897              	.L315:
 2898 0204 0B46     	 mov r3,r1
 2899              	.LVL394:
 2900              	.L317:
 2901 0206 1FFA83FE 	 uxth lr,r3
 2902 020a 02EB0E00 	 add r0,r2,lr
1208:LPC17xxLib/src/lpc17xx_can.c **** 				{
 2903              	 .loc 1 1208 0
 2904 020e 7745     	 cmp r7,lr
 2905 0210 80B2     	 uxth r0,r0
 2906              	.LVL395:
 2907 0212 0DD1     	 bne .L318
 2908              	.L319:
1229:LPC17xxLib/src/lpc17xx_can.c **** 			{
 2909              	 .loc 1 1229 0
 2910 0214 EB07     	 lsls r3,r5,#31
 2911 0216 1BD4     	 bmi .L321
 2912 0218 394A     	 ldr r2,.L347+4
 2913 021a 4FF6FF73 	 movw r3,#65535
1231:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt] = (buf0 << 16) | (0x0000FFFF);
 2914              	 .loc 1 1231 0
 2915 021e A9B9     	 cbnz r1,.L322
1232:LPC17xxLib/src/lpc17xx_can.c **** 				else
 2916              	 .loc 1 1232 0
 2917 0220 43EA0646 	 orr r6,r3,r6,lsl#16
 2918              	.LVL396:
 2919              	.L345:
1234:LPC17xxLib/src/lpc17xx_can.c **** 			}
 2920              	 .loc 1 1234 0
 2921 0224 42F82060 	 str r6,[r2,r0,lsl#2]
 2922              	.LVL397:
 2923              	.L323:
1253:LPC17xxLib/src/lpc17xx_can.c **** 		}
 2924              	 .loc 1 1253 0
 2925 0228 013D     	 subs r5,r5,#1
 2926 022a ABF80050 	 strh r5,[fp]
 2927 022e 58E7     	 b .L313
 2928              	.LVL398:
 2929              	.L318:
 2930 0230 8000     	 lsls r0,r0,#2
 2931              	.LVL399:
 2932 0232 00F18040 	 add r0,r0,#1073741824
 2933 0236 00F56030 	 add r0,r0,#229376
1211:LPC17xxLib/src/lpc17xx_can.c **** 					LPC_CANAF_RAM->mask[cnt] = (buf1 >> 16) | (buf0 << 16);
 2934              	 .loc 1 1211 0
 2935 023a D0F804E0 	 ldr lr,[r0,#4]
 2936              	.LVL400:
1212:LPC17xxLib/src/lpc17xx_can.c **** 					buf0  = buf1;
 2937              	 .loc 1 1212 0
 2938 023e 3604     	 lsls r6,r6,#16
 2939              	.LVL401:
 2940 0240 46EA1E46 	 orr r6,r6,lr,lsr#16
 2941 0244 0660     	 str r6,[r0]
 2942              	.LVL402:
 2943 0246 0133     	 adds r3,r3,#1
1213:LPC17xxLib/src/lpc17xx_can.c **** 					cnt++;
 2944              	 .loc 1 1213 0
 2945 0248 7646     	 mov r6,lr
 2946 024a DCE7     	 b .L317
 2947              	.LVL403:
 2948              	.L322:
1234:LPC17xxLib/src/lpc17xx_can.c **** 			}
 2949              	 .loc 1 1234 0
 2950 024c 1E43     	 orrs r6,r6,r3
 2951              	.LVL404:
 2952 024e E9E7     	 b .L345
 2953              	.LVL405:
 2954              	.L321:
1239:LPC17xxLib/src/lpc17xx_can.c **** 				bound = total + CANAF_FullCAN_cnt * 3;
 2955              	 .loc 1 1239 0
 2956 0250 BCF80020 	 ldrh r2,[ip]
 2957              	.LVL406:
1240:LPC17xxLib/src/lpc17xx_can.c **** 				while(bound>cnt)
 2958              	 .loc 1 1240 0
 2959 0254 02EB4203 	 add r3,r2,r2,lsl#1
 2960 0258 1C44     	 add r4,r4,r3
 2961              	.LVL407:
1239:LPC17xxLib/src/lpc17xx_can.c **** 				bound = total + CANAF_FullCAN_cnt * 3;
 2962              	 .loc 1 1239 0
 2963 025a 009B     	 ldr r3,[sp]
 2964 025c 0132     	 adds r2,r2,#1
 2965              	.LVL408:
 2966 025e 03EB6202 	 add r2,r3,r2,asr#1
 2967              	.LVL409:
 2968 0262 274B     	 ldr r3,.L347+4
1240:LPC17xxLib/src/lpc17xx_can.c **** 				while(bound>cnt)
 2969              	 .loc 1 1240 0
 2970 0264 A4B2     	 uxth r4,r4
 2971              	.LVL410:
 2972 0266 92B2     	 uxth r2,r2
 2973              	.LVL411:
 2974              	.L324:
1241:LPC17xxLib/src/lpc17xx_can.c **** 				{
 2975              	 .loc 1 1241 0
 2976 0268 91B2     	 uxth r1,r2
 2977 026a A142     	 cmp r1,r4
 2978 026c 11D3     	 bcc .L325
1246:LPC17xxLib/src/lpc17xx_can.c **** 				//update address value
 2979              	 .loc 1 1246 0
 2980 026e 4A1E     	 subs r2,r1,#1
 2981              	.LVL412:
 2982 0270 0021     	 movs r1,#0
 2983              	.LVL413:
 2984 0272 43F82210 	 str r1,[r3,r2,lsl#2]
1248:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF->EFF_sa     -=0x04 ;
 2985              	 .loc 1 1248 0
 2986 0276 214B     	 ldr r3,.L347
 2987 0278 9A68     	 ldr r2,[r3,#8]
 2988              	.LVL414:
 2989 027a 043A     	 subs r2,r2,#4
 2990 027c 9A60     	 str r2,[r3,#8]
 2991              	.LVL415:
1249:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF->EFF_GRP_sa -=0x04;
 2992              	 .loc 1 1249 0
 2993 027e DA68     	 ldr r2,[r3,#12]
 2994 0280 043A     	 subs r2,r2,#4
 2995 0282 DA60     	 str r2,[r3,#12]
1250:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF->ENDofTable -=0x04;
 2996              	 .loc 1 1250 0
 2997 0284 1A69     	 ldr r2,[r3,#16]
 2998 0286 043A     	 subs r2,r2,#4
 2999 0288 1A61     	 str r2,[r3,#16]
1251:LPC17xxLib/src/lpc17xx_can.c **** 			}
 3000              	 .loc 1 1251 0
 3001 028a 5A69     	 ldr r2,[r3,#20]
 3002 028c 043A     	 subs r2,r2,#4
 3003 028e 5A61     	 str r2,[r3,#20]
 3004 0290 CAE7     	 b .L323
 3005              	.LVL416:
 3006              	.L325:
1243:LPC17xxLib/src/lpc17xx_can.c **** 					cnt++;
 3007              	 .loc 1 1243 0
 3008 0292 53F82200 	 ldr r0,[r3,r2,lsl#2]
 3009 0296 511E     	 subs r1,r2,#1
 3010 0298 43F82100 	 str r0,[r3,r1,lsl#2]
 3011              	.LVL417:
 3012 029c 0132     	 adds r2,r2,#1
 3013              	.LVL418:
 3014 029e E3E7     	 b .L324
 3015              	.LVL419:
 3016              	.L314:
1258:LPC17xxLib/src/lpc17xx_can.c **** 	{
 3017              	 .loc 1 1258 0
 3018 02a0 0228     	 cmp r0,#2
 3019 02a2 3BD1     	 bne .L326
1260:LPC17xxLib/src/lpc17xx_can.c **** 		{
 3020              	 .loc 1 1260 0
 3021 02a4 BEF1000F 	 cmp lr,#0
 3022 02a8 7BD0     	 beq .L343
1260:LPC17xxLib/src/lpc17xx_can.c **** 		{
 3023              	 .loc 1 1260 0 is_stmt 0 discriminator 1
 3024 02aa 8E45     	 cmp lr,r1
 3025 02ac 79D9     	 bls .L343
 3026              	.LVL420:
1267:LPC17xxLib/src/lpc17xx_can.c **** 			while (cnt<bound)
 3027              	 .loc 1 1267 0 is_stmt 1
 3028 02ae 03EB4303 	 add r3,r3,r3,lsl#1
 3029 02b2 1C44     	 add r4,r4,r3
 3030              	.LVL421:
1266:LPC17xxLib/src/lpc17xx_can.c **** 			bound = total + CANAF_FullCAN_cnt * 3;
 3031              	 .loc 1 1266 0
 3032 02b4 019B     	 ldr r3,[sp,#4]
 3033 02b6 0131     	 adds r1,r1,#1
 3034              	.LVL422:
 3035 02b8 0B44     	 add r3,r3,r1
 3036 02ba 99B2     	 uxth r1,r3
 3037 02bc 104B     	 ldr r3,.L347+4
1267:LPC17xxLib/src/lpc17xx_can.c **** 			while (cnt<bound)
 3038              	 .loc 1 1267 0
 3039 02be A4B2     	 uxth r4,r4
 3040              	.LVL423:
 3041              	.L327:
1268:LPC17xxLib/src/lpc17xx_can.c **** 			{
 3042              	 .loc 1 1268 0
 3043 02c0 8AB2     	 uxth r2,r1
 3044 02c2 A242     	 cmp r2,r4
 3045 02c4 12D3     	 bcc .L328
1273:LPC17xxLib/src/lpc17xx_can.c **** 		}
 3046              	 .loc 1 1273 0
 3047 02c6 511E     	 subs r1,r2,#1
 3048              	.LVL424:
 3049 02c8 0022     	 movs r2,#0
 3050              	.LVL425:
1275:LPC17xxLib/src/lpc17xx_can.c **** 		//update address value
 3051              	 .loc 1 1275 0
 3052 02ca 0EF1FF3E 	 add lr,lr,#-1
1273:LPC17xxLib/src/lpc17xx_can.c **** 		}
 3053              	 .loc 1 1273 0
 3054 02ce 43F82120 	 str r2,[r3,r1,lsl#2]
1277:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->EFF_GRP_sa -=0x04;
 3055              	 .loc 1 1277 0
 3056 02d2 0A4B     	 ldr r3,.L347
1275:LPC17xxLib/src/lpc17xx_can.c **** 		//update address value
 3057              	 .loc 1 1275 0
 3058 02d4 AAF800E0 	 strh lr,[r10]
1277:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->EFF_GRP_sa -=0x04;
 3059              	 .loc 1 1277 0
 3060 02d8 DA68     	 ldr r2,[r3,#12]
 3061 02da 043A     	 subs r2,r2,#4
 3062 02dc DA60     	 str r2,[r3,#12]
 3063              	.LVL426:
 3064              	.L346:
1301:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->ENDofTable -=0x04;
 3065              	 .loc 1 1301 0
 3066 02de 1A69     	 ldr r2,[r3,#16]
 3067 02e0 043A     	 subs r2,r2,#4
 3068 02e2 1A61     	 str r2,[r3,#16]
1302:LPC17xxLib/src/lpc17xx_can.c **** 	}
 3069              	 .loc 1 1302 0
 3070 02e4 5A69     	 ldr r2,[r3,#20]
 3071 02e6 043A     	 subs r2,r2,#4
 3072 02e8 5A61     	 str r2,[r3,#20]
 3073 02ea FAE6     	 b .L313
 3074              	.LVL427:
 3075              	.L328:
1270:LPC17xxLib/src/lpc17xx_can.c **** 				cnt++;
 3076              	 .loc 1 1270 0
 3077 02ec 53F82100 	 ldr r0,[r3,r1,lsl#2]
 3078 02f0 4A1E     	 subs r2,r1,#1
 3079 02f2 43F82200 	 str r0,[r3,r2,lsl#2]
 3080              	.LVL428:
 3081 02f6 0131     	 adds r1,r1,#1
 3082              	.LVL429:
 3083 02f8 E2E7     	 b .L327
 3084              	.L348:
 3085 02fa 00BF     	 .align 2
 3086              	.L347:
 3087 02fc 00C00340 	 .word 1073987584
 3088 0300 00800340 	 .word 1073971200
 3089 0304 00000000 	 .word .LANCHOR0
 3090 0308 00000000 	 .word .LANCHOR1
 3091 030c 00000000 	 .word .LANCHOR2
 3092 0310 00000000 	 .word .LANCHOR3
 3093 0314 00000000 	 .word .LANCHOR4
 3094 0318 0000FFFF 	 .word -65536
 3095              	.LVL430:
 3096              	.L326:
1283:LPC17xxLib/src/lpc17xx_can.c **** 	{
 3097              	 .loc 1 1283 0
 3098 031c 0328     	 cmp r0,#3
 3099 031e 1FD1     	 bne .L329
1285:LPC17xxLib/src/lpc17xx_can.c **** 		{
 3100              	 .loc 1 1285 0
 3101 0320 002F     	 cmp r7,#0
 3102 0322 3ED0     	 beq .L343
1285:LPC17xxLib/src/lpc17xx_can.c **** 		{
 3103              	 .loc 1 1285 0 is_stmt 0 discriminator 1
 3104 0324 8F42     	 cmp r7,r1
 3105 0326 3CD9     	 bls .L343
 3106              	.LVL431:
1292:LPC17xxLib/src/lpc17xx_can.c **** 			while (cnt<bound)
 3107              	 .loc 1 1292 0 is_stmt 1
 3108 0328 03EB4303 	 add r3,r3,r3,lsl#1
 3109 032c 1C44     	 add r4,r4,r3
 3110              	.LVL432:
1291:LPC17xxLib/src/lpc17xx_can.c **** 			bound = total + CANAF_FullCAN_cnt * 3;
 3111              	 .loc 1 1291 0
 3112 032e 029B     	 ldr r3,[sp,#8]
 3113 0330 0131     	 adds r1,r1,#1
 3114              	.LVL433:
 3115 0332 0B44     	 add r3,r3,r1
 3116 0334 99B2     	 uxth r1,r3
 3117 0336 1C4B     	 ldr r3,.L349
1292:LPC17xxLib/src/lpc17xx_can.c **** 			while (cnt<bound)
 3118              	 .loc 1 1292 0
 3119 0338 A4B2     	 uxth r4,r4
 3120              	.LVL434:
 3121              	.L330:
1293:LPC17xxLib/src/lpc17xx_can.c **** 			{
 3122              	 .loc 1 1293 0
 3123 033a 8AB2     	 uxth r2,r1
 3124 033c A242     	 cmp r2,r4
 3125 033e 08D3     	 bcc .L331
1298:LPC17xxLib/src/lpc17xx_can.c **** 		}
 3126              	 .loc 1 1298 0
 3127 0340 511E     	 subs r1,r2,#1
 3128              	.LVL435:
 3129 0342 0022     	 movs r2,#0
 3130              	.LVL436:
1300:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->EFF_GRP_sa -=0x04;
 3131              	 .loc 1 1300 0
 3132 0344 013F     	 subs r7,r7,#1
1298:LPC17xxLib/src/lpc17xx_can.c **** 		}
 3133              	 .loc 1 1298 0
 3134 0346 43F82120 	 str r2,[r3,r1,lsl#2]
1300:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->EFF_GRP_sa -=0x04;
 3135              	 .loc 1 1300 0
 3136 034a A9F80070 	 strh r7,[r9]
1301:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->ENDofTable -=0x04;
 3137              	 .loc 1 1301 0
 3138 034e 174B     	 ldr r3,.L349+4
 3139 0350 C5E7     	 b .L346
 3140              	.LVL437:
 3141              	.L331:
1295:LPC17xxLib/src/lpc17xx_can.c **** 				cnt++;
 3142              	 .loc 1 1295 0
 3143 0352 53F82100 	 ldr r0,[r3,r1,lsl#2]
 3144 0356 4A1E     	 subs r2,r1,#1
 3145 0358 43F82200 	 str r0,[r3,r2,lsl#2]
 3146              	.LVL438:
 3147 035c 0131     	 adds r1,r1,#1
 3148              	.LVL439:
 3149 035e ECE7     	 b .L330
 3150              	.LVL440:
 3151              	.L329:
1308:LPC17xxLib/src/lpc17xx_can.c **** 		{
 3152              	 .loc 1 1308 0
 3153 0360 FEB1     	 cbz r6,.L343
1308:LPC17xxLib/src/lpc17xx_can.c **** 		{
 3154              	 .loc 1 1308 0 is_stmt 0 discriminator 1
 3155 0362 8E42     	 cmp r6,r1
 3156 0364 1DD9     	 bls .L343
1314:LPC17xxLib/src/lpc17xx_can.c **** 			bound = total + CANAF_FullCAN_cnt * 3;
 3157              	 .loc 1 1314 0 is_stmt 1
 3158 0366 039A     	 ldr r2,[sp,#12]
1315:LPC17xxLib/src/lpc17xx_can.c **** 			while (cnt<bound)
 3159              	 .loc 1 1315 0
 3160 0368 03EB4303 	 add r3,r3,r3,lsl#1
1314:LPC17xxLib/src/lpc17xx_can.c **** 			bound = total + CANAF_FullCAN_cnt * 3;
 3161              	 .loc 1 1314 0
 3162 036c 02EB4101 	 add r1,r2,r1,lsl#1
 3163              	.LVL441:
1315:LPC17xxLib/src/lpc17xx_can.c **** 			while (cnt<bound)
 3164              	 .loc 1 1315 0
 3165 0370 2344     	 add r3,r3,r4
1314:LPC17xxLib/src/lpc17xx_can.c **** 			bound = total + CANAF_FullCAN_cnt * 3;
 3166              	 .loc 1 1314 0
 3167 0372 89B2     	 uxth r1,r1
 3168              	.LVL442:
1315:LPC17xxLib/src/lpc17xx_can.c **** 			while (cnt<bound)
 3169              	 .loc 1 1315 0
 3170 0374 9BB2     	 uxth r3,r3
 3171              	.LVL443:
 3172              	.L332:
1316:LPC17xxLib/src/lpc17xx_can.c **** 			{
 3173              	 .loc 1 1316 0
 3174 0376 9942     	 cmp r1,r3
 3175 0378 07D3     	 bcc .L333
1325:LPC17xxLib/src/lpc17xx_can.c **** 	}
 3176              	 .loc 1 1325 0
 3177 037a 0C4A     	 ldr r2,.L349+4
1324:LPC17xxLib/src/lpc17xx_can.c **** 		LPC_CANAF->ENDofTable -=0x08;
 3178              	 .loc 1 1324 0
 3179 037c 013E     	 subs r6,r6,#1
 3180 037e A8F80060 	 strh r6,[r8]
1325:LPC17xxLib/src/lpc17xx_can.c **** 	}
 3181              	 .loc 1 1325 0
 3182 0382 5369     	 ldr r3,[r2,#20]
 3183              	.LVL444:
 3184 0384 083B     	 subs r3,r3,#8
 3185 0386 5361     	 str r3,[r2,#20]
 3186              	.LVL445:
 3187 0388 ABE6     	 b .L313
 3188              	.LVL446:
 3189              	.L333:
 3190 038a 8A00     	 lsls r2,r1,#2
 3191 038c 02F18042 	 add r2,r2,#1073741824
 3192 0390 02F56032 	 add r2,r2,#229376
1319:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt+1] = LPC_CANAF_RAM->mask[cnt+3];
 3193              	 .loc 1 1319 0
 3194 0394 9068     	 ldr r0,[r2,#8]
1321:LPC17xxLib/src/lpc17xx_can.c **** 			}
 3195              	 .loc 1 1321 0
 3196 0396 0231     	 adds r1,r1,#2
 3197              	.LVL447:
1319:LPC17xxLib/src/lpc17xx_can.c **** 				LPC_CANAF_RAM->mask[cnt+1] = LPC_CANAF_RAM->mask[cnt+3];
 3198              	 .loc 1 1319 0
 3199 0398 1060     	 str r0,[r2]
1320:LPC17xxLib/src/lpc17xx_can.c **** 				cnt+=2;
 3200              	 .loc 1 1320 0
 3201 039a D068     	 ldr r0,[r2,#12]
1321:LPC17xxLib/src/lpc17xx_can.c **** 			}
 3202              	 .loc 1 1321 0
 3203 039c 89B2     	 uxth r1,r1
 3204              	.LVL448:
1320:LPC17xxLib/src/lpc17xx_can.c **** 				cnt+=2;
 3205              	 .loc 1 1320 0
 3206 039e 5060     	 str r0,[r2,#4]
 3207 03a0 E9E7     	 b .L332
 3208              	.LVL449:
 3209              	.L343:
1121:LPC17xxLib/src/lpc17xx_can.c **** 		}
 3210              	 .loc 1 1121 0
 3211 03a2 0720     	 movs r0,#7
 3212              	.LVL450:
 3213 03a4 A1E6     	 b .L299
 3214              	.L350:
 3215 03a6 00BF     	 .align 2
 3216              	.L349:
 3217 03a8 00800340 	 .word 1073971200
 3218 03ac 00C00340 	 .word 1073987584
 3219              	 .cfi_endproc
 3220              	.LFE62:
 3222              	 .section .text.CAN_SendMsg,"ax",%progbits
 3223              	 .align 1
 3224              	 .global CAN_SendMsg
 3225              	 .syntax unified
 3226              	 .thumb
 3227              	 .thumb_func
 3228              	 .fpu softvfp
 3230              	CAN_SendMsg:
 3231              	.LFB63:
1330:LPC17xxLib/src/lpc17xx_can.c **** 
1331:LPC17xxLib/src/lpc17xx_can.c **** /********************************************************************//**
1332:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		Send message data
1333:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CANx pointer to LPC_CAN_TypeDef, should be:
1334:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN1: CAN1 peripheral
1335:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN2: CAN2 peripheral
1336:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CAN_Msg point to the CAN_MSG_Type Structure, it contains message
1337:LPC17xxLib/src/lpc17xx_can.c ****  * 				information such as: ID, DLC, RTR, ID Format
1338:LPC17xxLib/src/lpc17xx_can.c ****  * @return 		Status:
1339:LPC17xxLib/src/lpc17xx_can.c ****  * 				- SUCCESS: send message successfully
1340:LPC17xxLib/src/lpc17xx_can.c ****  * 				- ERROR: send message unsuccessfully
1341:LPC17xxLib/src/lpc17xx_can.c ****  *********************************************************************/
1342:LPC17xxLib/src/lpc17xx_can.c **** Status CAN_SendMsg (LPC_CAN_TypeDef *CANx, CAN_MSG_Type *CAN_Msg)
1343:LPC17xxLib/src/lpc17xx_can.c **** {
 3232              	 .loc 1 1343 0
 3233              	 .cfi_startproc
 3234              	 
 3235              	 
 3236              	.LVL451:
 3237 0000 10B5     	 push {r4,lr}
 3238              	 .cfi_def_cfa_offset 8
 3239              	 .cfi_offset 4,-8
 3240              	 .cfi_offset 14,-4
1344:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t data;
1345:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CANx(CANx));
1346:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_ID_FORMAT(CAN_Msg->format));
1347:LPC17xxLib/src/lpc17xx_can.c **** 	if(CAN_Msg->format==STD_ID_FORMAT)
1348:LPC17xxLib/src/lpc17xx_can.c **** 	{
1349:LPC17xxLib/src/lpc17xx_can.c **** 		CHECK_PARAM(PARAM_ID_11(CAN_Msg->id));
1350:LPC17xxLib/src/lpc17xx_can.c **** 	}
1351:LPC17xxLib/src/lpc17xx_can.c **** 	else
1352:LPC17xxLib/src/lpc17xx_can.c **** 	{
1353:LPC17xxLib/src/lpc17xx_can.c **** 		CHECK_PARAM(PARAM_ID_29(CAN_Msg->id));
1354:LPC17xxLib/src/lpc17xx_can.c **** 	}
1355:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_DLC(CAN_Msg->len));
1356:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_FRAME_TYPE(CAN_Msg->type));
1357:LPC17xxLib/src/lpc17xx_can.c **** 
1358:LPC17xxLib/src/lpc17xx_can.c **** 	//Check status of Transmit Buffer 1
1359:LPC17xxLib/src/lpc17xx_can.c **** 	if (CANx->SR & (1<<2))
 3241              	 .loc 1 1359 0
 3242 0002 C369     	 ldr r3,[r0,#28]
1347:LPC17xxLib/src/lpc17xx_can.c **** 	{
 3243              	 .loc 1 1347 0
 3244 0004 4A7B     	 ldrb r2,[r1,#13]
 3245              	 .loc 1 1359 0
 3246 0006 5C07     	 lsls r4,r3,#29
 3247 0008 2BD5     	 bpl .L352
1360:LPC17xxLib/src/lpc17xx_can.c **** 	{
1361:LPC17xxLib/src/lpc17xx_can.c **** 		/* Transmit Channel 1 is available */
1362:LPC17xxLib/src/lpc17xx_can.c **** 		/* Write frame informations and frame data into its CANxTFI1,
1363:LPC17xxLib/src/lpc17xx_can.c **** 		 * CANxTID1, CANxTDA1, CANxTDB1 register */
1364:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->TFI1 &= ~0x000F0000;
 3248              	 .loc 1 1364 0
 3249 000a 036B     	 ldr r3,[r0,#48]
 3250 000c 23F47023 	 bic r3,r3,#983040
 3251 0010 0363     	 str r3,[r0,#48]
1365:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->TFI1 |= (CAN_Msg->len)<<16;
 3252              	 .loc 1 1365 0
 3253 0012 036B     	 ldr r3,[r0,#48]
 3254 0014 0C7B     	 ldrb r4,[r1,#12]
 3255 0016 43EA0443 	 orr r3,r3,r4,lsl#16
 3256 001a 0363     	 str r3,[r0,#48]
1366:LPC17xxLib/src/lpc17xx_can.c **** 		if(CAN_Msg->type == REMOTE_FRAME)
 3257              	 .loc 1 1366 0
 3258 001c 8B7B     	 ldrb r3,[r1,#14]
 3259 001e 012B     	 cmp r3,#1
1367:LPC17xxLib/src/lpc17xx_can.c **** 		{
1368:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->TFI1 |= (1<<30); //set bit RTR
 3260              	 .loc 1 1368 0
 3261 0020 036B     	 ldr r3,[r0,#48]
 3262 0022 0CBF     	 ite eq
 3263 0024 43F08043 	 orreq r3,r3,#1073741824
1369:LPC17xxLib/src/lpc17xx_can.c **** 		}
1370:LPC17xxLib/src/lpc17xx_can.c **** 		else
1371:LPC17xxLib/src/lpc17xx_can.c **** 		{
1372:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->TFI1 &= ~(1<<30);
 3264              	 .loc 1 1372 0
 3265 0028 23F08043 	 bicne r3,r3,#1073741824
 3266 002c 0363     	 str r3,[r0,#48]
1373:LPC17xxLib/src/lpc17xx_can.c **** 		}
1374:LPC17xxLib/src/lpc17xx_can.c **** 		if(CAN_Msg->format == EXT_ID_FORMAT)
1375:LPC17xxLib/src/lpc17xx_can.c **** 		{
1376:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->TFI1 |= (1UL<<31); //set bit FF
 3267              	 .loc 1 1376 0
 3268 002e 036B     	 ldr r3,[r0,#48]
1374:LPC17xxLib/src/lpc17xx_can.c **** 		{
 3269              	 .loc 1 1374 0
 3270 0030 012A     	 cmp r2,#1
 3271              	 .loc 1 1376 0
 3272 0032 0CBF     	 ite eq
 3273 0034 43F00043 	 orreq r3,r3,#-2147483648
1377:LPC17xxLib/src/lpc17xx_can.c **** 		}
1378:LPC17xxLib/src/lpc17xx_can.c **** 		else
1379:LPC17xxLib/src/lpc17xx_can.c **** 		{
1380:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->TFI1 &= ~(1UL<<31);
 3274              	 .loc 1 1380 0
 3275 0038 23F00043 	 bicne r3,r3,#-2147483648
 3276 003c 0363     	 str r3,[r0,#48]
1381:LPC17xxLib/src/lpc17xx_can.c **** 		}
1382:LPC17xxLib/src/lpc17xx_can.c **** 
1383:LPC17xxLib/src/lpc17xx_can.c **** 		/* Write CAN ID*/
1384:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->TID1 = CAN_Msg->id;
 3277              	 .loc 1 1384 0
 3278 003e 0B68     	 ldr r3,[r1]
1385:LPC17xxLib/src/lpc17xx_can.c **** 
1386:LPC17xxLib/src/lpc17xx_can.c **** 		/*Write first 4 data bytes*/
1387:LPC17xxLib/src/lpc17xx_can.c **** 		data = (CAN_Msg->dataA[0])|(((CAN_Msg->dataA[1]))<<8)|((CAN_Msg->dataA[2])<<16)|((CAN_Msg->dataA[
1388:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->TDA1 = data;
1389:LPC17xxLib/src/lpc17xx_can.c **** 
1390:LPC17xxLib/src/lpc17xx_can.c **** 		/*Write second 4 data bytes*/
1391:LPC17xxLib/src/lpc17xx_can.c **** 		data = (CAN_Msg->dataB[0])|(((CAN_Msg->dataB[1]))<<8)|((CAN_Msg->dataB[2])<<16)|((CAN_Msg->dataB[
1392:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->TDB1 = data;
1393:LPC17xxLib/src/lpc17xx_can.c **** 
1394:LPC17xxLib/src/lpc17xx_can.c **** 		 /*Write transmission request*/
1395:LPC17xxLib/src/lpc17xx_can.c **** 		 CANx->CMR = 0x21;
 3279              	 .loc 1 1395 0
 3280 0040 2122     	 movs r2,#33
1384:LPC17xxLib/src/lpc17xx_can.c **** 
 3281              	 .loc 1 1384 0
 3282 0042 4363     	 str r3,[r0,#52]
 3283 0044 4B68     	 ldr r3,[r1,#4]
 3284              	.LVL452:
1388:LPC17xxLib/src/lpc17xx_can.c **** 
 3285              	 .loc 1 1388 0
 3286 0046 8363     	 str r3,[r0,#56]
 3287 0048 8B68     	 ldr r3,[r1,#8]
 3288              	.LVL453:
1392:LPC17xxLib/src/lpc17xx_can.c **** 
 3289              	 .loc 1 1392 0
 3290 004a C363     	 str r3,[r0,#60]
 3291              	 .loc 1 1395 0
 3292 004c 0379     	 ldrb r3,[r0,#4]
 3293              	.LVL454:
 3294 004e 0023     	 movs r3,#0
 3295              	.L374:
1396:LPC17xxLib/src/lpc17xx_can.c **** 		 return SUCCESS;
1397:LPC17xxLib/src/lpc17xx_can.c **** 	}
1398:LPC17xxLib/src/lpc17xx_can.c **** 	//check status of Transmit Buffer 2
1399:LPC17xxLib/src/lpc17xx_can.c **** 	else if(CANx->SR & (1<<10))
1400:LPC17xxLib/src/lpc17xx_can.c **** 	{
1401:LPC17xxLib/src/lpc17xx_can.c **** 		/* Transmit Channel 2 is available */
1402:LPC17xxLib/src/lpc17xx_can.c **** 		/* Write frame informations and frame data into its CANxTFI2,
1403:LPC17xxLib/src/lpc17xx_can.c **** 		 * CANxTID2, CANxTDA2, CANxTDB2 register */
1404:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->TFI2 &= ~0x000F0000;
1405:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->TFI2 |= (CAN_Msg->len)<<16;
1406:LPC17xxLib/src/lpc17xx_can.c **** 		if(CAN_Msg->type == REMOTE_FRAME)
1407:LPC17xxLib/src/lpc17xx_can.c **** 		{
1408:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->TFI2 |= (1<<30); //set bit RTR
1409:LPC17xxLib/src/lpc17xx_can.c **** 		}
1410:LPC17xxLib/src/lpc17xx_can.c **** 		else
1411:LPC17xxLib/src/lpc17xx_can.c **** 		{
1412:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->TFI2 &= ~(1<<30);
1413:LPC17xxLib/src/lpc17xx_can.c **** 		}
1414:LPC17xxLib/src/lpc17xx_can.c **** 		if(CAN_Msg->format == EXT_ID_FORMAT)
1415:LPC17xxLib/src/lpc17xx_can.c **** 		{
1416:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->TFI2 |= (1UL<<31); //set bit FF
1417:LPC17xxLib/src/lpc17xx_can.c **** 		}
1418:LPC17xxLib/src/lpc17xx_can.c **** 		else
1419:LPC17xxLib/src/lpc17xx_can.c **** 		{
1420:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->TFI2 &= ~(1UL<<31);
1421:LPC17xxLib/src/lpc17xx_can.c **** 		}
1422:LPC17xxLib/src/lpc17xx_can.c **** 
1423:LPC17xxLib/src/lpc17xx_can.c **** 		/* Write CAN ID*/
1424:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->TID2 = CAN_Msg->id;
1425:LPC17xxLib/src/lpc17xx_can.c **** 
1426:LPC17xxLib/src/lpc17xx_can.c **** 		/*Write first 4 data bytes*/
1427:LPC17xxLib/src/lpc17xx_can.c **** 		data = (CAN_Msg->dataA[0])|(((CAN_Msg->dataA[1]))<<8)|((CAN_Msg->dataA[2])<<16)|((CAN_Msg->dataA[
1428:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->TDA2 = data;
1429:LPC17xxLib/src/lpc17xx_can.c **** 
1430:LPC17xxLib/src/lpc17xx_can.c **** 		/*Write second 4 data bytes*/
1431:LPC17xxLib/src/lpc17xx_can.c **** 		data = (CAN_Msg->dataB[0])|(((CAN_Msg->dataB[1]))<<8)|((CAN_Msg->dataB[2])<<16)|((CAN_Msg->dataB[
1432:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->TDB2 = data;
1433:LPC17xxLib/src/lpc17xx_can.c **** 
1434:LPC17xxLib/src/lpc17xx_can.c **** 		/*Write transmission request*/
1435:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->CMR = 0x41;
1436:LPC17xxLib/src/lpc17xx_can.c **** 		return SUCCESS;
1437:LPC17xxLib/src/lpc17xx_can.c **** 	}
1438:LPC17xxLib/src/lpc17xx_can.c **** 	//check status of Transmit Buffer 3
1439:LPC17xxLib/src/lpc17xx_can.c **** 	else if (CANx->SR & (1<<18))
1440:LPC17xxLib/src/lpc17xx_can.c **** 	{
1441:LPC17xxLib/src/lpc17xx_can.c **** 		/* Transmit Channel 3 is available */
1442:LPC17xxLib/src/lpc17xx_can.c **** 		/* Write frame informations and frame data into its CANxTFI3,
1443:LPC17xxLib/src/lpc17xx_can.c **** 		 * CANxTID3, CANxTDA3, CANxTDB3 register */
1444:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->TFI3 &= ~0x000F0000;
1445:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->TFI3 |= (CAN_Msg->len)<<16;
1446:LPC17xxLib/src/lpc17xx_can.c **** 		if(CAN_Msg->type == REMOTE_FRAME)
1447:LPC17xxLib/src/lpc17xx_can.c **** 		{
1448:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->TFI3 |= (1<<30); //set bit RTR
1449:LPC17xxLib/src/lpc17xx_can.c **** 		}
1450:LPC17xxLib/src/lpc17xx_can.c **** 		else
1451:LPC17xxLib/src/lpc17xx_can.c **** 		{
1452:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->TFI3 &= ~(1<<30);
1453:LPC17xxLib/src/lpc17xx_can.c **** 		}
1454:LPC17xxLib/src/lpc17xx_can.c **** 		if(CAN_Msg->format == EXT_ID_FORMAT)
1455:LPC17xxLib/src/lpc17xx_can.c **** 		{
1456:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->TFI3 |= (1UL<<31); //set bit FF
1457:LPC17xxLib/src/lpc17xx_can.c **** 		}
1458:LPC17xxLib/src/lpc17xx_can.c **** 		else
1459:LPC17xxLib/src/lpc17xx_can.c **** 		{
1460:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->TFI3 &= ~(1UL<<31);
1461:LPC17xxLib/src/lpc17xx_can.c **** 		}
1462:LPC17xxLib/src/lpc17xx_can.c **** 
1463:LPC17xxLib/src/lpc17xx_can.c **** 		/* Write CAN ID*/
1464:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->TID3 = CAN_Msg->id;
1465:LPC17xxLib/src/lpc17xx_can.c **** 
1466:LPC17xxLib/src/lpc17xx_can.c **** 		/*Write first 4 data bytes*/
1467:LPC17xxLib/src/lpc17xx_can.c **** 		data = (CAN_Msg->dataA[0])|(((CAN_Msg->dataA[1]))<<8)|((CAN_Msg->dataA[2])<<16)|((CAN_Msg->dataA[
1468:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->TDA3 = data;
1469:LPC17xxLib/src/lpc17xx_can.c **** 
1470:LPC17xxLib/src/lpc17xx_can.c **** 		/*Write second 4 data bytes*/
1471:LPC17xxLib/src/lpc17xx_can.c **** 		data = (CAN_Msg->dataB[0])|(((CAN_Msg->dataB[1]))<<8)|((CAN_Msg->dataB[2])<<16)|((CAN_Msg->dataB[
1472:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->TDB3 = data;
1473:LPC17xxLib/src/lpc17xx_can.c **** 
1474:LPC17xxLib/src/lpc17xx_can.c **** 		/*Write transmission request*/
1475:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->CMR = 0x81;
 3296              	 .loc 1 1475 0
 3297 0050 0271     	 strb r2,[r0,#4]
 3298 0052 4279     	 ldrb r2,[r0,#5]
 3299 0054 4371     	 strb r3,[r0,#5]
 3300 0056 8279     	 ldrb r2,[r0,#6]
 3301 0058 8371     	 strb r3,[r0,#6]
 3302 005a C279     	 ldrb r2,[r0,#7]
 3303 005c C371     	 strb r3,[r0,#7]
1476:LPC17xxLib/src/lpc17xx_can.c **** 		return SUCCESS;
 3304              	 .loc 1 1476 0
 3305 005e 0120     	 movs r0,#1
 3306              	.LVL455:
 3307 0060 10BD     	 pop {r4,pc}
 3308              	.LVL456:
 3309              	.L352:
1399:LPC17xxLib/src/lpc17xx_can.c **** 	{
 3310              	 .loc 1 1399 0
 3311 0062 C369     	 ldr r3,[r0,#28]
 3312 0064 5B05     	 lsls r3,r3,#21
 3313 0066 23D5     	 bpl .L358
1404:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->TFI2 |= (CAN_Msg->len)<<16;
 3314              	 .loc 1 1404 0
 3315 0068 036C     	 ldr r3,[r0,#64]
 3316 006a 23F47023 	 bic r3,r3,#983040
 3317 006e 0364     	 str r3,[r0,#64]
1405:LPC17xxLib/src/lpc17xx_can.c **** 		if(CAN_Msg->type == REMOTE_FRAME)
 3318              	 .loc 1 1405 0
 3319 0070 036C     	 ldr r3,[r0,#64]
 3320 0072 0C7B     	 ldrb r4,[r1,#12]
 3321 0074 43EA0443 	 orr r3,r3,r4,lsl#16
 3322 0078 0364     	 str r3,[r0,#64]
1406:LPC17xxLib/src/lpc17xx_can.c **** 		{
 3323              	 .loc 1 1406 0
 3324 007a 8B7B     	 ldrb r3,[r1,#14]
 3325 007c 012B     	 cmp r3,#1
1408:LPC17xxLib/src/lpc17xx_can.c **** 		}
 3326              	 .loc 1 1408 0
 3327 007e 036C     	 ldr r3,[r0,#64]
 3328 0080 0CBF     	 ite eq
 3329 0082 43F08043 	 orreq r3,r3,#1073741824
1412:LPC17xxLib/src/lpc17xx_can.c **** 		}
 3330              	 .loc 1 1412 0
 3331 0086 23F08043 	 bicne r3,r3,#1073741824
 3332 008a 0364     	 str r3,[r0,#64]
1416:LPC17xxLib/src/lpc17xx_can.c **** 		}
 3333              	 .loc 1 1416 0
 3334 008c 036C     	 ldr r3,[r0,#64]
1414:LPC17xxLib/src/lpc17xx_can.c **** 		{
 3335              	 .loc 1 1414 0
 3336 008e 012A     	 cmp r2,#1
1416:LPC17xxLib/src/lpc17xx_can.c **** 		}
 3337              	 .loc 1 1416 0
 3338 0090 0CBF     	 ite eq
 3339 0092 43F00043 	 orreq r3,r3,#-2147483648
1420:LPC17xxLib/src/lpc17xx_can.c **** 		}
 3340              	 .loc 1 1420 0
 3341 0096 23F00043 	 bicne r3,r3,#-2147483648
 3342 009a 0364     	 str r3,[r0,#64]
1424:LPC17xxLib/src/lpc17xx_can.c **** 
 3343              	 .loc 1 1424 0
 3344 009c 0B68     	 ldr r3,[r1]
1435:LPC17xxLib/src/lpc17xx_can.c **** 		return SUCCESS;
 3345              	 .loc 1 1435 0
 3346 009e 4122     	 movs r2,#65
1424:LPC17xxLib/src/lpc17xx_can.c **** 
 3347              	 .loc 1 1424 0
 3348 00a0 4364     	 str r3,[r0,#68]
 3349 00a2 4B68     	 ldr r3,[r1,#4]
 3350              	.LVL457:
1428:LPC17xxLib/src/lpc17xx_can.c **** 
 3351              	 .loc 1 1428 0
 3352 00a4 8364     	 str r3,[r0,#72]
 3353 00a6 8B68     	 ldr r3,[r1,#8]
 3354              	.LVL458:
1432:LPC17xxLib/src/lpc17xx_can.c **** 
 3355              	 .loc 1 1432 0
 3356 00a8 C364     	 str r3,[r0,#76]
1435:LPC17xxLib/src/lpc17xx_can.c **** 		return SUCCESS;
 3357              	 .loc 1 1435 0
 3358 00aa 0379     	 ldrb r3,[r0,#4]
 3359              	.LVL459:
 3360 00ac 0023     	 movs r3,#0
 3361 00ae CFE7     	 b .L374
 3362              	.L358:
1439:LPC17xxLib/src/lpc17xx_can.c **** 	{
 3363              	 .loc 1 1439 0
 3364 00b0 C369     	 ldr r3,[r0,#28]
 3365 00b2 13F48023 	 ands r3,r3,#262144
 3366 00b6 24D0     	 beq .L367
1444:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->TFI3 |= (CAN_Msg->len)<<16;
 3367              	 .loc 1 1444 0
 3368 00b8 036D     	 ldr r3,[r0,#80]
 3369 00ba 23F47023 	 bic r3,r3,#983040
 3370 00be 0365     	 str r3,[r0,#80]
1445:LPC17xxLib/src/lpc17xx_can.c **** 		if(CAN_Msg->type == REMOTE_FRAME)
 3371              	 .loc 1 1445 0
 3372 00c0 036D     	 ldr r3,[r0,#80]
 3373 00c2 0C7B     	 ldrb r4,[r1,#12]
 3374 00c4 43EA0443 	 orr r3,r3,r4,lsl#16
 3375 00c8 0365     	 str r3,[r0,#80]
1446:LPC17xxLib/src/lpc17xx_can.c **** 		{
 3376              	 .loc 1 1446 0
 3377 00ca 8B7B     	 ldrb r3,[r1,#14]
 3378 00cc 012B     	 cmp r3,#1
1448:LPC17xxLib/src/lpc17xx_can.c **** 		}
 3379              	 .loc 1 1448 0
 3380 00ce 036D     	 ldr r3,[r0,#80]
 3381 00d0 0CBF     	 ite eq
 3382 00d2 43F08043 	 orreq r3,r3,#1073741824
1452:LPC17xxLib/src/lpc17xx_can.c **** 		}
 3383              	 .loc 1 1452 0
 3384 00d6 23F08043 	 bicne r3,r3,#1073741824
 3385 00da 0365     	 str r3,[r0,#80]
1456:LPC17xxLib/src/lpc17xx_can.c **** 		}
 3386              	 .loc 1 1456 0
 3387 00dc 036D     	 ldr r3,[r0,#80]
1454:LPC17xxLib/src/lpc17xx_can.c **** 		{
 3388              	 .loc 1 1454 0
 3389 00de 012A     	 cmp r2,#1
1456:LPC17xxLib/src/lpc17xx_can.c **** 		}
 3390              	 .loc 1 1456 0
 3391 00e0 0CBF     	 ite eq
 3392 00e2 43F00043 	 orreq r3,r3,#-2147483648
1460:LPC17xxLib/src/lpc17xx_can.c **** 		}
 3393              	 .loc 1 1460 0
 3394 00e6 23F00043 	 bicne r3,r3,#-2147483648
 3395 00ea 0365     	 str r3,[r0,#80]
1464:LPC17xxLib/src/lpc17xx_can.c **** 
 3396              	 .loc 1 1464 0
 3397 00ec 0B68     	 ldr r3,[r1]
1475:LPC17xxLib/src/lpc17xx_can.c **** 		return SUCCESS;
 3398              	 .loc 1 1475 0
 3399 00ee 6FF07E02 	 mvn r2,#126
1464:LPC17xxLib/src/lpc17xx_can.c **** 
 3400              	 .loc 1 1464 0
 3401 00f2 4365     	 str r3,[r0,#84]
 3402 00f4 4B68     	 ldr r3,[r1,#4]
 3403              	.LVL460:
1468:LPC17xxLib/src/lpc17xx_can.c **** 
 3404              	 .loc 1 1468 0
 3405 00f6 8365     	 str r3,[r0,#88]
 3406 00f8 8B68     	 ldr r3,[r1,#8]
 3407              	.LVL461:
1472:LPC17xxLib/src/lpc17xx_can.c **** 
 3408              	 .loc 1 1472 0
 3409 00fa C365     	 str r3,[r0,#92]
1475:LPC17xxLib/src/lpc17xx_can.c **** 		return SUCCESS;
 3410              	 .loc 1 1475 0
 3411 00fc 0379     	 ldrb r3,[r0,#4]
 3412              	.LVL462:
 3413 00fe 0023     	 movs r3,#0
 3414 0100 A6E7     	 b .L374
 3415              	.L367:
1477:LPC17xxLib/src/lpc17xx_can.c **** 	}
1478:LPC17xxLib/src/lpc17xx_can.c **** 	else
1479:LPC17xxLib/src/lpc17xx_can.c **** 	{
1480:LPC17xxLib/src/lpc17xx_can.c **** 		return ERROR;
 3416              	 .loc 1 1480 0
 3417 0102 1846     	 mov r0,r3
 3418              	.LVL463:
1481:LPC17xxLib/src/lpc17xx_can.c **** 	}
1482:LPC17xxLib/src/lpc17xx_can.c **** }
 3419              	 .loc 1 1482 0
 3420 0104 10BD     	 pop {r4,pc}
 3421              	 .cfi_endproc
 3422              	.LFE63:
 3424              	 .section .text.CAN_ReceiveMsg,"ax",%progbits
 3425              	 .align 1
 3426              	 .global CAN_ReceiveMsg
 3427              	 .syntax unified
 3428              	 .thumb
 3429              	 .thumb_func
 3430              	 .fpu softvfp
 3432              	CAN_ReceiveMsg:
 3433              	.LFB64:
1483:LPC17xxLib/src/lpc17xx_can.c **** 
1484:LPC17xxLib/src/lpc17xx_can.c **** /********************************************************************//**
1485:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		Receive message data
1486:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CANx pointer to LPC_CAN_TypeDef, should be:
1487:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN1: CAN1 peripheral
1488:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN2: CAN2 peripheral
1489:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CAN_Msg point to the CAN_MSG_Type Struct, it will contain received
1490:LPC17xxLib/src/lpc17xx_can.c ****  *  			message information such as: ID, DLC, RTR, ID Format
1491:LPC17xxLib/src/lpc17xx_can.c ****  * @return 		Status:
1492:LPC17xxLib/src/lpc17xx_can.c ****  * 				- SUCCESS: receive message successfully
1493:LPC17xxLib/src/lpc17xx_can.c ****  * 				- ERROR: receive message unsuccessfully
1494:LPC17xxLib/src/lpc17xx_can.c ****  *********************************************************************/
1495:LPC17xxLib/src/lpc17xx_can.c **** Status CAN_ReceiveMsg (LPC_CAN_TypeDef *CANx, CAN_MSG_Type *CAN_Msg)
1496:LPC17xxLib/src/lpc17xx_can.c **** {
 3434              	 .loc 1 1496 0
 3435              	 .cfi_startproc
 3436              	 
 3437              	 
 3438              	.LVL464:
 3439 0000 10B5     	 push {r4,lr}
 3440              	 .cfi_def_cfa_offset 8
 3441              	 .cfi_offset 4,-8
 3442              	 .cfi_offset 14,-4
1497:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t data;
1498:LPC17xxLib/src/lpc17xx_can.c **** 
1499:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CANx(CANx));
1500:LPC17xxLib/src/lpc17xx_can.c **** 
1501:LPC17xxLib/src/lpc17xx_can.c **** 	//check status of Receive Buffer
1502:LPC17xxLib/src/lpc17xx_can.c **** 	if((CANx->SR &0x00000001))
 3443              	 .loc 1 1502 0
 3444 0002 C369     	 ldr r3,[r0,#28]
 3445 0004 13F00103 	 ands r3,r3,#1
 3446 0008 2BD0     	 beq .L378
1503:LPC17xxLib/src/lpc17xx_can.c **** 	{
1504:LPC17xxLib/src/lpc17xx_can.c **** 		/* Receive message is available */
1505:LPC17xxLib/src/lpc17xx_can.c **** 		/* Read frame informations */
1506:LPC17xxLib/src/lpc17xx_can.c **** 		CAN_Msg->format   = (uint8_t)(((CANx->RFS) & 0x80000000)>>31);
 3447              	 .loc 1 1506 0
 3448 000a 036A     	 ldr r3,[r0,#32]
 3449 000c DB0F     	 lsrs r3,r3,#31
 3450 000e 4B73     	 strb r3,[r1,#13]
1507:LPC17xxLib/src/lpc17xx_can.c **** 		CAN_Msg->type     = (uint8_t)(((CANx->RFS) & 0x40000000)>>30);
 3451              	 .loc 1 1507 0
 3452 0010 036A     	 ldr r3,[r0,#32]
 3453 0012 C3F38073 	 ubfx r3,r3,#30,#1
 3454 0016 8B73     	 strb r3,[r1,#14]
1508:LPC17xxLib/src/lpc17xx_can.c **** 		CAN_Msg->len      = (uint8_t)(((CANx->RFS) & 0x000F0000)>>16);
 3455              	 .loc 1 1508 0
 3456 0018 026A     	 ldr r2,[r0,#32]
 3457 001a C2F30342 	 ubfx r2,r2,#16,#4
 3458 001e 0A73     	 strb r2,[r1,#12]
1509:LPC17xxLib/src/lpc17xx_can.c **** 
1510:LPC17xxLib/src/lpc17xx_can.c **** 
1511:LPC17xxLib/src/lpc17xx_can.c **** 		/* Read CAN message identifier */
1512:LPC17xxLib/src/lpc17xx_can.c **** 		CAN_Msg->id = CANx->RID;
 3459              	 .loc 1 1512 0
 3460 0020 426A     	 ldr r2,[r0,#36]
 3461 0022 0A60     	 str r2,[r1]
1513:LPC17xxLib/src/lpc17xx_can.c **** 
1514:LPC17xxLib/src/lpc17xx_can.c **** 		/* Read the data if received message was DATA FRAME */
1515:LPC17xxLib/src/lpc17xx_can.c **** 		if (CAN_Msg->type == DATA_FRAME)
 3462              	 .loc 1 1515 0
 3463 0024 D3B9     	 cbnz r3,.L377
1516:LPC17xxLib/src/lpc17xx_can.c **** 		{
1517:LPC17xxLib/src/lpc17xx_can.c **** 			/* Read first 4 data bytes */
1518:LPC17xxLib/src/lpc17xx_can.c **** 			data = CANx->RDA;
 3464              	 .loc 1 1518 0
 3465 0026 826A     	 ldr r2,[r0,#40]
 3466              	.LVL465:
1519:LPC17xxLib/src/lpc17xx_can.c **** 			*((uint8_t *) &CAN_Msg->dataA[0])= data & 0x000000FF;
1520:LPC17xxLib/src/lpc17xx_can.c **** 			*((uint8_t *) &CAN_Msg->dataA[1])= (data & 0x0000FF00)>>8;;
 3467              	 .loc 1 1520 0
 3468 0028 140A     	 lsrs r4,r2,#8
1519:LPC17xxLib/src/lpc17xx_can.c **** 			*((uint8_t *) &CAN_Msg->dataA[0])= data & 0x000000FF;
 3469              	 .loc 1 1519 0
 3470 002a 0A71     	 strb r2,[r1,#4]
 3471              	 .loc 1 1520 0
 3472 002c 4C71     	 strb r4,[r1,#5]
1521:LPC17xxLib/src/lpc17xx_can.c **** 			*((uint8_t *) &CAN_Msg->dataA[2])= (data & 0x00FF0000)>>16;
 3473              	 .loc 1 1521 0
 3474 002e 140C     	 lsrs r4,r2,#16
1522:LPC17xxLib/src/lpc17xx_can.c **** 			*((uint8_t *) &CAN_Msg->dataA[3])= (data & 0xFF000000)>>24;
 3475              	 .loc 1 1522 0
 3476 0030 120E     	 lsrs r2,r2,#24
 3477              	.LVL466:
1521:LPC17xxLib/src/lpc17xx_can.c **** 			*((uint8_t *) &CAN_Msg->dataA[2])= (data & 0x00FF0000)>>16;
 3478              	 .loc 1 1521 0
 3479 0032 8C71     	 strb r4,[r1,#6]
 3480              	 .loc 1 1522 0
 3481 0034 CA71     	 strb r2,[r1,#7]
1523:LPC17xxLib/src/lpc17xx_can.c **** 
1524:LPC17xxLib/src/lpc17xx_can.c **** 			/* Read second 4 data bytes */
1525:LPC17xxLib/src/lpc17xx_can.c **** 			data = CANx->RDB;
 3482              	 .loc 1 1525 0
 3483 0036 C26A     	 ldr r2,[r0,#44]
 3484              	.LVL467:
1526:LPC17xxLib/src/lpc17xx_can.c **** 			*((uint8_t *) &CAN_Msg->dataB[0])= data & 0x000000FF;
1527:LPC17xxLib/src/lpc17xx_can.c **** 			*((uint8_t *) &CAN_Msg->dataB[1])= (data & 0x0000FF00)>>8;
 3485              	 .loc 1 1527 0
 3486 0038 140A     	 lsrs r4,r2,#8
1526:LPC17xxLib/src/lpc17xx_can.c **** 			*((uint8_t *) &CAN_Msg->dataB[0])= data & 0x000000FF;
 3487              	 .loc 1 1526 0
 3488 003a 0A72     	 strb r2,[r1,#8]
 3489              	 .loc 1 1527 0
 3490 003c 4C72     	 strb r4,[r1,#9]
1528:LPC17xxLib/src/lpc17xx_can.c **** 			*((uint8_t *) &CAN_Msg->dataB[2])= (data & 0x00FF0000)>>16;
 3491              	 .loc 1 1528 0
 3492 003e 140C     	 lsrs r4,r2,#16
1529:LPC17xxLib/src/lpc17xx_can.c **** 			*((uint8_t *) &CAN_Msg->dataB[3])= (data & 0xFF000000)>>24;
 3493              	 .loc 1 1529 0
 3494 0040 120E     	 lsrs r2,r2,#24
 3495              	.LVL468:
1528:LPC17xxLib/src/lpc17xx_can.c **** 			*((uint8_t *) &CAN_Msg->dataB[2])= (data & 0x00FF0000)>>16;
 3496              	 .loc 1 1528 0
 3497 0042 8C72     	 strb r4,[r1,#10]
 3498              	 .loc 1 1529 0
 3499 0044 CA72     	 strb r2,[r1,#11]
1530:LPC17xxLib/src/lpc17xx_can.c **** 
1531:LPC17xxLib/src/lpc17xx_can.c **** 		/*release receive buffer*/
1532:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->CMR = 0x04;
 3500              	 .loc 1 1532 0
 3501 0046 0279     	 ldrb r2,[r0,#4]
 3502              	.L379:
1533:LPC17xxLib/src/lpc17xx_can.c **** 		}
1534:LPC17xxLib/src/lpc17xx_can.c **** 		else
1535:LPC17xxLib/src/lpc17xx_can.c **** 		{
1536:LPC17xxLib/src/lpc17xx_can.c **** 			/* Received Frame is a Remote Frame, not have data, we just receive
1537:LPC17xxLib/src/lpc17xx_can.c **** 			 * message information only */
1538:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->CMR = 0x04; /*release receive buffer*/
 3503              	 .loc 1 1538 0
 3504 0048 0422     	 movs r2,#4
 3505 004a 0271     	 strb r2,[r0,#4]
 3506 004c 4279     	 ldrb r2,[r0,#5]
 3507 004e 4371     	 strb r3,[r0,#5]
 3508 0050 8279     	 ldrb r2,[r0,#6]
 3509 0052 8371     	 strb r3,[r0,#6]
 3510 0054 C279     	 ldrb r2,[r0,#7]
 3511 0056 C371     	 strb r3,[r0,#7]
1539:LPC17xxLib/src/lpc17xx_can.c **** 			return SUCCESS;
 3512              	 .loc 1 1539 0
 3513 0058 0120     	 movs r0,#1
 3514              	.LVL469:
 3515 005a 10BD     	 pop {r4,pc}
 3516              	.LVL470:
 3517              	.L377:
1538:LPC17xxLib/src/lpc17xx_can.c **** 			return SUCCESS;
 3518              	 .loc 1 1538 0
 3519 005c 0379     	 ldrb r3,[r0,#4]
 3520 005e 0023     	 movs r3,#0
 3521 0060 F2E7     	 b .L379
 3522              	.L378:
1540:LPC17xxLib/src/lpc17xx_can.c **** 		}
1541:LPC17xxLib/src/lpc17xx_can.c **** 	}
1542:LPC17xxLib/src/lpc17xx_can.c **** 	else
1543:LPC17xxLib/src/lpc17xx_can.c **** 	{
1544:LPC17xxLib/src/lpc17xx_can.c **** 		// no receive message available
1545:LPC17xxLib/src/lpc17xx_can.c **** 		return ERROR;
 3523              	 .loc 1 1545 0
 3524 0062 1846     	 mov r0,r3
 3525              	.LVL471:
1546:LPC17xxLib/src/lpc17xx_can.c **** 	}
1547:LPC17xxLib/src/lpc17xx_can.c **** 	return SUCCESS;
1548:LPC17xxLib/src/lpc17xx_can.c **** }
 3526              	 .loc 1 1548 0
 3527 0064 10BD     	 pop {r4,pc}
 3528              	 .cfi_endproc
 3529              	.LFE64:
 3531              	 .section .text.FCAN_ReadObj,"ax",%progbits
 3532              	 .align 1
 3533              	 .global FCAN_ReadObj
 3534              	 .syntax unified
 3535              	 .thumb
 3536              	 .thumb_func
 3537              	 .fpu softvfp
 3539              	FCAN_ReadObj:
 3540              	.LFB65:
1549:LPC17xxLib/src/lpc17xx_can.c **** 
1550:LPC17xxLib/src/lpc17xx_can.c **** /********************************************************************//**
1551:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		Receive FullCAN Object
1552:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CANAFx: CAN Acceptance Filter register, should be: LPC_CANAF
1553:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CAN_Msg point to the CAN_MSG_Type Struct, it will contain received
1554:LPC17xxLib/src/lpc17xx_can.c ****  *  			message information such as: ID, DLC, RTR, ID Format
1555:LPC17xxLib/src/lpc17xx_can.c ****  * @return 		CAN_ERROR, could be:
1556:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_FULL_OBJ_NOT_RCV: FullCAN Object is not be received
1557:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_OK: Received FullCAN Object successful
1558:LPC17xxLib/src/lpc17xx_can.c ****  *
1559:LPC17xxLib/src/lpc17xx_can.c ****  *********************************************************************/
1560:LPC17xxLib/src/lpc17xx_can.c **** CAN_ERROR FCAN_ReadObj (LPC_CANAF_TypeDef* CANAFx, CAN_MSG_Type *CAN_Msg)
1561:LPC17xxLib/src/lpc17xx_can.c **** {
 3541              	 .loc 1 1561 0
 3542              	 .cfi_startproc
 3543              	 
 3544              	 
 3545              	.LVL472:
 3546 0000 2DE9F041 	 push {r4,r5,r6,r7,r8,lr}
 3547              	 .cfi_def_cfa_offset 24
 3548              	 .cfi_offset 4,-24
 3549              	 .cfi_offset 5,-20
 3550              	 .cfi_offset 6,-16
 3551              	 .cfi_offset 7,-12
 3552              	 .cfi_offset 8,-8
 3553              	 .cfi_offset 14,-4
1562:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t *pSrc, data;
1563:LPC17xxLib/src/lpc17xx_can.c **** 	uint32_t interrut_word, msg_idx, test_bit, head_idx, tail_idx;
1564:LPC17xxLib/src/lpc17xx_can.c **** 
1565:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CANAFx(CANAFx));
1566:LPC17xxLib/src/lpc17xx_can.c **** 
1567:LPC17xxLib/src/lpc17xx_can.c **** 	interrut_word = 0;
1568:LPC17xxLib/src/lpc17xx_can.c **** 
1569:LPC17xxLib/src/lpc17xx_can.c **** 	if (LPC_CANAF->FCANIC0 != 0)
 3554              	 .loc 1 1569 0
 3555 0004 2E4B     	 ldr r3,.L394
 3556 0006 5A6A     	 ldr r2,[r3,#36]
 3557 0008 8AB1     	 cbz r2,.L381
1570:LPC17xxLib/src/lpc17xx_can.c **** 	{
1571:LPC17xxLib/src/lpc17xx_can.c **** 		interrut_word = LPC_CANAF->FCANIC0;
1572:LPC17xxLib/src/lpc17xx_can.c **** 		head_idx = 0;
1573:LPC17xxLib/src/lpc17xx_can.c **** 		tail_idx = 31;
 3558              	 .loc 1 1573 0
 3559 000a 1F26     	 movs r6,#31
1572:LPC17xxLib/src/lpc17xx_can.c **** 		tail_idx = 31;
 3560              	 .loc 1 1572 0
 3561 000c 0024     	 movs r4,#0
1571:LPC17xxLib/src/lpc17xx_can.c **** 		head_idx = 0;
 3562              	 .loc 1 1571 0
 3563 000e 5D6A     	 ldr r5,[r3,#36]
 3564              	.LVL473:
 3565              	.L382:
1574:LPC17xxLib/src/lpc17xx_can.c **** 	}
1575:LPC17xxLib/src/lpc17xx_can.c **** 	else if (LPC_CANAF->FCANIC1 != 0)
1576:LPC17xxLib/src/lpc17xx_can.c **** 	{
1577:LPC17xxLib/src/lpc17xx_can.c **** 		interrut_word = LPC_CANAF->FCANIC1;
1578:LPC17xxLib/src/lpc17xx_can.c **** 		head_idx = 32;
1579:LPC17xxLib/src/lpc17xx_can.c **** 		tail_idx = 63;
1580:LPC17xxLib/src/lpc17xx_can.c **** 	}
1581:LPC17xxLib/src/lpc17xx_can.c **** 
1582:LPC17xxLib/src/lpc17xx_can.c **** 	if (interrut_word != 0)
 3566              	 .loc 1 1582 0
 3567 0010 7DB1     	 cbz r5,.L385
 3568 0012 0C23     	 movs r3,#12
1583:LPC17xxLib/src/lpc17xx_can.c **** 	{
1584:LPC17xxLib/src/lpc17xx_can.c **** 		/* Detect for interrupt pending */
1585:LPC17xxLib/src/lpc17xx_can.c **** 		msg_idx = 0;
1586:LPC17xxLib/src/lpc17xx_can.c **** 		for (msg_idx = head_idx; msg_idx <= tail_idx; msg_idx++)
1587:LPC17xxLib/src/lpc17xx_can.c **** 		{
1588:LPC17xxLib/src/lpc17xx_can.c **** 			test_bit = interrut_word & 0x1;
1589:LPC17xxLib/src/lpc17xx_can.c **** 			interrut_word = interrut_word >> 1;
1590:LPC17xxLib/src/lpc17xx_can.c **** 
1591:LPC17xxLib/src/lpc17xx_can.c **** 			if (test_bit)
1592:LPC17xxLib/src/lpc17xx_can.c **** 			{
1593:LPC17xxLib/src/lpc17xx_can.c **** 				pSrc = (uint32_t *) (LPC_CANAF->ENDofTable + LPC_CANAF_RAM_BASE + msg_idx * 12);
1594:LPC17xxLib/src/lpc17xx_can.c **** 
1595:LPC17xxLib/src/lpc17xx_can.c **** 	    	 	/* Has been finished updating the content */
1596:LPC17xxLib/src/lpc17xx_can.c **** 	    	 	if ((*pSrc & 0x03000000L) == 0x03000000L)
1597:LPC17xxLib/src/lpc17xx_can.c **** 	    	 	{
1598:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		/*clear semaphore*/
1599:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		*pSrc &= 0xFCFFFFFF;
1600:LPC17xxLib/src/lpc17xx_can.c **** 
1601:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		/*Set to DatA*/
1602:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		pSrc++;
1603:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		/* Copy to dest buf */
1604:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		data = *pSrc;
1605:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataA[0])= data & 0x000000FF;
1606:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataA[1])= (data & 0x0000FF00)>>8;
1607:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataA[2])= (data & 0x00FF0000)>>16;
1608:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataA[3])= (data & 0xFF000000)>>24;
1609:LPC17xxLib/src/lpc17xx_can.c **** 
1610:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		/*Set to DatB*/
1611:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		pSrc++;
1612:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		/* Copy to dest buf */
1613:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		data = *pSrc;
1614:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataB[0])= data & 0x000000FF;
1615:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataB[1])= (data & 0x0000FF00)>>8;
1616:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataB[2])= (data & 0x00FF0000)>>16;
1617:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataB[3])= (data & 0xFF000000)>>24;
1618:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		/*Back to Dat1*/
1619:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		pSrc -= 2;
1620:LPC17xxLib/src/lpc17xx_can.c **** 
1621:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		CAN_Msg->id = *pSrc & 0x7FF;
1622:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		CAN_Msg->len = (uint8_t) (*pSrc >> 16) & 0x0F;
1623:LPC17xxLib/src/lpc17xx_can.c **** 					CAN_Msg->format = 0; //FullCAN Object ID always is 11-bit value
 3569              	 .loc 1 1623 0
 3570 0014 4FF0000E 	 mov lr,#0
 3571 0018 6343     	 muls r3,r4,r3
1593:LPC17xxLib/src/lpc17xx_can.c **** 
 3572              	 .loc 1 1593 0
 3573 001a 294F     	 ldr r7,.L394
 3574              	.LVL474:
 3575              	.L386:
1586:LPC17xxLib/src/lpc17xx_can.c **** 		{
 3576              	 .loc 1 1586 0 discriminator 1
 3577 001c B442     	 cmp r4,r6
 3578 001e 08D8     	 bhi .L385
1588:LPC17xxLib/src/lpc17xx_can.c **** 			interrut_word = interrut_word >> 1;
 3579              	 .loc 1 1588 0
 3580 0020 05F00102 	 and r2,r5,#1
 3581              	.LVL475:
1589:LPC17xxLib/src/lpc17xx_can.c **** 
 3582              	 .loc 1 1589 0
 3583 0024 6D08     	 lsrs r5,r5,#1
 3584              	.LVL476:
1591:LPC17xxLib/src/lpc17xx_can.c **** 			{
 3585              	 .loc 1 1591 0
 3586 0026 5AB9     	 cbnz r2,.L387
 3587              	.LVL477:
 3588              	.L388:
1586:LPC17xxLib/src/lpc17xx_can.c **** 		{
 3589              	 .loc 1 1586 0
 3590 0028 0134     	 adds r4,r4,#1
 3591              	.LVL478:
 3592 002a 0C33     	 adds r3,r3,#12
 3593 002c F6E7     	 b .L386
 3594              	.LVL479:
 3595              	.L381:
1575:LPC17xxLib/src/lpc17xx_can.c **** 	{
 3596              	 .loc 1 1575 0
 3597 002e 9A6A     	 ldr r2,[r3,#40]
 3598 0030 12B9     	 cbnz r2,.L383
 3599              	.LVL480:
 3600              	.L385:
1624:LPC17xxLib/src/lpc17xx_can.c **** 					CAN_Msg->type = (uint8_t)(*pSrc >> 30) &0x01;
1625:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		/*Re-read semaphore*/
1626:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		if ((*pSrc & 0x03000000L) == 0)
1627:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		{
1628:LPC17xxLib/src/lpc17xx_can.c **** 	    	 			return CAN_OK;
1629:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		}
1630:LPC17xxLib/src/lpc17xx_can.c **** 	    	 	}
1631:LPC17xxLib/src/lpc17xx_can.c **** 			}
1632:LPC17xxLib/src/lpc17xx_can.c **** 		}
1633:LPC17xxLib/src/lpc17xx_can.c **** 	}
1634:LPC17xxLib/src/lpc17xx_can.c **** 	return CAN_FULL_OBJ_NOT_RCV;
 3601              	 .loc 1 1634 0
 3602 0032 0320     	 movs r0,#3
 3603 0034 BDE8F081 	 pop {r4,r5,r6,r7,r8,pc}
 3604              	.LVL481:
 3605              	.L383:
1577:LPC17xxLib/src/lpc17xx_can.c **** 		head_idx = 32;
 3606              	 .loc 1 1577 0
 3607 0038 9D6A     	 ldr r5,[r3,#40]
 3608              	.LVL482:
1579:LPC17xxLib/src/lpc17xx_can.c **** 	}
 3609              	 .loc 1 1579 0
 3610 003a 3F26     	 movs r6,#63
1578:LPC17xxLib/src/lpc17xx_can.c **** 		tail_idx = 63;
 3611              	 .loc 1 1578 0
 3612 003c 2024     	 movs r4,#32
 3613 003e E7E7     	 b .L382
 3614              	.LVL483:
 3615              	.L387:
1593:LPC17xxLib/src/lpc17xx_can.c **** 
 3616              	 .loc 1 1593 0
 3617 0040 7A69     	 ldr r2,[r7,#20]
 3618              	.LVL484:
 3619 0042 02F18042 	 add r2,r2,#1073741824
 3620 0046 02F56032 	 add r2,r2,#229376
1596:LPC17xxLib/src/lpc17xx_can.c **** 	    	 	{
 3621              	 .loc 1 1596 0
 3622 004a D058     	 ldr r0,[r2,r3]
1593:LPC17xxLib/src/lpc17xx_can.c **** 
 3623              	 .loc 1 1593 0
 3624 004c 02EB030C 	 add ip,r2,r3
 3625              	.LVL485:
1596:LPC17xxLib/src/lpc17xx_can.c **** 	    	 	{
 3626              	 .loc 1 1596 0
 3627 0050 00F04078 	 and r8,r0,#50331648
 3628 0054 B8F1407F 	 cmp r8,#50331648
 3629 0058 E6D1     	 bne .L388
1599:LPC17xxLib/src/lpc17xx_can.c **** 
 3630              	 .loc 1 1599 0
 3631 005a 20F04070 	 bic r0,r0,#50331648
 3632 005e D050     	 str r0,[r2,r3]
 3633              	.LVL486:
1604:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataA[0])= data & 0x000000FF;
 3634              	 .loc 1 1604 0
 3635 0060 DCF80400 	 ldr r0,[ip,#4]
 3636              	.LVL487:
1606:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataA[2])= (data & 0x00FF0000)>>16;
 3637              	 .loc 1 1606 0
 3638 0064 4FEA1028 	 lsr r8,r0,#8
1605:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataA[1])= (data & 0x0000FF00)>>8;
 3639              	 .loc 1 1605 0
 3640 0068 0871     	 strb r0,[r1,#4]
1606:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataA[2])= (data & 0x00FF0000)>>16;
 3641              	 .loc 1 1606 0
 3642 006a 81F80580 	 strb r8,[r1,#5]
1607:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataA[3])= (data & 0xFF000000)>>24;
 3643              	 .loc 1 1607 0
 3644 006e 4FEA1048 	 lsr r8,r0,#16
1608:LPC17xxLib/src/lpc17xx_can.c **** 
 3645              	 .loc 1 1608 0
 3646 0072 000E     	 lsrs r0,r0,#24
 3647              	.LVL488:
1607:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataA[3])= (data & 0xFF000000)>>24;
 3648              	 .loc 1 1607 0
 3649 0074 81F80680 	 strb r8,[r1,#6]
1608:LPC17xxLib/src/lpc17xx_can.c **** 
 3650              	 .loc 1 1608 0
 3651 0078 C871     	 strb r0,[r1,#7]
 3652              	.LVL489:
1613:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataB[0])= data & 0x000000FF;
 3653              	 .loc 1 1613 0
 3654 007a DCF80800 	 ldr r0,[ip,#8]
 3655              	.LVL490:
1615:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataB[2])= (data & 0x00FF0000)>>16;
 3656              	 .loc 1 1615 0
 3657 007e 4FEA102C 	 lsr ip,r0,#8
 3658              	.LVL491:
1614:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataB[1])= (data & 0x0000FF00)>>8;
 3659              	 .loc 1 1614 0
 3660 0082 0872     	 strb r0,[r1,#8]
1615:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataB[2])= (data & 0x00FF0000)>>16;
 3661              	 .loc 1 1615 0
 3662 0084 81F809C0 	 strb ip,[r1,#9]
1616:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataB[3])= (data & 0xFF000000)>>24;
 3663              	 .loc 1 1616 0
 3664 0088 4FEA104C 	 lsr ip,r0,#16
1617:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		/*Back to Dat1*/
 3665              	 .loc 1 1617 0
 3666 008c 000E     	 lsrs r0,r0,#24
 3667              	.LVL492:
1616:LPC17xxLib/src/lpc17xx_can.c **** 	    			*((uint8_t *) &CAN_Msg->dataB[3])= (data & 0xFF000000)>>24;
 3668              	 .loc 1 1616 0
 3669 008e 81F80AC0 	 strb ip,[r1,#10]
1617:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		/*Back to Dat1*/
 3670              	 .loc 1 1617 0
 3671 0092 C872     	 strb r0,[r1,#11]
 3672              	.LVL493:
1621:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		CAN_Msg->len = (uint8_t) (*pSrc >> 16) & 0x0F;
 3673              	 .loc 1 1621 0
 3674 0094 D058     	 ldr r0,[r2,r3]
 3675 0096 C0F30A00 	 ubfx r0,r0,#0,#11
 3676 009a 0860     	 str r0,[r1]
1622:LPC17xxLib/src/lpc17xx_can.c **** 					CAN_Msg->format = 0; //FullCAN Object ID always is 11-bit value
 3677              	 .loc 1 1622 0
 3678 009c D058     	 ldr r0,[r2,r3]
1623:LPC17xxLib/src/lpc17xx_can.c **** 					CAN_Msg->type = (uint8_t)(*pSrc >> 30) &0x01;
 3679              	 .loc 1 1623 0
 3680 009e 81F80DE0 	 strb lr,[r1,#13]
1622:LPC17xxLib/src/lpc17xx_can.c **** 					CAN_Msg->format = 0; //FullCAN Object ID always is 11-bit value
 3681              	 .loc 1 1622 0
 3682 00a2 C0F30340 	 ubfx r0,r0,#16,#4
 3683 00a6 0873     	 strb r0,[r1,#12]
1624:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		/*Re-read semaphore*/
 3684              	 .loc 1 1624 0
 3685 00a8 D058     	 ldr r0,[r2,r3]
 3686 00aa C0F38070 	 ubfx r0,r0,#30,#1
 3687 00ae 8873     	 strb r0,[r1,#14]
1626:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		{
 3688              	 .loc 1 1626 0
 3689 00b0 D258     	 ldr r2,[r2,r3]
 3690              	.LVL494:
 3691 00b2 12F0407F 	 tst r2,#50331648
 3692 00b6 B7D1     	 bne .L388
1628:LPC17xxLib/src/lpc17xx_can.c **** 	    	 		}
 3693              	 .loc 1 1628 0
 3694 00b8 0120     	 movs r0,#1
1635:LPC17xxLib/src/lpc17xx_can.c **** }
 3695              	 .loc 1 1635 0
 3696 00ba BDE8F081 	 pop {r4,r5,r6,r7,r8,pc}
 3697              	.LVL495:
 3698              	.L395:
 3699 00be 00BF     	 .align 2
 3700              	.L394:
 3701 00c0 00C00340 	 .word 1073987584
 3702              	 .cfi_endproc
 3703              	.LFE65:
 3705              	 .section .text.CAN_GetCTRLStatus,"ax",%progbits
 3706              	 .align 1
 3707              	 .global CAN_GetCTRLStatus
 3708              	 .syntax unified
 3709              	 .thumb
 3710              	 .thumb_func
 3711              	 .fpu softvfp
 3713              	CAN_GetCTRLStatus:
 3714              	.LFB66:
1636:LPC17xxLib/src/lpc17xx_can.c **** /********************************************************************//**
1637:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		Get CAN Control Status
1638:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CANx pointer to LPC_CAN_TypeDef, should be:
1639:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN1: CAN1 peripheral
1640:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN2: CAN2 peripheral
1641:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	arg: type of CAN status to get from CAN status register
1642:LPC17xxLib/src/lpc17xx_can.c ****  * 				Should be:
1643:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANCTRL_GLOBAL_STS: CAN Global Status
1644:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANCTRL_INT_CAP: CAN Interrupt and Capture
1645:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANCTRL_ERR_WRN: CAN Error Warning Limit
1646:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANCTRL_STS: CAN Control Status
1647:LPC17xxLib/src/lpc17xx_can.c ****  * @return 		Current Control Status that you want to get value
1648:LPC17xxLib/src/lpc17xx_can.c ****  *********************************************************************/
1649:LPC17xxLib/src/lpc17xx_can.c **** uint32_t CAN_GetCTRLStatus (LPC_CAN_TypeDef* CANx, CAN_CTRL_STS_Type arg)
1650:LPC17xxLib/src/lpc17xx_can.c **** {
 3715              	 .loc 1 1650 0
 3716              	 .cfi_startproc
 3717              	 
 3718              	 
 3719              	 
 3720              	.LVL496:
1651:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CANx(CANx));
1652:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CTRL_STS_TYPE(arg));
1653:LPC17xxLib/src/lpc17xx_can.c **** 
1654:LPC17xxLib/src/lpc17xx_can.c **** 	switch (arg)
 3721              	 .loc 1 1654 0
 3722 0000 0129     	 cmp r1,#1
 3723 0002 06D0     	 beq .L398
 3724 0004 03D3     	 bcc .L399
 3725 0006 0229     	 cmp r1,#2
 3726 0008 05D0     	 beq .L400
1655:LPC17xxLib/src/lpc17xx_can.c **** 	{
1656:LPC17xxLib/src/lpc17xx_can.c **** 	case CANCTRL_GLOBAL_STS:
1657:LPC17xxLib/src/lpc17xx_can.c **** 		return CANx->GSR;
1658:LPC17xxLib/src/lpc17xx_can.c **** 
1659:LPC17xxLib/src/lpc17xx_can.c **** 	case CANCTRL_INT_CAP:
1660:LPC17xxLib/src/lpc17xx_can.c **** 		return CANx->ICR;
1661:LPC17xxLib/src/lpc17xx_can.c **** 
1662:LPC17xxLib/src/lpc17xx_can.c **** 	case CANCTRL_ERR_WRN:
1663:LPC17xxLib/src/lpc17xx_can.c **** 		return CANx->EWL;
1664:LPC17xxLib/src/lpc17xx_can.c **** 
1665:LPC17xxLib/src/lpc17xx_can.c **** 	default: // CANCTRL_STS
1666:LPC17xxLib/src/lpc17xx_can.c **** 		return CANx->SR;
 3727              	 .loc 1 1666 0
 3728 000a C069     	 ldr r0,[r0,#28]
 3729              	.LVL497:
1667:LPC17xxLib/src/lpc17xx_can.c **** 	}
1668:LPC17xxLib/src/lpc17xx_can.c **** }
 3730              	 .loc 1 1668 0
 3731 000c 7047     	 bx lr
 3732              	.LVL498:
 3733              	.L399:
1657:LPC17xxLib/src/lpc17xx_can.c **** 
 3734              	 .loc 1 1657 0
 3735 000e 8068     	 ldr r0,[r0,#8]
 3736              	.LVL499:
 3737 0010 7047     	 bx lr
 3738              	.LVL500:
 3739              	.L398:
1660:LPC17xxLib/src/lpc17xx_can.c **** 
 3740              	 .loc 1 1660 0
 3741 0012 C068     	 ldr r0,[r0,#12]
 3742              	.LVL501:
 3743 0014 7047     	 bx lr
 3744              	.LVL502:
 3745              	.L400:
1663:LPC17xxLib/src/lpc17xx_can.c **** 
 3746              	 .loc 1 1663 0
 3747 0016 8069     	 ldr r0,[r0,#24]
 3748              	.LVL503:
 3749 0018 7047     	 bx lr
 3750              	 .cfi_endproc
 3751              	.LFE66:
 3753              	 .section .text.CAN_GetCRStatus,"ax",%progbits
 3754              	 .align 1
 3755              	 .global CAN_GetCRStatus
 3756              	 .syntax unified
 3757              	 .thumb
 3758              	 .thumb_func
 3759              	 .fpu softvfp
 3761              	CAN_GetCRStatus:
 3762              	.LFB67:
1669:LPC17xxLib/src/lpc17xx_can.c **** /********************************************************************//**
1670:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		Get CAN Central Status
1671:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CANCRx point to LPC_CANCR_TypeDef, should be: LPC_CANCR
1672:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	arg: type of CAN status to get from CAN Central status register
1673:LPC17xxLib/src/lpc17xx_can.c ****  * 				Should be:
1674:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANCR_TX_STS: Central CAN Tx Status
1675:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANCR_RX_STS: Central CAN Rx Status
1676:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANCR_MS: Central CAN Miscellaneous Status
1677:LPC17xxLib/src/lpc17xx_can.c ****  * @return 		Current Central Status that you want to get value
1678:LPC17xxLib/src/lpc17xx_can.c ****  *********************************************************************/
1679:LPC17xxLib/src/lpc17xx_can.c **** uint32_t CAN_GetCRStatus (LPC_CANCR_TypeDef* CANCRx, CAN_CR_STS_Type arg)
1680:LPC17xxLib/src/lpc17xx_can.c **** {
 3763              	 .loc 1 1680 0
 3764              	 .cfi_startproc
 3765              	 
 3766              	 
 3767              	 
 3768              	.LVL504:
1681:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CANCRx(CANCRx));
1682:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CR_STS_TYPE(arg));
1683:LPC17xxLib/src/lpc17xx_can.c **** 
1684:LPC17xxLib/src/lpc17xx_can.c **** 	switch (arg)
 3769              	 .loc 1 1684 0
 3770 0000 19B1     	 cbz r1,.L405
 3771 0002 0129     	 cmp r1,#1
 3772 0004 03D0     	 beq .L406
1685:LPC17xxLib/src/lpc17xx_can.c **** 	{
1686:LPC17xxLib/src/lpc17xx_can.c **** 	case CANCR_TX_STS:
1687:LPC17xxLib/src/lpc17xx_can.c **** 		return CANCRx->CANTxSR;
1688:LPC17xxLib/src/lpc17xx_can.c **** 
1689:LPC17xxLib/src/lpc17xx_can.c **** 	case CANCR_RX_STS:
1690:LPC17xxLib/src/lpc17xx_can.c **** 		return CANCRx->CANRxSR;
1691:LPC17xxLib/src/lpc17xx_can.c **** 
1692:LPC17xxLib/src/lpc17xx_can.c **** 	default:	// CANCR_MS
1693:LPC17xxLib/src/lpc17xx_can.c **** 		return CANCRx->CANMSR;
 3773              	 .loc 1 1693 0
 3774 0006 8068     	 ldr r0,[r0,#8]
 3775              	.LVL505:
1694:LPC17xxLib/src/lpc17xx_can.c **** 	}
1695:LPC17xxLib/src/lpc17xx_can.c **** }
 3776              	 .loc 1 1695 0
 3777 0008 7047     	 bx lr
 3778              	.LVL506:
 3779              	.L405:
1687:LPC17xxLib/src/lpc17xx_can.c **** 
 3780              	 .loc 1 1687 0
 3781 000a 0068     	 ldr r0,[r0]
 3782              	.LVL507:
 3783 000c 7047     	 bx lr
 3784              	.LVL508:
 3785              	.L406:
1690:LPC17xxLib/src/lpc17xx_can.c **** 
 3786              	 .loc 1 1690 0
 3787 000e 4068     	 ldr r0,[r0,#4]
 3788              	.LVL509:
 3789 0010 7047     	 bx lr
 3790              	 .cfi_endproc
 3791              	.LFE67:
 3793              	 .section .text.CAN_IRQCmd,"ax",%progbits
 3794              	 .align 1
 3795              	 .global CAN_IRQCmd
 3796              	 .syntax unified
 3797              	 .thumb
 3798              	 .thumb_func
 3799              	 .fpu softvfp
 3801              	CAN_IRQCmd:
 3802              	.LFB68:
1696:LPC17xxLib/src/lpc17xx_can.c **** /********************************************************************//**
1697:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		Enable/Disable CAN Interrupt
1698:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CANx pointer to LPC_CAN_TypeDef, should be:
1699:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN1: CAN1 peripheral
1700:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN2: CAN2 peripheral
1701:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	arg: type of CAN interrupt that you want to enable/disable
1702:LPC17xxLib/src/lpc17xx_can.c ****  * 				Should be:
1703:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANINT_RIE: CAN Receiver Interrupt Enable
1704:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANINT_TIE1: CAN Transmit Interrupt Enable
1705:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANINT_EIE: CAN Error Warning Interrupt Enable
1706:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANINT_DOIE: CAN Data Overrun Interrupt Enable
1707:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANINT_WUIE: CAN Wake-Up Interrupt Enable
1708:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANINT_EPIE: CAN Error Passive Interrupt Enable
1709:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANINT_ALIE: CAN Arbitration Lost Interrupt Enable
1710:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANINT_BEIE: CAN Bus Error Interrupt Enable
1711:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANINT_IDIE: CAN ID Ready Interrupt Enable
1712:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANINT_TIE2: CAN Transmit Interrupt Enable for Buffer2
1713:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANINT_TIE3: CAN Transmit Interrupt Enable for Buffer3
1714:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CANINT_FCE: FullCAN Interrupt Enable
1715:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	NewState: New state of this function, should be:
1716:LPC17xxLib/src/lpc17xx_can.c ****  * 				- ENABLE
1717:LPC17xxLib/src/lpc17xx_can.c ****  * 				- DISABLE
1718:LPC17xxLib/src/lpc17xx_can.c ****  * @return 		none
1719:LPC17xxLib/src/lpc17xx_can.c ****  *********************************************************************/
1720:LPC17xxLib/src/lpc17xx_can.c **** void CAN_IRQCmd (LPC_CAN_TypeDef* CANx, CAN_INT_EN_Type arg, FunctionalState NewState)
1721:LPC17xxLib/src/lpc17xx_can.c **** {
 3803              	 .loc 1 1721 0
 3804              	 .cfi_startproc
 3805              	 
 3806              	 
 3807              	 
 3808              	.LVL510:
1722:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CANx(CANx));
1723:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_INT_EN_TYPE(arg));
1724:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_FUNCTIONALSTATE(NewState));
1725:LPC17xxLib/src/lpc17xx_can.c **** 
1726:LPC17xxLib/src/lpc17xx_can.c **** 	if(NewState == ENABLE)
 3809              	 .loc 1 1726 0
 3810 0000 012A     	 cmp r2,#1
 3811 0002 0CD1     	 bne .L410
1727:LPC17xxLib/src/lpc17xx_can.c **** 	{
1728:LPC17xxLib/src/lpc17xx_can.c **** 		if(arg==CANINT_FCE)
 3812              	 .loc 1 1728 0
 3813 0004 0B29     	 cmp r1,#11
 3814 0006 05D1     	 bne .L411
1729:LPC17xxLib/src/lpc17xx_can.c **** 		{
1730:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF->AFMR = 0x01;
 3815              	 .loc 1 1730 0
 3816 0008 0C4B     	 ldr r3,.L416
 3817 000a 1A60     	 str r2,[r3]
1731:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF->FCANIE = 0x01;
 3818              	 .loc 1 1731 0
 3819 000c 1A62     	 str r2,[r3,#32]
1732:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF->AFMR = 0x04;
 3820              	 .loc 1 1732 0
 3821 000e 0422     	 movs r2,#4
 3822              	.LVL511:
 3823              	.L415:
1733:LPC17xxLib/src/lpc17xx_can.c **** 		}
1734:LPC17xxLib/src/lpc17xx_can.c **** 		else
1735:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->IER |= (1 << arg);
1736:LPC17xxLib/src/lpc17xx_can.c **** 	}
1737:LPC17xxLib/src/lpc17xx_can.c **** 	else
1738:LPC17xxLib/src/lpc17xx_can.c **** 	{
1739:LPC17xxLib/src/lpc17xx_can.c **** 		if(arg==CANINT_FCE){
1740:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF->AFMR = 0x01;
1741:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF->FCANIE = 0x01;
1742:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF->AFMR = 0x00;
 3824              	 .loc 1 1742 0
 3825 0010 1A60     	 str r2,[r3]
 3826 0012 7047     	 bx lr
 3827              	.LVL512:
 3828              	.L411:
1735:LPC17xxLib/src/lpc17xx_can.c **** 	}
 3829              	 .loc 1 1735 0
 3830 0014 0369     	 ldr r3,[r0,#16]
 3831 0016 8A40     	 lsls r2,r2,r1
 3832              	.LVL513:
 3833 0018 1A43     	 orrs r2,r2,r3
 3834              	.L414:
1743:LPC17xxLib/src/lpc17xx_can.c **** 		}
1744:LPC17xxLib/src/lpc17xx_can.c **** 		else
1745:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->IER &= ~(1 << arg);
 3835              	 .loc 1 1745 0
 3836 001a 0261     	 str r2,[r0,#16]
 3837 001c 7047     	 bx lr
 3838              	.LVL514:
 3839              	.L410:
1739:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF->AFMR = 0x01;
 3840              	 .loc 1 1739 0
 3841 001e 0B29     	 cmp r1,#11
 3842 0020 4FF00102 	 mov r2,#1
 3843              	.LVL515:
 3844 0024 04D1     	 bne .L413
1740:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF->FCANIE = 0x01;
 3845              	 .loc 1 1740 0
 3846 0026 054B     	 ldr r3,.L416
 3847 0028 1A60     	 str r2,[r3]
1741:LPC17xxLib/src/lpc17xx_can.c **** 			LPC_CANAF->AFMR = 0x00;
 3848              	 .loc 1 1741 0
 3849 002a 1A62     	 str r2,[r3,#32]
1742:LPC17xxLib/src/lpc17xx_can.c **** 		}
 3850              	 .loc 1 1742 0
 3851 002c 0022     	 movs r2,#0
 3852 002e EFE7     	 b .L415
 3853              	.L413:
 3854              	 .loc 1 1745 0
 3855 0030 0369     	 ldr r3,[r0,#16]
 3856 0032 8A40     	 lsls r2,r2,r1
 3857 0034 23EA0202 	 bic r2,r3,r2
 3858 0038 EFE7     	 b .L414
 3859              	.L417:
 3860 003a 00BF     	 .align 2
 3861              	.L416:
 3862 003c 00C00340 	 .word 1073987584
 3863              	 .cfi_endproc
 3864              	.LFE68:
 3866              	 .section .text.CAN_SetAFMode,"ax",%progbits
 3867              	 .align 1
 3868              	 .global CAN_SetAFMode
 3869              	 .syntax unified
 3870              	 .thumb
 3871              	 .thumb_func
 3872              	 .fpu softvfp
 3874              	CAN_SetAFMode:
 3875              	.LFB69:
1746:LPC17xxLib/src/lpc17xx_can.c **** 	}
1747:LPC17xxLib/src/lpc17xx_can.c **** }
1748:LPC17xxLib/src/lpc17xx_can.c **** 
1749:LPC17xxLib/src/lpc17xx_can.c **** /********************************************************************//**
1750:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		Setting Acceptance Filter mode
1751:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CANAFx point to LPC_CANAF_TypeDef object, should be: LPC_CANAF
1752:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	AFMode: type of AF mode that you want to set, should be:
1753:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_Normal: Normal mode
1754:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_AccOff: Acceptance Filter Off Mode
1755:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_AccBP: Acceptance Fileter Bypass Mode
1756:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_eFCAN: FullCAN Mode Enhancement
1757:LPC17xxLib/src/lpc17xx_can.c ****  * @return 		none
1758:LPC17xxLib/src/lpc17xx_can.c ****  *********************************************************************/
1759:LPC17xxLib/src/lpc17xx_can.c **** void CAN_SetAFMode (LPC_CANAF_TypeDef* CANAFx, CAN_AFMODE_Type AFMode)
1760:LPC17xxLib/src/lpc17xx_can.c **** {
 3876              	 .loc 1 1760 0
 3877              	 .cfi_startproc
 3878              	 
 3879              	 
 3880              	 
 3881              	.LVL516:
1761:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CANAFx(CANAFx));
1762:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_AFMODE_TYPE(AFMode));
1763:LPC17xxLib/src/lpc17xx_can.c **** 
1764:LPC17xxLib/src/lpc17xx_can.c **** 	switch(AFMode)
 3882              	 .loc 1 1764 0
 3883 0000 0329     	 cmp r1,#3
 3884 0002 0CD8     	 bhi .L418
 3885 0004 DFE801F0 	 tbb [pc,r1]
 3886              	.L421:
 3887 0008 02       	 .byte (.L420-.L421)/2
 3888 0009 0C       	 .byte (.L422-.L421)/2
 3889 000a 11       	 .byte (.L423-.L421)/2
 3890 000b 15       	 .byte (.L424-.L421)/2
 3891              	 .p2align 1
 3892              	.L420:
1765:LPC17xxLib/src/lpc17xx_can.c **** 	{
1766:LPC17xxLib/src/lpc17xx_can.c **** 	case CAN_Normal:
1767:LPC17xxLib/src/lpc17xx_can.c **** 		CANAFx->AFMR = 0x00;
 3893              	 .loc 1 1767 0
 3894 000c 0378     	 ldrb r3,[r0]
 3895 000e 0023     	 movs r3,#0
 3896 0010 0370     	 strb r3,[r0]
 3897              	.L426:
1768:LPC17xxLib/src/lpc17xx_can.c **** 		break;
1769:LPC17xxLib/src/lpc17xx_can.c **** 	case CAN_AccOff:
1770:LPC17xxLib/src/lpc17xx_can.c **** 		CANAFx->AFMR = 0x01;
1771:LPC17xxLib/src/lpc17xx_can.c **** 		break;
1772:LPC17xxLib/src/lpc17xx_can.c **** 	case CAN_AccBP:
1773:LPC17xxLib/src/lpc17xx_can.c **** 		CANAFx->AFMR = 0x02;
1774:LPC17xxLib/src/lpc17xx_can.c **** 		break;
1775:LPC17xxLib/src/lpc17xx_can.c **** 	case CAN_eFCAN:
1776:LPC17xxLib/src/lpc17xx_can.c **** 		CANAFx->AFMR = 0x04;
 3898              	 .loc 1 1776 0
 3899 0012 4278     	 ldrb r2,[r0,#1]
 3900 0014 4370     	 strb r3,[r0,#1]
 3901 0016 8278     	 ldrb r2,[r0,#2]
 3902 0018 8370     	 strb r3,[r0,#2]
 3903 001a C278     	 ldrb r2,[r0,#3]
 3904 001c C370     	 strb r3,[r0,#3]
 3905              	.L418:
 3906 001e 7047     	 bx lr
 3907              	.L422:
1770:LPC17xxLib/src/lpc17xx_can.c **** 		break;
 3908              	 .loc 1 1770 0
 3909 0020 0378     	 ldrb r3,[r0]
 3910 0022 0122     	 movs r2,#1
 3911 0024 0023     	 movs r3,#0
 3912              	.L425:
 3913              	 .loc 1 1776 0
 3914 0026 0270     	 strb r2,[r0]
 3915 0028 F3E7     	 b .L426
 3916              	.L423:
1773:LPC17xxLib/src/lpc17xx_can.c **** 		break;
 3917              	 .loc 1 1773 0
 3918 002a 0378     	 ldrb r3,[r0]
 3919 002c 0222     	 movs r2,#2
 3920 002e 0023     	 movs r3,#0
 3921 0030 F9E7     	 b .L425
 3922              	.L424:
 3923              	 .loc 1 1776 0
 3924 0032 0378     	 ldrb r3,[r0]
 3925 0034 0422     	 movs r2,#4
 3926 0036 0023     	 movs r3,#0
 3927 0038 F5E7     	 b .L425
 3928              	 .cfi_endproc
 3929              	.LFE69:
 3931              	 .section .text.CAN_ModeConfig,"ax",%progbits
 3932              	 .align 1
 3933              	 .global CAN_ModeConfig
 3934              	 .syntax unified
 3935              	 .thumb
 3936              	 .thumb_func
 3937              	 .fpu softvfp
 3939              	CAN_ModeConfig:
 3940              	.LFB70:
1777:LPC17xxLib/src/lpc17xx_can.c **** 		break;
1778:LPC17xxLib/src/lpc17xx_can.c **** 	}
1779:LPC17xxLib/src/lpc17xx_can.c **** }
1780:LPC17xxLib/src/lpc17xx_can.c **** 
1781:LPC17xxLib/src/lpc17xx_can.c **** /********************************************************************//**
1782:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		Enable/Disable CAN Mode
1783:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CANx pointer to LPC_CAN_TypeDef, should be:
1784:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN1: CAN1 peripheral
1785:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN2: CAN2 peripheral
1786:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	mode: type of CAN mode that you want to enable/disable, should be:
1787:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_OPERATING_MODE: Normal Operating Mode
1788:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_RESET_MODE: Reset Mode
1789:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_LISTENONLY_MODE: Listen Only Mode
1790:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_SELFTEST_MODE: Self Test Mode
1791:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_TXPRIORITY_MODE: Transmit Priority Mode
1792:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_SLEEP_MODE: Sleep Mode
1793:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_RXPOLARITY_MODE: Receive Polarity Mode
1794:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_TEST_MODE: Test Mode
1795:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	NewState: New State of this function, should be:
1796:LPC17xxLib/src/lpc17xx_can.c ****  * 				- ENABLE
1797:LPC17xxLib/src/lpc17xx_can.c ****  * 				- DISABLE
1798:LPC17xxLib/src/lpc17xx_can.c ****  * @return 		none
1799:LPC17xxLib/src/lpc17xx_can.c ****  *********************************************************************/
1800:LPC17xxLib/src/lpc17xx_can.c **** void CAN_ModeConfig(LPC_CAN_TypeDef* CANx, CAN_MODE_Type mode, FunctionalState NewState)
1801:LPC17xxLib/src/lpc17xx_can.c **** {
 3941              	 .loc 1 1801 0
 3942              	 .cfi_startproc
 3943              	 
 3944              	 
 3945              	 
 3946              	.LVL517:
1802:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CANx(CANx));
1803:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_MODE_TYPE(mode));
1804:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_FUNCTIONALSTATE(NewState));
1805:LPC17xxLib/src/lpc17xx_can.c **** 
1806:LPC17xxLib/src/lpc17xx_can.c **** 	switch(mode)
 3947              	 .loc 1 1806 0
 3948 0000 0729     	 cmp r1,#7
 3949 0002 15D8     	 bhi .L427
 3950 0004 DFE801F0 	 tbb [pc,r1]
 3951              	.L430:
 3952 0008 04       	 .byte (.L429-.L430)/2
 3953 0009 0E       	 .byte (.L431-.L430)/2
 3954 000a 15       	 .byte (.L432-.L430)/2
 3955 000b 25       	 .byte (.L433-.L430)/2
 3956 000c 31       	 .byte (.L434-.L430)/2
 3957 000d 39       	 .byte (.L435-.L430)/2
 3958 000e 41       	 .byte (.L436-.L430)/2
 3959 000f 49       	 .byte (.L437-.L430)/2
 3960              	 .p2align 1
 3961              	.L429:
1807:LPC17xxLib/src/lpc17xx_can.c **** 	{
1808:LPC17xxLib/src/lpc17xx_can.c **** 	case CAN_OPERATING_MODE:
1809:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->MOD = 0x00;
 3962              	 .loc 1 1809 0
 3963 0010 0378     	 ldrb r3,[r0]
 3964 0012 0023     	 movs r3,#0
 3965 0014 0370     	 strb r3,[r0]
 3966 0016 4278     	 ldrb r2,[r0,#1]
 3967              	.LVL518:
 3968 0018 4370     	 strb r3,[r0,#1]
 3969 001a 8278     	 ldrb r2,[r0,#2]
 3970 001c 8370     	 strb r3,[r0,#2]
 3971 001e C278     	 ldrb r2,[r0,#3]
 3972 0020 C370     	 strb r3,[r0,#3]
1810:LPC17xxLib/src/lpc17xx_can.c **** 		break;
 3973              	 .loc 1 1810 0
 3974 0022 7047     	 bx lr
 3975              	.LVL519:
 3976              	.L431:
1811:LPC17xxLib/src/lpc17xx_can.c **** 	case CAN_RESET_MODE:
1812:LPC17xxLib/src/lpc17xx_can.c **** 		if(NewState == ENABLE)
 3977              	 .loc 1 1812 0
 3978 0024 012A     	 cmp r2,#1
1813:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD |=CAN_MOD_RM;
 3979              	 .loc 1 1813 0
 3980 0026 0368     	 ldr r3,[r0]
1812:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD |=CAN_MOD_RM;
 3981              	 .loc 1 1812 0
 3982 0028 10D1     	 bne .L450
 3983              	 .loc 1 1813 0
 3984 002a 43F00103 	 orr r3,r3,#1
 3985              	.L449:
1814:LPC17xxLib/src/lpc17xx_can.c **** 		else
1815:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD &= ~CAN_MOD_RM;
1816:LPC17xxLib/src/lpc17xx_can.c **** 		break;
1817:LPC17xxLib/src/lpc17xx_can.c **** 	case CAN_LISTENONLY_MODE:
1818:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->MOD |=CAN_MOD_RM;//Enter Reset mode
1819:LPC17xxLib/src/lpc17xx_can.c **** 		if(NewState == ENABLE)
1820:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD |=CAN_MOD_LOM;
1821:LPC17xxLib/src/lpc17xx_can.c **** 		else
1822:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD &=~CAN_MOD_LOM;
1823:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->MOD &=~CAN_MOD_RM;//Release Reset mode
1824:LPC17xxLib/src/lpc17xx_can.c **** 		break;
1825:LPC17xxLib/src/lpc17xx_can.c **** 	case CAN_SELFTEST_MODE:
1826:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->MOD |=CAN_MOD_RM;//Enter Reset mode
1827:LPC17xxLib/src/lpc17xx_can.c **** 		if(NewState == ENABLE)
1828:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD |=CAN_MOD_STM;
1829:LPC17xxLib/src/lpc17xx_can.c **** 		else
1830:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD &=~CAN_MOD_STM;
1831:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->MOD &=~CAN_MOD_RM;//Release Reset mode
1832:LPC17xxLib/src/lpc17xx_can.c **** 		break;
1833:LPC17xxLib/src/lpc17xx_can.c **** 	case CAN_TXPRIORITY_MODE:
1834:LPC17xxLib/src/lpc17xx_can.c **** 		if(NewState == ENABLE)
1835:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD |=CAN_MOD_TPM;
1836:LPC17xxLib/src/lpc17xx_can.c **** 		else
1837:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD &=~CAN_MOD_TPM;
1838:LPC17xxLib/src/lpc17xx_can.c **** 		break;
1839:LPC17xxLib/src/lpc17xx_can.c **** 	case CAN_SLEEP_MODE:
1840:LPC17xxLib/src/lpc17xx_can.c **** 		if(NewState == ENABLE)
1841:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD |=CAN_MOD_SM;
1842:LPC17xxLib/src/lpc17xx_can.c **** 		else
1843:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD &=~CAN_MOD_SM;
1844:LPC17xxLib/src/lpc17xx_can.c **** 		break;
1845:LPC17xxLib/src/lpc17xx_can.c **** 	case CAN_RXPOLARITY_MODE:
1846:LPC17xxLib/src/lpc17xx_can.c **** 		if(NewState == ENABLE)
1847:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD |=CAN_MOD_RPM;
1848:LPC17xxLib/src/lpc17xx_can.c **** 		else
1849:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD &=~CAN_MOD_RPM;
1850:LPC17xxLib/src/lpc17xx_can.c **** 		break;
1851:LPC17xxLib/src/lpc17xx_can.c **** 	case CAN_TEST_MODE:
1852:LPC17xxLib/src/lpc17xx_can.c **** 		if(NewState == ENABLE)
1853:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD |=CAN_MOD_TM;
1854:LPC17xxLib/src/lpc17xx_can.c **** 		else
1855:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD &=~CAN_MOD_TM;
 3986              	 .loc 1 1855 0
 3987 002e 0360     	 str r3,[r0]
 3988              	.L427:
 3989 0030 7047     	 bx lr
 3990              	.L432:
1818:LPC17xxLib/src/lpc17xx_can.c **** 		if(NewState == ENABLE)
 3991              	 .loc 1 1818 0
 3992 0032 0368     	 ldr r3,[r0]
1819:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD |=CAN_MOD_LOM;
 3993              	 .loc 1 1819 0
 3994 0034 012A     	 cmp r2,#1
1818:LPC17xxLib/src/lpc17xx_can.c **** 		if(NewState == ENABLE)
 3995              	 .loc 1 1818 0
 3996 0036 43F00103 	 orr r3,r3,#1
 3997 003a 0360     	 str r3,[r0]
1820:LPC17xxLib/src/lpc17xx_can.c **** 		else
 3998              	 .loc 1 1820 0
 3999 003c 0368     	 ldr r3,[r0]
 4000 003e 0CBF     	 ite eq
 4001 0040 43F00203 	 orreq r3,r3,#2
1822:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->MOD &=~CAN_MOD_RM;//Release Reset mode
 4002              	 .loc 1 1822 0
 4003 0044 23F00203 	 bicne r3,r3,#2
 4004              	.L448:
1830:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->MOD &=~CAN_MOD_RM;//Release Reset mode
 4005              	 .loc 1 1830 0
 4006 0048 0360     	 str r3,[r0]
1831:LPC17xxLib/src/lpc17xx_can.c **** 		break;
 4007              	 .loc 1 1831 0
 4008 004a 0368     	 ldr r3,[r0]
 4009              	.L450:
 4010 004c 23F00103 	 bic r3,r3,#1
 4011 0050 EDE7     	 b .L449
 4012              	.L433:
1826:LPC17xxLib/src/lpc17xx_can.c **** 		if(NewState == ENABLE)
 4013              	 .loc 1 1826 0
 4014 0052 0368     	 ldr r3,[r0]
1827:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD |=CAN_MOD_STM;
 4015              	 .loc 1 1827 0
 4016 0054 012A     	 cmp r2,#1
1826:LPC17xxLib/src/lpc17xx_can.c **** 		if(NewState == ENABLE)
 4017              	 .loc 1 1826 0
 4018 0056 43F00103 	 orr r3,r3,#1
 4019 005a 0360     	 str r3,[r0]
1828:LPC17xxLib/src/lpc17xx_can.c **** 		else
 4020              	 .loc 1 1828 0
 4021 005c 0368     	 ldr r3,[r0]
 4022 005e 0CBF     	 ite eq
 4023 0060 43F00403 	 orreq r3,r3,#4
1830:LPC17xxLib/src/lpc17xx_can.c **** 		CANx->MOD &=~CAN_MOD_RM;//Release Reset mode
 4024              	 .loc 1 1830 0
 4025 0064 23F00403 	 bicne r3,r3,#4
 4026 0068 EEE7     	 b .L448
 4027              	.L434:
1835:LPC17xxLib/src/lpc17xx_can.c **** 		else
 4028              	 .loc 1 1835 0
 4029 006a 0368     	 ldr r3,[r0]
1834:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD |=CAN_MOD_TPM;
 4030              	 .loc 1 1834 0
 4031 006c 012A     	 cmp r2,#1
1835:LPC17xxLib/src/lpc17xx_can.c **** 		else
 4032              	 .loc 1 1835 0
 4033 006e 0CBF     	 ite eq
 4034 0070 43F00803 	 orreq r3,r3,#8
1837:LPC17xxLib/src/lpc17xx_can.c **** 		break;
 4035              	 .loc 1 1837 0
 4036 0074 23F00803 	 bicne r3,r3,#8
 4037 0078 D9E7     	 b .L449
 4038              	.L435:
1841:LPC17xxLib/src/lpc17xx_can.c **** 		else
 4039              	 .loc 1 1841 0
 4040 007a 0368     	 ldr r3,[r0]
1840:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD |=CAN_MOD_SM;
 4041              	 .loc 1 1840 0
 4042 007c 012A     	 cmp r2,#1
1841:LPC17xxLib/src/lpc17xx_can.c **** 		else
 4043              	 .loc 1 1841 0
 4044 007e 0CBF     	 ite eq
 4045 0080 43F01003 	 orreq r3,r3,#16
1843:LPC17xxLib/src/lpc17xx_can.c **** 		break;
 4046              	 .loc 1 1843 0
 4047 0084 23F01003 	 bicne r3,r3,#16
 4048 0088 D1E7     	 b .L449
 4049              	.L436:
1847:LPC17xxLib/src/lpc17xx_can.c **** 		else
 4050              	 .loc 1 1847 0
 4051 008a 0368     	 ldr r3,[r0]
1846:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD |=CAN_MOD_RPM;
 4052              	 .loc 1 1846 0
 4053 008c 012A     	 cmp r2,#1
1847:LPC17xxLib/src/lpc17xx_can.c **** 		else
 4054              	 .loc 1 1847 0
 4055 008e 0CBF     	 ite eq
 4056 0090 43F02003 	 orreq r3,r3,#32
1849:LPC17xxLib/src/lpc17xx_can.c **** 		break;
 4057              	 .loc 1 1849 0
 4058 0094 23F02003 	 bicne r3,r3,#32
 4059 0098 C9E7     	 b .L449
 4060              	.L437:
1853:LPC17xxLib/src/lpc17xx_can.c **** 		else
 4061              	 .loc 1 1853 0
 4062 009a 0368     	 ldr r3,[r0]
1852:LPC17xxLib/src/lpc17xx_can.c **** 			CANx->MOD |=CAN_MOD_TM;
 4063              	 .loc 1 1852 0
 4064 009c 012A     	 cmp r2,#1
1853:LPC17xxLib/src/lpc17xx_can.c **** 		else
 4065              	 .loc 1 1853 0
 4066 009e 0CBF     	 ite eq
 4067 00a0 43F08003 	 orreq r3,r3,#128
 4068              	 .loc 1 1855 0
 4069 00a4 23F08003 	 bicne r3,r3,#128
 4070 00a8 C1E7     	 b .L449
 4071              	 .cfi_endproc
 4072              	.LFE70:
 4074              	 .section .text.CAN_SetCommand,"ax",%progbits
 4075              	 .align 1
 4076              	 .global CAN_SetCommand
 4077              	 .syntax unified
 4078              	 .thumb
 4079              	 .thumb_func
 4080              	 .fpu softvfp
 4082              	CAN_SetCommand:
 4083              	.LFB71:
1856:LPC17xxLib/src/lpc17xx_can.c **** 		break;
1857:LPC17xxLib/src/lpc17xx_can.c **** 	}
1858:LPC17xxLib/src/lpc17xx_can.c **** }
1859:LPC17xxLib/src/lpc17xx_can.c **** /*********************************************************************//**
1860:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		Set CAN command request
1861:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CANx point to CAN peripheral selected, should be:
1862:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN1: CAN1 peripheral
1863:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN2: CAN2 peripheral
1864:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CMRType	command request type, should be:
1865:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_CMR_TR: Transmission request
1866:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_CMR_AT: Abort Transmission request
1867:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_CMR_RRB: Release Receive Buffer request
1868:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_CMR_CDO: Clear Data Overrun request
1869:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_CMR_SRR: Self Reception request
1870:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_CMR_STB1: Select Tx Buffer 1 request
1871:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_CMR_STB2: Select Tx Buffer 2 request
1872:LPC17xxLib/src/lpc17xx_can.c ****  * 				- CAN_CMR_STB3: Select Tx Buffer 3 request
1873:LPC17xxLib/src/lpc17xx_can.c ****  * @return		CANICR (CAN interrupt and Capture register) value
1874:LPC17xxLib/src/lpc17xx_can.c ****  **********************************************************************/
1875:LPC17xxLib/src/lpc17xx_can.c **** void CAN_SetCommand(LPC_CAN_TypeDef* CANx, uint32_t CMRType)
1876:LPC17xxLib/src/lpc17xx_can.c **** {
 4084              	 .loc 1 1876 0
 4085              	 .cfi_startproc
 4086              	 
 4087              	 
 4088              	 
 4089              	.LVL520:
1877:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CANx(CANx));
1878:LPC17xxLib/src/lpc17xx_can.c **** 	CANx->CMR |= CMRType;
 4090              	 .loc 1 1878 0
 4091 0000 4368     	 ldr r3,[r0,#4]
 4092 0002 1943     	 orrs r1,r1,r3
 4093              	.LVL521:
 4094 0004 4160     	 str r1,[r0,#4]
 4095 0006 7047     	 bx lr
 4096              	 .cfi_endproc
 4097              	.LFE71:
 4099              	 .section .text.CAN_IntGetStatus,"ax",%progbits
 4100              	 .align 1
 4101              	 .global CAN_IntGetStatus
 4102              	 .syntax unified
 4103              	 .thumb
 4104              	 .thumb_func
 4105              	 .fpu softvfp
 4107              	CAN_IntGetStatus:
 4108              	.LFB72:
1879:LPC17xxLib/src/lpc17xx_can.c **** }
1880:LPC17xxLib/src/lpc17xx_can.c **** 
1881:LPC17xxLib/src/lpc17xx_can.c **** /*********************************************************************//**
1882:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		Get CAN interrupt status
1883:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CANx point to CAN peripheral selected, should be:
1884:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN1: CAN1 peripheral
1885:LPC17xxLib/src/lpc17xx_can.c ****  * 				- LPC_CAN2: CAN2 peripheral
1886:LPC17xxLib/src/lpc17xx_can.c ****  * @return		CANICR (CAN interrupt and Capture register) value
1887:LPC17xxLib/src/lpc17xx_can.c ****  **********************************************************************/
1888:LPC17xxLib/src/lpc17xx_can.c **** uint32_t CAN_IntGetStatus(LPC_CAN_TypeDef* CANx)
1889:LPC17xxLib/src/lpc17xx_can.c **** {
 4109              	 .loc 1 1889 0
 4110              	 .cfi_startproc
 4111              	 
 4112              	 
 4113              	 
 4114              	.LVL522:
1890:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CANx(CANx));
1891:LPC17xxLib/src/lpc17xx_can.c **** 	return CANx->ICR;
 4115              	 .loc 1 1891 0
 4116 0000 C068     	 ldr r0,[r0,#12]
 4117              	.LVL523:
1892:LPC17xxLib/src/lpc17xx_can.c **** }
 4118              	 .loc 1 1892 0
 4119 0002 7047     	 bx lr
 4120              	 .cfi_endproc
 4121              	.LFE72:
 4123              	 .section .text.CAN_FullCANIntGetStatus,"ax",%progbits
 4124              	 .align 1
 4125              	 .global CAN_FullCANIntGetStatus
 4126              	 .syntax unified
 4127              	 .thumb
 4128              	 .thumb_func
 4129              	 .fpu softvfp
 4131              	CAN_FullCANIntGetStatus:
 4132              	.LFB73:
1893:LPC17xxLib/src/lpc17xx_can.c **** 
1894:LPC17xxLib/src/lpc17xx_can.c **** /*********************************************************************//**
1895:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		Check if FullCAN interrupt enable or not
1896:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CANAFx point to LPC_CANAF_TypeDef object, should be: LPC_CANAF
1897:LPC17xxLib/src/lpc17xx_can.c ****  * @return		IntStatus, could be:
1898:LPC17xxLib/src/lpc17xx_can.c ****  * 				- SET: if FullCAN interrupt is enable
1899:LPC17xxLib/src/lpc17xx_can.c ****  * 				- RESET: if FullCAN interrupt is disable
1900:LPC17xxLib/src/lpc17xx_can.c ****  **********************************************************************/
1901:LPC17xxLib/src/lpc17xx_can.c **** IntStatus CAN_FullCANIntGetStatus (LPC_CANAF_TypeDef* CANAFx)
1902:LPC17xxLib/src/lpc17xx_can.c **** {
 4133              	 .loc 1 1902 0
 4134              	 .cfi_startproc
 4135              	 
 4136              	 
 4137              	 
 4138              	.LVL524:
1903:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM( PARAM_CANAFx(CANAFx));
1904:LPC17xxLib/src/lpc17xx_can.c **** 	if (CANAFx->FCANIE)
 4139              	 .loc 1 1904 0
 4140 0000 006A     	 ldr r0,[r0,#32]
 4141              	.LVL525:
1905:LPC17xxLib/src/lpc17xx_can.c **** 		return SET;
1906:LPC17xxLib/src/lpc17xx_can.c **** 	return RESET;
1907:LPC17xxLib/src/lpc17xx_can.c **** }
 4142              	 .loc 1 1907 0
 4143 0002 0030     	 adds r0,r0,#0
 4144 0004 18BF     	 it ne
 4145 0006 0120     	 movne r0,#1
 4146 0008 7047     	 bx lr
 4147              	 .cfi_endproc
 4148              	.LFE73:
 4150              	 .section .text.CAN_FullCANPendGetStatus,"ax",%progbits
 4151              	 .align 1
 4152              	 .global CAN_FullCANPendGetStatus
 4153              	 .syntax unified
 4154              	 .thumb
 4155              	 .thumb_func
 4156              	 .fpu softvfp
 4158              	CAN_FullCANPendGetStatus:
 4159              	.LFB74:
1908:LPC17xxLib/src/lpc17xx_can.c **** 
1909:LPC17xxLib/src/lpc17xx_can.c **** /*********************************************************************//**
1910:LPC17xxLib/src/lpc17xx_can.c ****  * @brief		Get value of FullCAN interrupt and capture register
1911:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	CANAFx point to LPC_CANAF_TypeDef object, should be: LPC_CANAF
1912:LPC17xxLib/src/lpc17xx_can.c ****  * @param[in]	type: FullCAN IC type, should be:
1913:LPC17xxLib/src/lpc17xx_can.c ****  * 				- FULLCAN_IC0: FullCAN Interrupt Capture 0
1914:LPC17xxLib/src/lpc17xx_can.c ****  * 				- FULLCAN_IC1: FullCAN Interrupt Capture 1
1915:LPC17xxLib/src/lpc17xx_can.c ****  * @return		FCANIC0 or FCANIC1 (FullCAN interrupt and Capture register) value
1916:LPC17xxLib/src/lpc17xx_can.c ****  **********************************************************************/
1917:LPC17xxLib/src/lpc17xx_can.c **** uint32_t CAN_FullCANPendGetStatus(LPC_CANAF_TypeDef* CANAFx, FullCAN_IC_Type type)
1918:LPC17xxLib/src/lpc17xx_can.c **** {
 4160              	 .loc 1 1918 0
 4161              	 .cfi_startproc
 4162              	 
 4163              	 
 4164              	 
 4165              	.LVL526:
1919:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM(PARAM_CANAFx(CANAFx));
1920:LPC17xxLib/src/lpc17xx_can.c **** 	CHECK_PARAM( PARAM_FULLCAN_IC(type));
1921:LPC17xxLib/src/lpc17xx_can.c **** 	if (type == FULLCAN_IC0)
 4166              	 .loc 1 1921 0
 4167 0000 09B9     	 cbnz r1,.L455
1922:LPC17xxLib/src/lpc17xx_can.c **** 		return CANAFx->FCANIC0;
 4168              	 .loc 1 1922 0
 4169 0002 406A     	 ldr r0,[r0,#36]
 4170              	.LVL527:
 4171 0004 7047     	 bx lr
 4172              	.LVL528:
 4173              	.L455:
1923:LPC17xxLib/src/lpc17xx_can.c **** 	return CANAFx->FCANIC1;
 4174              	 .loc 1 1923 0
 4175 0006 806A     	 ldr r0,[r0,#40]
 4176              	.LVL529:
1924:LPC17xxLib/src/lpc17xx_can.c **** }
 4177              	 .loc 1 1924 0
 4178 0008 7047     	 bx lr
 4179              	 .cfi_endproc
 4180              	.LFE74:
 4182              	 .global CANAF_gext_cnt
 4183              	 .global CANAF_ext_cnt
 4184              	 .global CANAF_gstd_cnt
 4185              	 .global CANAF_std_cnt
 4186              	 .global CANAF_FullCAN_cnt
 4187              	 .comm FULLCAN_ENABLE,1,1
 4188              	 .section .bss.CANAF_FullCAN_cnt,"aw",%nobits
 4189              	 .align 1
 4190              	 .set .LANCHOR0,.+0
 4193              	CANAF_FullCAN_cnt:
 4194 0000 0000     	 .space 2
 4195              	 .section .bss.CANAF_ext_cnt,"aw",%nobits
 4196              	 .align 1
 4197              	 .set .LANCHOR3,.+0
 4200              	CANAF_ext_cnt:
 4201 0000 0000     	 .space 2
 4202              	 .section .bss.CANAF_gext_cnt,"aw",%nobits
 4203              	 .align 1
 4204              	 .set .LANCHOR4,.+0
 4207              	CANAF_gext_cnt:
 4208 0000 0000     	 .space 2
 4209              	 .section .bss.CANAF_gstd_cnt,"aw",%nobits
 4210              	 .align 1
 4211              	 .set .LANCHOR2,.+0
 4214              	CANAF_gstd_cnt:
 4215 0000 0000     	 .space 2
 4216              	 .section .bss.CANAF_std_cnt,"aw",%nobits
 4217              	 .align 1
 4218              	 .set .LANCHOR1,.+0
 4221              	CANAF_std_cnt:
 4222 0000 0000     	 .space 2
 4223              	 .text
 4224              	.Letext0:
 4225              	 .file 2 "/usr/include/newlib/machine/_default_types.h"
 4226              	 .file 3 "/usr/include/newlib/sys/_stdint.h"
 4227              	 .file 4 "CMSISv2p00_LPC17xx/inc/core_cm3.h"
 4228              	 .file 5 "CMSISv2p00_LPC17xx/inc/system_LPC17xx.h"
 4229              	 .file 6 "CMSISv2p00_LPC17xx/inc/LPC17xx.h"
 4230              	 .file 7 "LPC17xxLib/inc/lpc_types.h"
 4231              	 .file 8 "LPC17xxLib/inc/lpc17xx_can.h"
 4232              	 .file 9 "LPC17xxLib/inc/lpc17xx_clkpwr.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 lpc17xx_can.c
    {standard input}:16     .text.CAN_Init:0000000000000000 $t
    {standard input}:23     .text.CAN_Init:0000000000000000 CAN_Init
    {standard input}:283    .text.CAN_Init:000000000000011c $d
    {standard input}:295    .text.CAN_DeInit:0000000000000000 $t
    {standard input}:302    .text.CAN_DeInit:0000000000000000 CAN_DeInit
    {standard input}:329    .text.CAN_DeInit:0000000000000018 $d
    {standard input}:335    .text.CAN_SetupAFLUT:0000000000000000 $t
    {standard input}:342    .text.CAN_SetupAFLUT:0000000000000000 CAN_SetupAFLUT
    {standard input}:830    .text.CAN_SetupAFLUT:00000000000002b4 $d
                            *COM*:0000000000000001 FULLCAN_ENABLE
    {standard input}:840    .text.CAN_SetupAFLUT:00000000000002d4 $t
    {standard input}:1113   .text.CAN_SetupAFLUT:0000000000000454 $d
    {standard input}:1118   .text.CAN_LoadExplicitEntry:0000000000000000 $t
    {standard input}:1125   .text.CAN_LoadExplicitEntry:0000000000000000 CAN_LoadExplicitEntry
    {standard input}:1558   .text.CAN_LoadExplicitEntry:000000000000023c $d
    {standard input}:1570   .text.CAN_LoadFullCANEntry:0000000000000000 $t
    {standard input}:1577   .text.CAN_LoadFullCANEntry:0000000000000000 CAN_LoadFullCANEntry
    {standard input}:2024   .text.CAN_LoadFullCANEntry:000000000000027c $d
    {standard input}:2036   .text.CAN_LoadGroupEntry:0000000000000000 $t
    {standard input}:2043   .text.CAN_LoadGroupEntry:0000000000000000 CAN_LoadGroupEntry
    {standard input}:2500   .text.CAN_LoadGroupEntry:0000000000000248 $d
    {standard input}:2512   .text.CAN_RemoveEntry:0000000000000000 $t
    {standard input}:2519   .text.CAN_RemoveEntry:0000000000000000 CAN_RemoveEntry
    {standard input}:3087   .text.CAN_RemoveEntry:00000000000002fc $d
    {standard input}:3098   .text.CAN_RemoveEntry:000000000000031c $t
    {standard input}:3217   .text.CAN_RemoveEntry:00000000000003a8 $d
    {standard input}:3223   .text.CAN_SendMsg:0000000000000000 $t
    {standard input}:3230   .text.CAN_SendMsg:0000000000000000 CAN_SendMsg
    {standard input}:3425   .text.CAN_ReceiveMsg:0000000000000000 $t
    {standard input}:3432   .text.CAN_ReceiveMsg:0000000000000000 CAN_ReceiveMsg
    {standard input}:3532   .text.FCAN_ReadObj:0000000000000000 $t
    {standard input}:3539   .text.FCAN_ReadObj:0000000000000000 FCAN_ReadObj
    {standard input}:3701   .text.FCAN_ReadObj:00000000000000c0 $d
    {standard input}:3706   .text.CAN_GetCTRLStatus:0000000000000000 $t
    {standard input}:3713   .text.CAN_GetCTRLStatus:0000000000000000 CAN_GetCTRLStatus
    {standard input}:3754   .text.CAN_GetCRStatus:0000000000000000 $t
    {standard input}:3761   .text.CAN_GetCRStatus:0000000000000000 CAN_GetCRStatus
    {standard input}:3794   .text.CAN_IRQCmd:0000000000000000 $t
    {standard input}:3801   .text.CAN_IRQCmd:0000000000000000 CAN_IRQCmd
    {standard input}:3862   .text.CAN_IRQCmd:000000000000003c $d
    {standard input}:3867   .text.CAN_SetAFMode:0000000000000000 $t
    {standard input}:3874   .text.CAN_SetAFMode:0000000000000000 CAN_SetAFMode
    {standard input}:3887   .text.CAN_SetAFMode:0000000000000008 $d
    {standard input}:3891   .text.CAN_SetAFMode:000000000000000c $t
    {standard input}:3932   .text.CAN_ModeConfig:0000000000000000 $t
    {standard input}:3939   .text.CAN_ModeConfig:0000000000000000 CAN_ModeConfig
    {standard input}:3952   .text.CAN_ModeConfig:0000000000000008 $d
    {standard input}:3960   .text.CAN_ModeConfig:0000000000000010 $t
    {standard input}:4075   .text.CAN_SetCommand:0000000000000000 $t
    {standard input}:4082   .text.CAN_SetCommand:0000000000000000 CAN_SetCommand
    {standard input}:4100   .text.CAN_IntGetStatus:0000000000000000 $t
    {standard input}:4107   .text.CAN_IntGetStatus:0000000000000000 CAN_IntGetStatus
    {standard input}:4124   .text.CAN_FullCANIntGetStatus:0000000000000000 $t
    {standard input}:4131   .text.CAN_FullCANIntGetStatus:0000000000000000 CAN_FullCANIntGetStatus
    {standard input}:4151   .text.CAN_FullCANPendGetStatus:0000000000000000 $t
    {standard input}:4158   .text.CAN_FullCANPendGetStatus:0000000000000000 CAN_FullCANPendGetStatus
    {standard input}:4207   .bss.CANAF_gext_cnt:0000000000000000 CANAF_gext_cnt
    {standard input}:4200   .bss.CANAF_ext_cnt:0000000000000000 CANAF_ext_cnt
    {standard input}:4214   .bss.CANAF_gstd_cnt:0000000000000000 CANAF_gstd_cnt
    {standard input}:4221   .bss.CANAF_std_cnt:0000000000000000 CANAF_std_cnt
    {standard input}:4193   .bss.CANAF_FullCAN_cnt:0000000000000000 CANAF_FullCAN_cnt
    {standard input}:4189   .bss.CANAF_FullCAN_cnt:0000000000000000 $d
    {standard input}:4196   .bss.CANAF_ext_cnt:0000000000000000 $d
    {standard input}:4203   .bss.CANAF_gext_cnt:0000000000000000 $d
    {standard input}:4210   .bss.CANAF_gstd_cnt:0000000000000000 $d
    {standard input}:4217   .bss.CANAF_std_cnt:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
CLKPWR_ConfigPPWR
CLKPWR_SetPCLKDiv
CLKPWR_GetPCLK
